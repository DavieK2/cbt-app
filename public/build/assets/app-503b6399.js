function Fk(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const jk="modulepreload",Bk=function(r){return"/build/"+r},k4={},c0=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Bk(i),i in k4)return;k4[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":jk,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function Bt(){}const cg=r=>r;function T1(r,e){for(const t in e)r[t]=e[t];return r}function V8(r){return r()}function S4(){return Object.create(null)}function Wr(r){r.forEach(V8)}function A0(r){return typeof r=="function"}function xt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Ud;function la(r,e){return Ud||(Ud=document.createElement("a")),Ud.href=e,r===Ud.href}function zk(r){return Object.keys(r).length===0}function U8(r,...e){if(r==null)return Bt;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function cn(r,e,t){r.$$.on_destroy.push(U8(e,t))}function Oo(r,e,t,n){if(r){const s=W8(r,e,t,n);return r[0](s)}}function W8(r,e,t,n){return r[1]&&n?T1(t.ctx.slice(),r[1](n(e))):t.ctx}function Io(r,e,t,n){if(r[2]&&n){const s=r[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Eo(r,e,t,n,s,i){if(s){const o=W8(e,t,n,i);r.p(o,s)}}function Po(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function mn(r){return r&&A0(r.destroy)?r.destroy:Bt}const Y8=typeof window<"u";let Q8=Y8?()=>window.performance.now():()=>Date.now(),ug=Y8?r=>requestAnimationFrame(r):Bt;const Qu=new Set;function G8(r){Qu.forEach(e=>{e.c(r)||(Qu.delete(e),e.f())}),Qu.size!==0&&ug(G8)}function J8(r){let e;return Qu.size===0&&ug(G8),{promise:new Promise(t=>{Qu.add(e={c:r,f:t})}),abort(){Qu.delete(e)}}}function m(r,e){r.appendChild(e)}function K8(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function qk(r){const e=x("style");return Hk(K8(r),e),e.sheet}function Hk(r,e){return m(r.head||r,e),e.sheet}function oe(r,e,t){r.insertBefore(e,t||null)}function ie(r){r.parentNode&&r.parentNode.removeChild(r)}function gr(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function x(r){return document.createElement(r)}function $t(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Be(r){return document.createTextNode(r)}function I(){return Be(" ")}function cr(){return Be("")}function ht(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function ad(r){return function(e){return e.preventDefault(),r.call(this,e)}}function b(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Vk(r,e,t){r.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function Uk(r,e,t){const n=new Set;for(let s=0;s<r.length;s+=1)r[s].checked&&n.add(r[s].__value);return t||n.delete(e),Array.from(n)}function Wk(r){let e;return{p(...t){e=t,e.forEach(n=>r.push(n))},r(){e.forEach(t=>r.splice(r.indexOf(t),1))}}}function Yk(r){return Array.from(r.childNodes)}function rt(r,e){e=""+e,r.data!==e&&(r.data=e)}function qu(r,e){r.value=e??""}function X8(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Wd(r,e,t){for(let n=0;n<r.options.length;n+=1){const s=r.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function A4(r){const e=r.querySelector(":checked");return e&&e.__value}function Z8(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(r,t,n,e),s}class Qk{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=$t(t.nodeName):this.e=x(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)oe(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(ie)}}function u0(r,e){return new r(e)}const zh=new Map;let qh=0;function Gk(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function Jk(r,e){const t={stylesheet:qk(e),rules:{}};return zh.set(r,t),t}function ey(r,e,t,n,s,i,o,a=0){const l=16.666/n;let c=`{
`;for(let w=0;w<=1;w+=l){const v=e+(t-e)*i(w);c+=w*100+`%{${o(v,1-v)}}
`}const u=c+`100% {${o(t,1-t)}}
}`,f=`__svelte_${Gk(u)}_${a}`,h=K8(r),{stylesheet:d,rules:p}=zh.get(h)||Jk(h,r);p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=r.style.animation||"";return r.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${s}ms 1 both`,qh+=1,f}function Jm(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-n.length;s&&(r.style.animation=n.join(", "),qh-=s,qh||Kk())}function Kk(){ug(()=>{qh||(zh.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&ie(e)}),zh.clear())})}let Rf;function Sf(r){Rf=r}function ty(){if(!Rf)throw new Error("Function called outside component initialization");return Rf}function br(r){ty().$$.on_mount.push(r)}function Ks(){const r=ty();return(e,t,{cancelable:n=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=Z8(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function sc(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Pu=[],zr=[];let Gu=[];const T4=[],Xk=Promise.resolve();let Km=!1;function Zk(){Km||(Km=!0,Xk.then(en))}function so(r){Gu.push(r)}const Rp=new Set;let Au=0;function en(){if(Au!==0)return;const r=Rf;do{try{for(;Au<Pu.length;){const e=Pu[Au];Au++,Sf(e),eS(e.$$)}}catch(e){throw Pu.length=0,Au=0,e}for(Sf(null),Pu.length=0,Au=0;zr.length;)zr.pop()();for(let e=0;e<Gu.length;e+=1){const t=Gu[e];Rp.has(t)||(Rp.add(t),t())}Gu.length=0}while(Pu.length);for(;T4.length;)T4.pop()();Km=!1,Rp.clear(),Sf(r)}function eS(r){if(r.fragment!==null){r.update(),Wr(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(so)}}function tS(r){const e=[],t=[];Gu.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Gu=e}let lf;function ry(){return lf||(lf=Promise.resolve(),lf.then(()=>{lf=null})),lf}function Hh(r,e,t){r.dispatchEvent(Z8(`${e?"intro":"outro"}${t}`))}const wh=new Set;let Fl;function ct(){Fl={r:0,c:[],p:Fl}}function ut(){Fl.r||Wr(Fl.c),Fl=Fl.p}function R(r,e){r&&r.i&&(wh.delete(r),r.i(e))}function z(r,e,t,n){if(r&&r.o){if(wh.has(r))return;wh.add(r),Fl.c.push(()=>{wh.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const ny={duration:0};function ld(r,e,t){const n={direction:"in"};let s=e(r,t,n),i=!1,o,a,l=0;function c(){o&&Jm(r,o)}function u(){const{delay:h=0,duration:d=300,easing:p=cg,tick:g=Bt,css:w}=s||ny;w&&(o=ey(r,0,1,d,h,p,w,l++)),g(0,1);const v=Q8()+h,_=v+d;a&&a.abort(),i=!0,so(()=>Hh(r,!0,"start")),a=J8(k=>{if(i){if(k>=_)return g(1,0),Hh(r,!0,"end"),c(),i=!1;if(k>=v){const A=p((k-v)/d);g(A,1-A)}}return i})}let f=!1;return{start(){f||(f=!0,Jm(r),A0(s)?(s=s(n),ry().then(u)):u())},invalidate(){f=!1},end(){i&&(c(),i=!1)}}}function rS(r,e,t){const n={direction:"out"};let s=e(r,t,n),i=!0,o;const a=Fl;a.r+=1;function l(){const{delay:c=0,duration:u=300,easing:f=cg,tick:h=Bt,css:d}=s||ny;d&&(o=ey(r,1,0,u,c,f,d));const p=Q8()+c,g=p+u;so(()=>Hh(r,!1,"start")),J8(w=>{if(i){if(w>=g)return h(0,1),Hh(r,!1,"end"),--a.r||Wr(a.c),!1;if(w>=p){const v=f((w-p)/u);h(1-v,v)}}return i})}return A0(s)?ry().then(()=>{s=s(n),l()}):l(),{end(c){c&&s.tick&&s.tick(1,0),i&&(o&&Jm(r,o),i=!1)}}}function Do(r,e){z(r,1,1,()=>{e.delete(r.key)})}function Ro(r,e,t,n,s,i,o,a,l,c,u,f){let h=r.length,d=i.length,p=h;const g={};for(;p--;)g[r[p].key]=p;const w=[],v=new Map,_=new Map,k=[];for(p=d;p--;){const T=f(s,i,p),O=t(T);let D=o.get(O);D?n&&k.push(()=>D.p(T,e)):(D=c(O,T),D.c()),v.set(O,w[p]=D),O in g&&_.set(O,Math.abs(p-g[O]))}const A=new Set,C=new Set;function N(T){R(T,1),T.m(a,u),o.set(T.key,T),u=T.first,d--}for(;h&&d;){const T=w[d-1],O=r[h-1],D=T.key,Q=O.key;T===O?(u=T.first,h--,d--):v.has(Q)?!o.has(D)||A.has(D)?N(T):C.has(Q)?h--:_.get(D)>_.get(Q)?(C.add(D),N(T)):(A.add(Q),h--):(l(O,o),h--)}for(;h--;){const T=r[h];v.has(T.key)||l(T,o)}for(;d;)N(w[d-1]);return Wr(k),w}function fg(r,e){const t={},n={},s={$$scope:1};let i=r.length;for(;i--;){const o=r[i],a=e[i];if(a){for(const l in o)l in a||(n[l]=1);for(const l in a)s[l]||(t[l]=a[l],s[l]=1);r[i]=a}else for(const l in o)s[l]=1}for(const o in n)o in t||(t[o]=void 0);return t}function dg(r){return typeof r=="object"&&r!==null?r:{}}function de(r){r&&r.c()}function ue(r,e,t,n){const{fragment:s,after_update:i}=r.$$;s&&s.m(e,t),n||so(()=>{const o=r.$$.on_mount.map(V8).filter(A0);r.$$.on_destroy?r.$$.on_destroy.push(...o):Wr(o),r.$$.on_mount=[]}),i.forEach(so)}function fe(r,e){const t=r.$$;t.fragment!==null&&(tS(t.after_update),Wr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function nS(r,e){r.$$.dirty[0]===-1&&(Pu.push(r),Zk(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Ot(r,e,t,n,s,i,o,a=[-1]){const l=Rf;Sf(r);const c=r.$$={fragment:null,ctx:[],props:i,update:Bt,not_equal:s,bound:S4(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:S4(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(f,h,...d)=>{const p=d.length?d[0]:h;return c.ctx&&s(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&nS(r,f)),h}):[],c.update(),u=!0,Wr(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Yk(e.target);c.fragment&&c.fragment.l(f),f.forEach(ie)}else c.fragment&&c.fragment.c();e.intro&&R(r.$$.fragment),ue(r,e.target,e.anchor,e.customElement),en()}Sf(l)}class It{$destroy(){fe(this,1),this.$destroy=Bt}$on(e,t){if(!A0(t))return Bt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!zk(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function sy(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=sy(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function sS(){for(var r,e,t=0,n="";t<arguments.length;)(r=arguments[t++])&&(e=sy(r))&&(n&&(n+=" "),n+=e);return n}function iS(){for(var r=0,e,t,n="";r<arguments.length;)(e=arguments[r++])&&(t=iy(e))&&(n&&(n+=" "),n+=t);return n}function iy(r){if(typeof r=="string")return r;for(var e,t="",n=0;n<r.length;n++)r[n]&&(e=iy(r[n]))&&(t&&(t+=" "),t+=e);return t}var hg="-";function oS(r){var e=lS(r),t=r.conflictingClassGroups,n=r.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(a){var l=a.split(hg);return l[0]===""&&l.length!==1&&l.shift(),oy(l,e)||aS(a)}function o(a,l){var c=t[a]||[];return l&&s[a]?[].concat(c,s[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function oy(r,e){var o;if(r.length===0)return e.classGroupId;var t=r[0],n=e.nextPart.get(t),s=n?oy(r.slice(1),n):void 0;if(s)return s;if(e.validators.length!==0){var i=r.join(hg);return(o=e.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:o.classGroupId}}var N4=/^\[(.+)\]$/;function aS(r){if(N4.test(r)){var e=N4.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function lS(r){var e=r.theme,t=r.prefix,n={nextPart:new Map,validators:[]},s=uS(Object.entries(r.classGroups),t);return s.forEach(function(i){var o=i[0],a=i[1];Xm(a,n,o,e)}),n}function Xm(r,e,t,n){r.forEach(function(s){if(typeof s=="string"){var i=s===""?e:M4(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(cS(s)){Xm(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(o){var a=o[0],l=o[1];Xm(l,M4(e,a),t,n)})})}function M4(r,e){var t=r;return e.split(hg).forEach(function(n){t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t}function cS(r){return r.isThemeGetter}function uS(r,e){return e?r.map(function(t){var n=t[0],s=t[1],i=s.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[n,i]}):r}function fS(r){if(r<1)return{get:function(){},set:function(){}};var e=0,t=new Map,n=new Map;function s(i,o){t.set(i,o),e++,e>r&&(e=0,n=t,t=new Map)}return{get:function(o){var a=t.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set:function(o,a){t.has(o)?t.set(o,a):s(o,a)}}}var ay="!";function dS(r){var e=r.separator||":",t=e.length===1,n=e[0],s=e.length;return function(o){for(var a=[],l=0,c=0,u,f=0;f<o.length;f++){var h=o[f];if(l===0){if(h===n&&(t||o.slice(f,f+s)===e)){a.push(o.slice(c,f)),c=f+s;continue}if(h==="/"){u=f;continue}}h==="["?l++:h==="]"&&l--}var d=a.length===0?o:o.substring(c),p=d.startsWith(ay),g=p?d.substring(1):d,w=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:w}}}function hS(r){if(r.length<=1)return r;var e=[],t=[];return r.forEach(function(n){var s=n[0]==="[";s?(e.push.apply(e,t.sort().concat([n])),t=[]):t.push(n)}),e.push.apply(e,t.sort()),e}function pS(r){return{cache:fS(r.cacheSize),splitModifiers:dS(r),...oS(r)}}var mS=/\s+/;function gS(r,e){var t=e.splitModifiers,n=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return r.trim().split(mS).map(function(o){var a=t(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,f=a.maybePostfixModifierPosition,h=n(f?u.substring(0,f):u),d=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:o};if(h=n(u),!h)return{isTailwindClass:!1,originalClassName:o};d=!1}var p=hS(l).join(":"),g=c?p+ay:p;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:o,hasPostfixModifier:d}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=a+l;return i.has(u)?!1:(i.add(u),s(l,c).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function bS(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n,s,i,o=a;function a(c){var u=e[0],f=e.slice(1),h=f.reduce(function(d,p){return p(d)},u());return n=pS(h),s=n.cache.get,i=n.cache.set,o=l,l(c)}function l(c){var u=s(c);if(u)return u;var f=gS(c,n);return i(c,f),f}return function(){return o(iS.apply(null,arguments))}}function yn(r){var e=function(n){return n[r]||[]};return e.isThemeGetter=!0,e}var ly=/^\[(?:([a-z-]+):)?(.+)\]$/i,vS=/^\d+\/\d+$/,yS=new Set(["px","full","screen"]),wS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_S=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|^0$/,xS=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function _o(r){return $c(r)||yS.has(r)||vS.test(r)||$l(r)}function $l(r){return Gc(r,"length",MS)}function kS(r){return Gc(r,"size",cy)}function SS(r){return Gc(r,"position",cy)}function AS(r){return Gc(r,"url",CS)}function Yd(r){return Gc(r,"number",$c)}function $c(r){return!Number.isNaN(Number(r))}function TS(r){return r.endsWith("%")&&$c(r.slice(0,-1))}function cf(r){return C4(r)||Gc(r,"number",C4)}function Jn(r){return ly.test(r)}function uf(){return!0}function Al(r){return wS.test(r)}function NS(r){return Gc(r,"",LS)}function Gc(r,e,t){var n=ly.exec(r);return n?n[1]?n[1]===e:t(n[2]):!1}function MS(r){return _S.test(r)}function cy(){return!1}function CS(r){return r.startsWith("url(")}function C4(r){return Number.isInteger(Number(r))}function LS(r){return xS.test(r)}function $S(){var r=yn("colors"),e=yn("spacing"),t=yn("blur"),n=yn("brightness"),s=yn("borderColor"),i=yn("borderRadius"),o=yn("borderSpacing"),a=yn("borderWidth"),l=yn("contrast"),c=yn("grayscale"),u=yn("hueRotate"),f=yn("invert"),h=yn("gap"),d=yn("gradientColorStops"),p=yn("gradientColorStopPositions"),g=yn("inset"),w=yn("margin"),v=yn("opacity"),_=yn("padding"),k=yn("saturate"),A=yn("scale"),C=yn("sepia"),N=yn("skew"),T=yn("space"),O=yn("translate"),D=function(){return["auto","contain","none"]},Q=function(){return["auto","hidden","clip","visible","scroll"]},E=function(){return["auto",e]},j=function(){return["",_o]},J=function(){return["auto",$c,Jn]},U=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ne=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ae=function(){return["start","end","center","between","around","evenly","stretch"]},q=function(){return["","0",Jn]},F=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},te=function(){return[$c,Yd]},B=function(){return[$c,Jn]};return{cacheSize:500,theme:{colors:[uf],spacing:[_o],blur:["none","",Al,$l],brightness:te(),borderColor:[r],borderRadius:["none","","full",Al,$l],borderSpacing:[e],borderWidth:j(),contrast:te(),grayscale:q(),hueRotate:B(),invert:q(),gap:[e],gradientColorStops:[r],gradientColorStopPositions:[TS,$l],inset:E(),margin:E(),opacity:te(),padding:[e],saturate:te(),scale:te(),sepia:q(),skew:B(),space:[e],translate:[e]},classGroups:{aspect:[{aspect:["auto","square","video",Jn]}],container:["container"],columns:[{columns:[Al]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(U(),[Jn])}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cf]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Jn]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",cf]}],"grid-cols":[{"grid-cols":[uf]}],"col-start-end":[{col:["auto",{span:[cf]},Jn]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[uf]}],"row-start-end":[{row:["auto",{span:[cf]},Jn]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Jn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Jn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(ae())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ae(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ae(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",e]}],"min-w":[{"min-w":["min","max","fit",_o]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Al]},Al,$l]}],h:[{h:[e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",_o]}],"max-h":[{"max-h":[e,"min","max","fit"]}],"font-size":[{text:["base",Al,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yd]}],"font-family":[{font:[uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$l]}],"line-clamp":[{"line-clamp":["none",$c,Yd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_o]}],"list-image":[{"list-image":["none",Jn]}],"list-style-type":[{list:["none","disc","decimal",Jn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ne(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",_o]}],"underline-offset":[{"underline-offset":["auto",_o]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[e]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$l]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Jn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(U(),[SS])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AS]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(ne(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(ne())}],"outline-offset":[{"outline-offset":[_o]}],"outline-w":[{outline:[_o]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[_o]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Al,NS]}],"shadow-color":[{shadow:[uf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Al,Jn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Jn]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Jn]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Jn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[cf,Jn]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Jn]}],accent:[{accent:["auto",r]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Jn]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[e]}],"scroll-mx":[{"scroll-mx":[e]}],"scroll-my":[{"scroll-my":[e]}],"scroll-ms":[{"scroll-ms":[e]}],"scroll-me":[{"scroll-me":[e]}],"scroll-mt":[{"scroll-mt":[e]}],"scroll-mr":[{"scroll-mr":[e]}],"scroll-mb":[{"scroll-mb":[e]}],"scroll-ml":[{"scroll-ml":[e]}],"scroll-p":[{"scroll-p":[e]}],"scroll-px":[{"scroll-px":[e]}],"scroll-py":[{"scroll-py":[e]}],"scroll-ps":[{"scroll-ps":[e]}],"scroll-pe":[{"scroll-pe":[e]}],"scroll-pt":[{"scroll-pt":[e]}],"scroll-pr":[{"scroll-pr":[e]}],"scroll-pb":[{"scroll-pb":[e]}],"scroll-pl":[{"scroll-pl":[e]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Jn]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[_o,Yd]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var OS=bS($S);function Ut(...r){return OS(sS(r))}function IS(r){let e,t,n,s,i;return{c(){e=x("button"),t=Be(r[0]),e.disabled=r[2],b(e,"class",n=Ut("flex items-center justify-center w-full px-4 py-2.5 tracking-wide text-white transition-colors duration-300 transform bg-gray-800 rounded-lg hover:bg-gray-700 focus:outline-none focus:bg-gray-800 focus:ring focus:ring-gray-600 focus:ring-opacity-50 disabled:bg-gray-500",r[1]))},m(o,a){oe(o,e,a),m(e,t),s||(i=ht(e,"click",r[3]),s=!0)},p(o,[a]){a&1&&rt(t,o[0]),a&4&&(e.disabled=o[2]),a&2&&n!==(n=Ut("flex items-center justify-center w-full px-4 py-2.5 tracking-wide text-white transition-colors duration-300 transform bg-gray-800 rounded-lg hover:bg-gray-700 focus:outline-none focus:bg-gray-800 focus:ring focus:ring-gray-600 focus:ring-opacity-50 disabled:bg-gray-500",o[1]))&&b(e,"class",n)},i:Bt,o:Bt,d(o){o&&ie(e),s=!1,i()}}}function ES(r,e,t){let{buttonText:n}=e,{className:s=""}=e,{disabled:i=!1}=e;function o(a){sc.call(this,r,a)}return r.$$set=a=>{"buttonText"in a&&t(0,n=a.buttonText),"className"in a&&t(1,s=a.className),"disabled"in a&&t(2,i=a.disabled)},[n,s,i,o]}class ft extends It{constructor(e){super(),Ot(this,e,ES,IS,xt,{buttonText:0,className:1,disabled:2})}}const PS=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}));function DS(r){return r*r*((1.70158+1)*r-1.70158)}function RS(r){return--r*r*((1.70158+1)*r+1.70158)+1}function FS(r){const e=r-1;return e*e*e+1}function jS(r){return r*r*r*r*r}function Ff(r,{delay:e=0,duration:t=400,easing:n=cg}={}){const s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*s}`}}function BS(r,{delay:e=0,duration:t=400,easing:n=FS,axis:s="y"}={}){const i=getComputedStyle(r),o=+i.opacity,a=s==="y"?"height":"width",l=parseFloat(i[a]),c=s==="y"?["top","bottom"]:["left","right"],u=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),f=parseFloat(i[`padding${u[0]}`]),h=parseFloat(i[`padding${u[1]}`]),d=parseFloat(i[`margin${u[0]}`]),p=parseFloat(i[`margin${u[1]}`]),g=parseFloat(i[`border${u[0]}Width`]),w=parseFloat(i[`border${u[1]}Width`]);return{delay:e,duration:t,easing:n,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*l}px;padding-${c[0]}: ${v*f}px;padding-${c[1]}: ${v*h}px;margin-${c[0]}: ${v*d}px;margin-${c[1]}: ${v*p}px;border-${c[0]}-width: ${v*g}px;border-${c[1]}-width: ${v*w}px;`}}function L4(r){let e,t,n,s,i,o;return{c(){e=$t("svg"),t=$t("rect"),n=$t("path"),s=$t("path"),i=$t("path"),b(t,"x","3"),b(t,"y","3"),b(t,"width","18"),b(t,"height","19"),b(t,"rx","3"),b(t,"fill","#1F1D1D"),b(n,"d","M14 3C14 1.89543 13.1046 1 12 1C10.8954 1 10 1.89543 10 3H8V5C8 5.55228 8.44772 6 9 6H15C15.5523 6 16 5.55228 16 5V3H14Z"),b(n,"fill","#9F9F9F"),b(s,"fill-rule","evenodd"),b(s,"clip-rule","evenodd"),b(s,"d","M7 11C7 10.4477 7.44772 10 8 10L16 10C16.5523 10 17 10.4477 17 11C17 11.5523 16.5523 12 16 12L8 12C7.44772 12 7 11.5523 7 11Z"),b(s,"fill","#9F9F9F"),b(i,"fill-rule","evenodd"),b(i,"clip-rule","evenodd"),b(i,"d","M7 15C7 14.4477 7.44772 14 8 14L12 14C12.5523 14 13 14.4477 13 15C13 15.5523 12.5523 16 12 16L8 16C7.44772 16 7 15.5523 7 15Z"),b(i,"fill","#9F9F9F"),b(e,"class",o=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),m(e,i)},p(a,l){l&2&&o!==(o=Ut("h-5 w-5",a[1]))&&b(e,"class",o)},d(a){a&&ie(e)}}}function $4(r){let e,t,n,s,i,o;return{c(){e=$t("svg"),t=$t("rect"),n=$t("rect"),s=$t("rect"),i=$t("rect"),b(t,"x","3"),b(t,"y","3"),b(t,"width","8"),b(t,"height","8"),b(t,"rx","3"),b(t,"fill","#1F1D1D"),b(n,"x","3"),b(n,"y","13"),b(n,"width","8"),b(n,"height","8"),b(n,"rx","3"),b(n,"fill","#1F1D1D"),b(s,"x","13"),b(s,"y","3"),b(s,"width","8"),b(s,"height","8"),b(s,"rx","3"),b(s,"fill","#9F9F9F"),b(i,"x","13"),b(i,"y","13"),b(i,"width","8"),b(i,"height","8"),b(i,"rx","3"),b(i,"fill","#1F1D1D"),b(e,"class",o=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),m(e,i)},p(a,l){l&2&&o!==(o=Ut("h-5 w-5",a[1]))&&b(e,"class",o)},d(a){a&&ie(e)}}}function O4(r){let e,t,n,s,i;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),s=$t("circle"),b(t,"d","M7 13H17V21.156C17 21.8258 16.3543 22.3063 15.7127 22.1138L12 21L8.28735 22.1138C7.64574 22.3063 7 21.8258 7 21.156L7 13Z"),b(t,"fill","#9F9F9F"),b(n,"d","M10.0541 2.65824C11.1754 1.7027 12.8246 1.7027 13.9459 2.65824L14.0162 2.71817C14.4967 3.12764 15.0941 3.3751 15.7234 3.42532L15.8155 3.43267C17.284 3.54986 18.4501 4.71599 18.5673 6.18452L18.5747 6.27662C18.6249 6.90592 18.8724 7.50334 19.2818 7.98383L19.3418 8.05415C20.2973 9.17542 20.2973 10.8246 19.3418 11.9459L19.2818 12.0162C18.8724 12.4967 18.6249 13.0941 18.5747 13.7234L18.5673 13.8155C18.4501 15.284 17.284 16.4501 15.8155 16.5673L15.7234 16.5747C15.0941 16.6249 14.4967 16.8724 14.0162 17.2818L13.9459 17.3418C12.8246 18.2973 11.1754 18.2973 10.0541 17.3418L9.98383 17.2818C9.50334 16.8724 8.90592 16.6249 8.27662 16.5747L8.18452 16.5673C6.71599 16.4501 5.54986 15.284 5.43267 13.8155L5.42532 13.7234C5.3751 13.0941 5.12764 12.4967 4.71817 12.0162L4.65824 11.9459C3.7027 10.8246 3.7027 9.17542 4.65824 8.05415L4.71817 7.98383C5.12764 7.50334 5.3751 6.90592 5.42532 6.27662L5.43267 6.18452C5.54986 4.71599 6.71599 3.54986 8.18452 3.43267L8.27662 3.42532C8.90592 3.3751 9.50334 3.12764 9.98383 2.71817L10.0541 2.65824Z"),b(n,"fill","#1F1D1D"),b(s,"cx","12"),b(s,"cy","10"),b(s,"r","3"),b(s,"fill","#9F9F9F"),b(e,"class",i=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(o,a){oe(o,e,a),m(e,t),m(e,n),m(e,s)},p(o,a){a&2&&i!==(i=Ut("h-5 w-5",o[1]))&&b(e,"class",i)},d(o){o&&ie(e)}}}function I4(r){let e,t,n,s;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M5 4C3.34315 4 2 5.34315 2 7V17C2 18.6569 3.34315 20 5 20H8.02633C8.67123 20 9.3119 20.104 9.9237 20.3079L12 21L14.0763 20.3079C14.6881 20.104 15.3288 20 15.9737 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H15C13.8053 4 12.7329 4.52376 12 5.35418C11.2671 4.52376 10.1947 4 9 4H5Z"),b(t,"fill","#9F9F9F"),b(n,"fill-rule","evenodd"),b(n,"clip-rule","evenodd"),b(n,"d","M2 7C2 5.34315 3.34315 4 5 4H9C10.1947 4 11.2671 4.52376 12 5.35418L12 21L9.9237 20.3079C9.3119 20.104 8.67123 20 8.02633 20H5C3.34315 20 2 18.6569 2 17V7Z"),b(n,"fill","#1F1D1D"),b(e,"class",s=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){oe(i,e,o),m(e,t),m(e,n)},p(i,o){o&2&&s!==(s=Ut("h-5 w-5",i[1]))&&b(e,"class",s)},d(i){i&&ie(e)}}}function E4(r){let e,t,n,s,i,o;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),s=$t("path"),i=$t("path"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M13 20H16C16.5523 20 17 20.4477 17 21C17 21.5523 16.5523 22 16 22H8C7.44772 22 7 21.5523 7 21C7 20.4477 7.44772 20 8 20H11V15H13V20Z"),b(t,"fill","#9F9F9F"),b(n,"fill-rule","evenodd"),b(n,"clip-rule","evenodd"),b(n,"d","M5 6H3V8C3 9.10457 3.89543 10 5 10V6ZM3 4C1.89543 4 1 4.89543 1 6V8C1 10.2091 2.79086 12 5 12H7V4H3Z"),b(n,"fill","#9F9F9F"),b(s,"fill-rule","evenodd"),b(s,"clip-rule","evenodd"),b(s,"d","M19 6H21V8C21 9.10457 20.1046 10 19 10V6ZM21 4C22.1046 4 23 4.89543 23 6V8C23 10.2091 21.2091 12 19 12H17V4H21Z"),b(s,"fill","#9F9F9F"),b(i,"d","M5 4C5 2.89543 5.89543 2 7 2H17C18.1046 2 19 2.89543 19 4V10C19 13.866 15.866 17 12 17C8.13401 17 5 13.866 5 10V4Z"),b(i,"fill","#1F1D1D"),b(e,"class",o=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),m(e,i)},p(a,l){l&2&&o!==(o=Ut("h-5 w-5",a[1]))&&b(e,"class",o)},d(a){a&&ie(e)}}}function P4(r){let e,t,n,s;return{c(){e=$t("svg"),t=$t("circle"),n=$t("path"),b(t,"cx","12"),b(t,"cy","7"),b(t,"r","5"),b(t,"fill","#9F9F9F"),b(n,"d","M3 19V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V19C21 16.2386 18.7614 14 16 14H8C5.23858 14 3 16.2386 3 19Z"),b(n,"fill","#1F1D1D"),b(e,"class",s=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){oe(i,e,o),m(e,t),m(e,n)},p(i,o){o&2&&s!==(s=Ut("h-5 w-5",i[1]))&&b(e,"class",s)},d(i){i&&ie(e)}}}function D4(r){let e,t,n,s;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),b(t,"d","M7.99231 4.78709C8.49582 4.50673 8.91179 4.07694 9.09404 3.53021L9.48159 2.36754C9.75382 1.55086 10.5181 1 11.379 1H12.6209C13.4818 1 14.2461 1.55086 14.5183 2.36754L14.9058 3.53021C15.0881 4.07694 15.5041 4.50673 16.0076 4.78709C16.0859 4.83069 16.1634 4.87553 16.2401 4.92159C16.7348 5.21857 17.3157 5.36438 17.881 5.2487L19.0827 5.00279C19.9261 4.8302 20.7853 5.21666 21.2157 5.96218L21.8367 7.03775C22.2671 7.78328 22.1722 8.72059 21.601 9.36469L20.7861 10.2838C20.4041 10.7144 20.2391 11.2888 20.2482 11.8644C20.2496 11.9548 20.2496 12.0452 20.2482 12.1356C20.2391 12.7111 20.4041 13.2855 20.7861 13.7162L21.601 14.6352C22.1722 15.2793 22.2671 16.2167 21.8367 16.9622L21.2157 18.0378C20.7853 18.7833 19.9261 19.1697 19.0827 18.9971L17.881 18.7512C17.3158 18.6356 16.7349 18.7814 16.2402 19.0784C16.1635 19.1244 16.0859 19.1693 16.0076 19.2129C15.5041 19.4933 15.0881 19.9231 14.9058 20.4698L14.5183 21.6325C14.2461 22.4491 13.4818 23 12.6209 23H11.379C10.5181 23 9.75382 22.4491 9.48159 21.6325L9.09404 20.4698C8.91179 19.9231 8.49582 19.4933 7.99231 19.2129C7.91397 19.1693 7.83642 19.1244 7.75967 19.0784C7.26498 18.7814 6.68411 18.6356 6.11883 18.7512L4.91714 18.9971C4.07375 19.1697 3.21455 18.7833 2.78412 18.0378L2.16314 16.9622C1.73271 16.2167 1.82763 15.2793 2.39879 14.6352L3.21381 13.7161C3.59572 13.2854 3.76078 12.7111 3.75166 12.1355C3.75023 12.0452 3.75023 11.9548 3.75166 11.8644C3.76078 11.2889 3.59573 10.7145 3.21381 10.2838L2.39879 9.36469C1.82763 8.72059 1.73271 7.78328 2.16314 7.03775L2.78412 5.96218C3.21455 5.21665 4.07375 4.8302 4.91714 5.00278L6.11891 5.24871C6.68419 5.36439 7.26504 5.21857 7.75974 4.9216C7.83646 4.87554 7.91399 4.83069 7.99231 4.78709Z"),b(t,"fill","#1F1D1D"),b(n,"fill-rule","evenodd"),b(n,"clip-rule","evenodd"),b(n,"d","M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"),b(n,"fill","#9F9F9F"),b(e,"class",s=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){oe(i,e,o),m(e,t),m(e,n)},p(i,o){o&2&&s!==(s=Ut("h-5 w-5",i[1]))&&b(e,"class",s)},d(i){i&&ie(e)}}}function R4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M4.79289 8.54289C5.18342 8.15237 5.81658 8.15237 6.20711 8.54289L12 14.3358L17.7929 8.54289C18.1834 8.15237 18.8166 8.15237 19.2071 8.54289C19.5976 8.93341 19.5976 9.56658 19.2071 9.9571L13.4142 15.75C12.6332 16.531 11.3668 16.531 10.5858 15.75L4.79289 9.95711C4.40237 9.56658 4.40237 8.93342 4.79289 8.54289Z"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function F4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M4.79289 15.4571C5.18342 15.8476 5.81658 15.8476 6.20711 15.4571L12 9.66422L17.7929 15.4571C18.1834 15.8476 18.8166 15.8476 19.2071 15.4571C19.5976 15.0666 19.5976 14.4334 19.2071 14.0429L13.4142 8.25C12.6332 7.46895 11.3668 7.46895 10.5858 8.25L4.79289 14.0429C4.40237 14.4334 4.40237 15.0666 4.79289 15.4571Z"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function j4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"fill-rule","evenodd"),b(t,"clip-rule","evenodd"),b(t,"d","M8.04289 19.2071C7.65237 18.8166 7.65237 18.1834 8.04289 17.7929L13.8358 12L8.04289 6.20711C7.65237 5.81658 7.65237 5.18342 8.04289 4.79289C8.43342 4.40237 9.06658 4.40237 9.45711 4.79289L15.25 10.5858C16.031 11.3668 16.031 12.6332 15.25 13.4142L9.45711 19.2071C9.06658 19.5976 8.43342 19.5976 8.04289 19.2071Z"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function B4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function z4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function q4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M12 4.5v15m7.5-7.5h-15"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function H4(r){let e,t,n,s;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),b(t,"d","M4 12C4 7.58172 7.58172 4 12 4C14.5171 4 16.7288 5.1635 18.1822 6.99321L16.5029 6.98829C15.9506 6.98667 15.5016 7.43307 15.5 7.98535C15.4984 8.53763 15.9448 8.98666 16.4971 8.98828L19.9399 8.99836C19.9783 9.00071 20.017 9.00084 20.0557 8.9987L20.4971 9C20.7628 9.00077 21.0179 8.89576 21.2061 8.70814C21.3942 8.52052 21.5 8.26572 21.5 8L21.5 4C21.5 3.44771 21.0523 3 20.5 3C19.9477 3 19.5 3.44772 19.5 4L19.5 5.44947C17.6875 3.34038 15.023 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C15.9359 22 19.2641 19.7278 20.8955 16.445C21.1413 15.9505 20.9396 15.3503 20.445 15.1045C19.9505 14.8587 19.3503 15.0604 19.1045 15.555C17.7905 18.1991 15.1315 20 12 20C7.58172 20 4 16.4183 4 12Z"),b(t,"fill","#1F1D1D"),b(n,"fill-rule","evenodd"),b(n,"clip-rule","evenodd"),b(n,"d","M12 7C12.5523 7 13 7.44772 13 8V11.5858L14.7071 13.2929C15.0976 13.6834 15.0976 14.3166 14.7071 14.7071C14.3166 15.0976 13.6834 15.0976 13.2929 14.7071L11.5858 13C11.2107 12.6249 11 12.1162 11 11.5858V8C11 7.44772 11.4477 7 12 7Z"),b(n,"fill","#9F9F9F"),b(e,"class",s=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){oe(i,e,o),m(e,t),m(e,n)},p(i,o){o&2&&s!==(s=Ut("h-5 w-5",i[1]))&&b(e,"class",s)},d(i){i&&ie(e)}}}function V4(r){let e,t,n,s,i,o;return{c(){e=$t("svg"),t=$t("path"),n=$t("path"),s=$t("path"),i=$t("path"),b(t,"d","M16.2969 10.5547L20.9635 3.5547C21.4066 2.89015 20.9302 2 20.1315 2H16.0704C15.4017 2 14.7772 2.3342 14.4063 2.8906L10.0365 9.4453C9.59343 10.1099 10.0698 11 10.8685 11H15.4648C15.7992 11 16.1114 10.8329 16.2969 10.5547Z"),b(t,"fill","#9F9F9F"),b(n,"d","M7.70313 10.5547L3.03647 3.5547C2.59343 2.89015 3.06982 2 3.86852 2H7.92963C8.59834 2 9.2228 2.3342 9.59373 2.8906L13.9635 9.4453C14.4066 10.1099 13.9302 11 13.1315 11H8.53518C8.20083 11 7.8886 10.8329 7.70313 10.5547Z"),b(n,"fill","#9F9F9F"),b(s,"fill-rule","evenodd"),b(s,"clip-rule","evenodd"),b(s,"d","M12 22C15.866 22 19 18.866 19 15C19 11.134 15.866 8 12 8C8.13401 8 5 11.134 5 15C5 18.866 8.13401 22 12 22Z"),b(s,"fill","#1F1D1D"),b(i,"fill-rule","evenodd"),b(i,"clip-rule","evenodd"),b(i,"d","M12 18C13.6569 18 15 16.6569 15 15C15 13.3431 13.6569 12 12 12C10.3431 12 9 13.3431 9 15C9 16.6569 10.3431 18 12 18Z"),b(i,"fill","#9F9F9F"),b(e,"class",o=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),m(e,i)},p(a,l){l&2&&o!==(o=Ut("h-5 w-5",a[1]))&&b(e,"class",o)},d(a){a&&ie(e)}}}function U4(r){let e,t,n,s,i,o,a;return{c(){e=$t("svg"),t=$t("rect"),n=$t("circle"),s=$t("path"),i=$t("path"),o=$t("path"),b(t,"x","2"),b(t,"y","4"),b(t,"width","20"),b(t,"height","18"),b(t,"rx","3"),b(t,"fill","#1F1D1D"),b(n,"cx","17"),b(n,"cy","17"),b(n,"r","6"),b(n,"fill","#9F9F9F"),b(s,"fill-rule","evenodd"),b(s,"clip-rule","evenodd"),b(s,"d","M17 14C17.5523 14 18 14.4477 18 15V16.5858L19.2071 17.7929C19.5976 18.1834 19.5976 18.8166 19.2071 19.2071C18.8166 19.5976 18.1834 19.5976 17.7929 19.2071L16.2929 17.7071C16.1054 17.5196 16 17.2652 16 17V15C16 14.4477 16.4477 14 17 14Z"),b(s,"fill","#1F1D1D"),b(i,"fill-rule","evenodd"),b(i,"clip-rule","evenodd"),b(i,"d","M7 2C7.55228 2 8 2.44772 8 3V5C8 5.55228 7.55228 6 7 6C6.44772 6 6 5.55228 6 5V3C6 2.44772 6.44772 2 7 2Z"),b(i,"fill","#9F9F9F"),b(o,"fill-rule","evenodd"),b(o,"clip-rule","evenodd"),b(o,"d","M17 2C17.5523 2 18 2.44772 18 3V5C18 5.55228 17.5523 6 17 6C16.4477 6 16 5.55228 16 5V3C16 2.44772 16.4477 2 17 2Z"),b(o,"fill","#9F9F9F"),b(e,"class",a=Ut("h-5 w-5",r[1])),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"xmlns","http://www.w3.org/2000/svg")},m(l,c){oe(l,e,c),m(e,t),m(e,n),m(e,s),m(e,i),m(e,o)},p(l,c){c&2&&a!==(a=Ut("h-5 w-5",l[1]))&&b(e,"class",a)},d(l){l&&ie(e)}}}function W4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M6 18L18 6M6 6l12 12"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function Y4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M4.5 12.75l6 6 9-13.5"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function Q4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function G4(r){let e,t,n;return{c(){e=$t("svg"),t=$t("path"),b(t,"stroke-linecap","round"),b(t,"stroke-linejoin","round"),b(t,"d","M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"),b(e,"class",n=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"fill","none"),b(e,"viewBox","0 0 24 24"),b(e,"stroke-width","1.5"),b(e,"stroke","currentColor")},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&n!==(n=Ut("h-5 w-5",s[1]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function J4(r){let e,t,n,s,i,o,a,l;return{c(){e=$t("svg"),t=$t("defs"),n=$t("path"),s=$t("g"),i=$t("g"),o=$t("g"),a=$t("use"),b(n,"id","MJX-8-TEX-N-3A3"),b(n,"d","M666 247Q664 244 652 126T638 4V0H351Q131 0 95 0T57 5V6Q54 12 57 17L73 36Q89 54 121 90T182 159L305 299L56 644L55 658Q55 677 60 681Q63 683 351 683H638V679Q640 674 652 564T666 447V443H626V447Q618 505 604 543T559 605Q529 626 478 631T333 637H294H189L293 494Q314 465 345 422Q400 346 400 340Q400 338 399 337L154 57Q407 57 428 58Q476 60 508 68T551 83T575 103Q595 125 608 162T624 225L626 251H666V247Z"),b(a,"data-c","3A3"),Vk(a,"xlink:href","#MJX-8-TEX-N-3A3"),b(o,"data-mml-node","mi"),b(i,"data-mml-node","math"),b(s,"stroke","currentColor"),b(s,"fill","currentColor"),b(s,"stroke-width","0"),b(s,"transform","scale(1,-1)"),b(e,"class",l=Ut("h-5 w-5",r[1])),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"viewBox","0 -683 722 683"),b(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),b(e,"aria-hidden","true"),b(e,"style","")},m(c,u){oe(c,e,u),m(e,t),m(t,n),m(e,s),m(s,i),m(i,o),m(o,a)},p(c,u){u&2&&l!==(l=Ut("h-5 w-5",c[1]))&&b(e,"class",l)},d(c){c&&ie(e)}}}function zS(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N=r[0]==="chart"&&L4(r),T=r[0]==="dashboard"&&$4(r),O=r[0]==="badge"&&O4(r),D=r[0]==="book"&&I4(r),Q=r[0]==="clipboard"&&E4(r),E=r[0]==="user"&&P4(r),j=r[0]==="settings"&&D4(r),J=r[0]==="chevron_down"&&R4(r),U=r[0]==="chevron_up"&&F4(r),ne=r[0]==="chevron_right"&&j4(r),G=r[0]==="filter"&&B4(r),ae=r[0]==="trash"&&z4(r),q=r[0]==="plus"&&q4(r),F=r[0]==="update"&&H4(r),te=r[0]==="medal"&&V4(r),B=r[0]==="schedule"&&U4(r),L=r[0]==="close"&&W4(r),Y=r[0]==="check"&&Y4(r),re=r[0]==="back_arrow"&&Q4(r),X=r[0]==="picture"&&G4(r),K=r[0]==="sigma"&&J4(r);return{c(){N&&N.c(),e=I(),T&&T.c(),t=I(),O&&O.c(),n=I(),D&&D.c(),s=I(),Q&&Q.c(),i=I(),E&&E.c(),o=I(),j&&j.c(),a=I(),J&&J.c(),l=I(),U&&U.c(),c=I(),ne&&ne.c(),u=I(),G&&G.c(),f=I(),ae&&ae.c(),h=I(),q&&q.c(),d=I(),F&&F.c(),p=I(),te&&te.c(),g=I(),B&&B.c(),w=I(),L&&L.c(),v=I(),Y&&Y.c(),_=I(),re&&re.c(),k=I(),X&&X.c(),A=I(),K&&K.c(),C=cr()},m(W,pe){N&&N.m(W,pe),oe(W,e,pe),T&&T.m(W,pe),oe(W,t,pe),O&&O.m(W,pe),oe(W,n,pe),D&&D.m(W,pe),oe(W,s,pe),Q&&Q.m(W,pe),oe(W,i,pe),E&&E.m(W,pe),oe(W,o,pe),j&&j.m(W,pe),oe(W,a,pe),J&&J.m(W,pe),oe(W,l,pe),U&&U.m(W,pe),oe(W,c,pe),ne&&ne.m(W,pe),oe(W,u,pe),G&&G.m(W,pe),oe(W,f,pe),ae&&ae.m(W,pe),oe(W,h,pe),q&&q.m(W,pe),oe(W,d,pe),F&&F.m(W,pe),oe(W,p,pe),te&&te.m(W,pe),oe(W,g,pe),B&&B.m(W,pe),oe(W,w,pe),L&&L.m(W,pe),oe(W,v,pe),Y&&Y.m(W,pe),oe(W,_,pe),re&&re.m(W,pe),oe(W,k,pe),X&&X.m(W,pe),oe(W,A,pe),K&&K.m(W,pe),oe(W,C,pe)},p(W,[pe]){W[0]==="chart"?N?N.p(W,pe):(N=L4(W),N.c(),N.m(e.parentNode,e)):N&&(N.d(1),N=null),W[0]==="dashboard"?T?T.p(W,pe):(T=$4(W),T.c(),T.m(t.parentNode,t)):T&&(T.d(1),T=null),W[0]==="badge"?O?O.p(W,pe):(O=O4(W),O.c(),O.m(n.parentNode,n)):O&&(O.d(1),O=null),W[0]==="book"?D?D.p(W,pe):(D=I4(W),D.c(),D.m(s.parentNode,s)):D&&(D.d(1),D=null),W[0]==="clipboard"?Q?Q.p(W,pe):(Q=E4(W),Q.c(),Q.m(i.parentNode,i)):Q&&(Q.d(1),Q=null),W[0]==="user"?E?E.p(W,pe):(E=P4(W),E.c(),E.m(o.parentNode,o)):E&&(E.d(1),E=null),W[0]==="settings"?j?j.p(W,pe):(j=D4(W),j.c(),j.m(a.parentNode,a)):j&&(j.d(1),j=null),W[0]==="chevron_down"?J?J.p(W,pe):(J=R4(W),J.c(),J.m(l.parentNode,l)):J&&(J.d(1),J=null),W[0]==="chevron_up"?U?U.p(W,pe):(U=F4(W),U.c(),U.m(c.parentNode,c)):U&&(U.d(1),U=null),W[0]==="chevron_right"?ne?ne.p(W,pe):(ne=j4(W),ne.c(),ne.m(u.parentNode,u)):ne&&(ne.d(1),ne=null),W[0]==="filter"?G?G.p(W,pe):(G=B4(W),G.c(),G.m(f.parentNode,f)):G&&(G.d(1),G=null),W[0]==="trash"?ae?ae.p(W,pe):(ae=z4(W),ae.c(),ae.m(h.parentNode,h)):ae&&(ae.d(1),ae=null),W[0]==="plus"?q?q.p(W,pe):(q=q4(W),q.c(),q.m(d.parentNode,d)):q&&(q.d(1),q=null),W[0]==="update"?F?F.p(W,pe):(F=H4(W),F.c(),F.m(p.parentNode,p)):F&&(F.d(1),F=null),W[0]==="medal"?te?te.p(W,pe):(te=V4(W),te.c(),te.m(g.parentNode,g)):te&&(te.d(1),te=null),W[0]==="schedule"?B?B.p(W,pe):(B=U4(W),B.c(),B.m(w.parentNode,w)):B&&(B.d(1),B=null),W[0]==="close"?L?L.p(W,pe):(L=W4(W),L.c(),L.m(v.parentNode,v)):L&&(L.d(1),L=null),W[0]==="check"?Y?Y.p(W,pe):(Y=Y4(W),Y.c(),Y.m(_.parentNode,_)):Y&&(Y.d(1),Y=null),W[0]==="back_arrow"?re?re.p(W,pe):(re=Q4(W),re.c(),re.m(k.parentNode,k)):re&&(re.d(1),re=null),W[0]==="picture"?X?X.p(W,pe):(X=G4(W),X.c(),X.m(A.parentNode,A)):X&&(X.d(1),X=null),W[0]==="sigma"?K?K.p(W,pe):(K=J4(W),K.c(),K.m(C.parentNode,C)):K&&(K.d(1),K=null)},i:Bt,o:Bt,d(W){N&&N.d(W),W&&ie(e),T&&T.d(W),W&&ie(t),O&&O.d(W),W&&ie(n),D&&D.d(W),W&&ie(s),Q&&Q.d(W),W&&ie(i),E&&E.d(W),W&&ie(o),j&&j.d(W),W&&ie(a),J&&J.d(W),W&&ie(l),U&&U.d(W),W&&ie(c),ne&&ne.d(W),W&&ie(u),G&&G.d(W),W&&ie(f),ae&&ae.d(W),W&&ie(h),q&&q.d(W),W&&ie(d),F&&F.d(W),W&&ie(p),te&&te.d(W),W&&ie(g),B&&B.d(W),W&&ie(w),L&&L.d(W),W&&ie(v),Y&&Y.d(W),W&&ie(_),re&&re.d(W),W&&ie(k),X&&X.d(W),W&&ie(A),K&&K.d(W),W&&ie(C)}}}function qS(r,e,t){let{icon:n}=e,{className:s=""}=e,{fill:i=""}=e;return r.$$set=o=>{"icon"in o&&t(0,n=o.icon),"className"in o&&t(1,s=o.className),"fill"in o&&t(2,i=o.fill)},[n,s,i]}class Tt extends It{constructor(e){super(),Ot(this,e,qS,zS,xt,{icon:0,className:1,fill:2})}}const HS=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));function VS(r){let e,t;return e=new Tt({props:{icon:"chevron_down",className:r[2]}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&4&&(i.className=n[2]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function US(r){let e,t;return e=new Tt({props:{icon:"chevron_up",className:r[2]}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&4&&(i.className=n[2]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function K4(r){let e,t,n,s,i;const o=r[7].default,a=Oo(o,r,r[6],null);return{c(){e=x("div"),t=x("div"),a&&a.c(),b(t,"class","flex flex-col h-full w-full overflow-y-auto"),b(e,"class","absolute isolate right-0 origin-top-right flex flex-col items-start p-3 min-w-max w-full min-h-max max-h-min mt-3 bg-white border rounded-lg z-50 text-gray-700")},m(l,c){oe(l,e,c),m(e,t),a&&a.m(t,null),i=!0},p(l,c){r=l,a&&a.p&&(!i||c&64)&&Eo(a,o,r,r[6],i?Io(o,r[6],c,null):Po(r[6]),null)},i(l){i||(R(a,l),so(()=>{i&&(s&&s.end(1),n=ld(e,Ff,{duration:100,easing:jS}),n.start())}),i=!0)},o(l){z(a,l),n&&n.invalidate(),s=rS(e,Ff,{duration:100,easing:RS}),i=!1},d(l){l&&ie(e),a&&a.d(l),l&&s&&s.end()}}}function WS(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v;const _=[US,VS],k=[];function A(N,T){return N[3]?0:1}f=A(r),h=k[f]=_[f](r);let C=r[3]&&K4(r);return{c(){e=x("div"),t=x("div"),n=x("button"),s=x("div"),i=x("span"),o=Be(r[0]),a=I(),l=x("div"),c=x("div"),u=I(),h.c(),p=I(),C&&C.c(),b(c,"class","h-5 w-px bg-gray-300"),b(l,"class","flex items-center justify-center space-x-2"),b(s,"class","flex items-center justify-between space-x-3"),b(n,"name",""),b(n,"class",d=Ut("block w-full rounded-lg border-0 py-2.5 px-3 bg-gray-800 text-white  placeholder:text-gray-400 focus:ring-inset focus:ring-gray-800 text-xs sm:leading-6",r[1])),b(t,"class","min-w-max"),b(e,"class","relative overflow-visible")},m(N,T){oe(N,e,T),m(e,t),m(t,n),m(n,s),m(s,i),m(i,o),m(s,a),m(s,l),m(l,c),m(l,u),k[f].m(l,null),m(e,p),C&&C.m(e,null),g=!0,w||(v=[ht(n,"focus",r[4]),ht(n,"focusout",r[5])],w=!0)},p(N,[T]){(!g||T&1)&&rt(o,N[0]);let O=f;f=A(N),f===O?k[f].p(N,T):(ct(),z(k[O],1,1,()=>{k[O]=null}),ut(),h=k[f],h?h.p(N,T):(h=k[f]=_[f](N),h.c()),R(h,1),h.m(l,null)),(!g||T&2&&d!==(d=Ut("block w-full rounded-lg border-0 py-2.5 px-3 bg-gray-800 text-white  placeholder:text-gray-400 focus:ring-inset focus:ring-gray-800 text-xs sm:leading-6",N[1])))&&b(n,"class",d),N[3]?C?(C.p(N,T),T&8&&R(C,1)):(C=K4(N),C.c(),R(C,1),C.m(e,null)):C&&(ct(),z(C,1,1,()=>{C=null}),ut())},i(N){g||(R(h),R(C),g=!0)},o(N){z(h),z(C),g=!1},d(N){N&&ie(e),k[f].d(),C&&C.d(),w=!1,Wr(v)}}}function YS(r,e,t){let{$$slots:n={},$$scope:s}=e,{placeholder:i}=e,{className:o=""}=e,{arrowColor:a="fill-white"}=e,l=!1;const c=()=>t(3,l=!l),u=()=>setTimeout(()=>t(3,l=!1),100);return r.$$set=f=>{"placeholder"in f&&t(0,i=f.placeholder),"className"in f&&t(1,o=f.className),"arrowColor"in f&&t(2,a=f.arrowColor),"$$scope"in f&&t(6,s=f.$$scope)},[i,o,a,l,c,u,s,n]}class el extends It{constructor(e){super(),Ot(this,e,YS,WS,xt,{placeholder:0,className:1,arrowColor:2})}}const QS=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"}));function X4(r,e,t){const n=r.slice();return n[19]=e[t],n}function Z4(r){let e,t,n;return{c(){e=x("label"),t=Be(r[2]),b(e,"for",""),b(e,"class",n=Ut("text-sm text-gray-700",r[7]))},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&4&&rt(t,s[2]),i&128&&n!==(n=Ut("text-sm text-gray-700",s[7]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function e3(r){let e,t,n,s,i;return t=new Tt({props:{icon:"close",className:"h-4 w-4 stroke-red-500"}}),{c(){e=x("div"),de(t.$$.fragment),b(e,"class","isolate")},m(o,a){oe(o,e,a),ue(t,e,null),n=!0,s||(i=ht(e,"click",r[11]),s=!0)},p:Bt,i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&ie(e),fe(t),s=!1,i()}}}function GS(r){let e,t;return e=new Tt({props:{icon:"chevron_down",className:"fill-gray-500"}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function JS(r){let e,t;return e=new Tt({props:{icon:"chevron_up",className:"fill-gray-500"}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function t3(r){let e,t;function n(o,a){return o[5].length==0?XS:KS}let s=n(r),i=s(r);return{c(){e=x("div"),t=x("div"),i.c(),b(t,"class","flex flex-col h-full w-full overflow-y-auto"),b(e,"class","absolute inset-0 flex flex-col items-start p-3 w-full min-h-max max-h-80 bg-white border rounded-lg mt-12 z-50")},m(o,a){oe(o,e,a),m(e,t),i.m(t,null)},p(o,a){s===(s=n(o))&&i?i.p(o,a):(i.d(1),i=s(o),i&&(i.c(),i.m(t,null)))},d(o){o&&ie(e),i.d()}}}function KS(r){let e,t=r[5],n=[];for(let s=0;s<t.length;s+=1)n[s]=r3(X4(r,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=cr()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);oe(s,e,i)},p(s,i){if(i&1072){t=s[5];let o;for(o=0;o<t.length;o+=1){const a=X4(s,t,o);n[o]?n[o].p(a,i):(n[o]=r3(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){gr(n,s),s&&ie(e)}}}function XS(r){let e;return{c(){e=x("div"),e.textContent="No Selectable Item",b(e,"class","text-left text-xs text-gray-700 rounded p-2 w-full")},m(t,n){oe(t,e,n)},p:Bt,d(t){t&&ie(e)}}}function r3(r){let e,t=r[19].placeholder+"",n,s,i,o,a;function l(){return r[15](r[19])}return{c(){e=x("div"),n=Be(t),s=I(),b(e,"class",i=Ut("capitalize text-left text-sm text-gray-700 rounded p-2 hover:bg-gray-100 transition break-normal",r[4]))},m(c,u){oe(c,e,u),m(e,n),m(e,s),o||(a=ht(e,"click",l),o=!0)},p(c,u){r=c,u&32&&t!==(t=r[19].placeholder+"")&&rt(n,t),u&16&&i!==(i=Ut("capitalize text-left text-sm text-gray-700 rounded p-2 hover:bg-gray-100 transition break-normal",r[4]))&&b(e,"class",i)},d(c){c&&ie(e),o=!1,a()}}}function ZS(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_=r[2]&&Z4(r),k=r[1]&&e3(r);const A=[JS,GS],C=[];function N(O,D){return O[9]?0:1}f=N(r),h=C[f]=A[f](r);let T=r[9]&&t3(r);return{c(){e=x("div"),_&&_.c(),t=I(),n=x("button"),s=x("div"),i=x("option"),o=Be(r[0]),l=I(),c=x("div"),k&&k.c(),u=I(),h.c(),d=I(),T&&T.c(),b(i,"class",a=`text-left capitalize overflow-hidden ${r[1]?"text-gray-700":"text-gray-500"}`),i.__value=r[0],i.value=i.__value,b(c,"class","flex items-center space-x-1"),b(s,"class","flex grow-0 items-center justify-between space-x-2 w-full"),n.disabled=r[6],b(n,"name",""),b(n,"class",p=Ut("relative flex flex-col w-full rounded-lg border-0 py-2 px-3 shadow-sm ring-1 ring-inset ring-gray-100 placeholder:text-gray-400 focus:ring-inset focus:ring-gray-800 text-xs sm:leading-6",r[3])),b(e,"class","space-y-3 w-full")},m(O,D){oe(O,e,D),_&&_.m(e,null),m(e,t),m(e,n),m(n,s),m(s,i),m(i,o),m(s,l),m(s,c),k&&k.m(c,null),m(c,u),C[f].m(c,null),m(n,d),T&&T.m(n,null),r[16](n),g=!0,w||(v=[ht(n,"focus",r[12]),ht(n,"focusout",r[13])],w=!0)},p(O,[D]){O[2]?_?_.p(O,D):(_=Z4(O),_.c(),_.m(e,t)):_&&(_.d(1),_=null),(!g||D&1)&&rt(o,O[0]),(!g||D&2&&a!==(a=`text-left capitalize overflow-hidden ${O[1]?"text-gray-700":"text-gray-500"}`))&&b(i,"class",a),(!g||D&1)&&(i.__value=O[0],i.value=i.__value),O[1]?k?(k.p(O,D),D&2&&R(k,1)):(k=e3(O),k.c(),R(k,1),k.m(c,u)):k&&(ct(),z(k,1,1,()=>{k=null}),ut());let Q=f;f=N(O),f!==Q&&(ct(),z(C[Q],1,1,()=>{C[Q]=null}),ut(),h=C[f],h||(h=C[f]=A[f](O),h.c()),R(h,1),h.m(c,null)),O[9]?T?T.p(O,D):(T=t3(O),T.c(),T.m(n,null)):T&&(T.d(1),T=null),(!g||D&64)&&(n.disabled=O[6]),(!g||D&8&&p!==(p=Ut("relative flex flex-col w-full rounded-lg border-0 py-2 px-3 shadow-sm ring-1 ring-inset ring-gray-100 placeholder:text-gray-400 focus:ring-inset focus:ring-gray-800 text-xs sm:leading-6",O[3])))&&b(n,"class",p)},i(O){g||(R(k),R(h),g=!0)},o(O){z(k),z(h),g=!1},d(O){O&&ie(e),_&&_.d(),k&&k.d(),C[f].d(),T&&T.d(),r[16](null),w=!1,Wr(v)}}}function eA(r,e,t){let{label:n=""}=e,{value:s=null}=e,{placeholder:i}=e,{className:o=""}=e,{optionsStyling:a=""}=e,{options:l=[]}=e,{disabled:c=!1}=e,{isSelected:u=!1}=e,{labelStyle:f=""}=e,h={},d,p=!1;const g=Ks();br(()=>{if(h.placeholder=i,h.isSelected=u,h.value=s,s||(s==null?void 0:s.length)>0){let N=l.filter(T=>T.value===s);N[0]&&w(N[0].placeholder,s)}});const w=(N,T)=>{t(0,i=N),t(14,s=T),d.blur(),t(9,p=!1),t(1,u=!0),g("selected",{value:s,placeholder:i})},v=()=>{g("deselected",{value:s,placeholder:i}),t(0,i=h.placeholder),t(1,u=h.isSelected),t(14,s=h.value)},_=()=>t(9,p=!0),k=()=>t(9,p=!1),A=N=>w(N.placeholder,N.value);function C(N){zr[N?"unshift":"push"](()=>{d=N,t(8,d)})}return r.$$set=N=>{"label"in N&&t(2,n=N.label),"value"in N&&t(14,s=N.value),"placeholder"in N&&t(0,i=N.placeholder),"className"in N&&t(3,o=N.className),"optionsStyling"in N&&t(4,a=N.optionsStyling),"options"in N&&t(5,l=N.options),"disabled"in N&&t(6,c=N.disabled),"isSelected"in N&&t(1,u=N.isSelected),"labelStyle"in N&&t(7,f=N.labelStyle)},[i,u,n,o,a,l,c,f,d,p,w,v,_,k,s,A,C]}class fr extends It{constructor(e){super(),Ot(this,e,eA,ZS,xt,{label:2,value:14,placeholder:0,className:3,optionsStyling:4,options:5,disabled:6,isSelected:1,labelStyle:7})}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),en()}get value(){return this.$$.ctx[14]}set value(e){this.$$set({value:e}),en()}get placeholder(){return this.$$.ctx[0]}set placeholder(e){this.$$set({placeholder:e}),en()}get className(){return this.$$.ctx[3]}set className(e){this.$$set({className:e}),en()}get optionsStyling(){return this.$$.ctx[4]}set optionsStyling(e){this.$$set({optionsStyling:e}),en()}get options(){return this.$$.ctx[5]}set options(e){this.$$set({options:e}),en()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),en()}get isSelected(){return this.$$.ctx[1]}set isSelected(e){this.$$set({isSelected:e}),en()}get labelStyle(){return this.$$.ctx[7]}set labelStyle(e){this.$$set({labelStyle:e}),en()}}const tA=Object.freeze(Object.defineProperty({__proto__:null,default:fr},Symbol.toStringTag,{value:"Module"}));function n3(r,e,t){const n=r.slice();return n[3]=e[t],n}function s3(r){let e,t=r[3]+"",n,s;return{c(){e=x("th"),n=Be(t),s=I(),b(e,"scope","col"),b(e,"class","px-4 py-3.5 text-sm font-bold text-left rtl:text-right text-gray-500 dark:text-gray-400 uppercase")},m(i,o){oe(i,e,o),m(e,n),m(e,s)},p(i,o){o&1&&t!==(t=i[3]+"")&&rt(n,t)},d(i){i&&ie(e)}}}function rA(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p=r[0],g=[];for(let _=0;_<p.length;_+=1)g[_]=s3(n3(r,p,_));const w=r[2].default,v=Oo(w,r,r[1],null);return{c(){e=x("section"),t=x("div"),n=x("div"),s=x("div"),i=x("div"),o=x("table"),a=x("thead"),l=x("tr");for(let _=0;_<g.length;_+=1)g[_].c();c=I(),u=x("tbody"),v&&v.c(),f=I(),h=x("div"),h.innerHTML=`<a href="#" class="flex items-center px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border border-gray-100 rounded-md gap-x-2 hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 rtl:-scale-x-100"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"></path></svg> 

            <span>previous</span></a> 

        <div class="items-center hidden md:flex gap-x-3"><a href="#" class="px-2 py-1 text-sm text-blue-500 rounded-md dark:bg-gray-800 bg-blue-100/60">1</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">2</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">3</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">...</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">12</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">13</a> 
            <a href="#" class="px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100">14</a></div> 

        <a href="#" class="flex items-center px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border border-gray-100 rounded-md gap-x-2 hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800"><span>Next</span> 

            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 rtl:-scale-x-100"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path></svg></a>`,b(l,"class","rounded-lg overflow-hidden"),b(a,"class","bg-gray-100 dark:bg-gray-800 rounded-lg"),b(u,"class","bg-white divide-y divide-gray-200 dark:divide-gray-700 dark:bg-gray-900"),b(o,"class","min-w-full divide-y divide-gray-200 dark:divide-gray-700"),b(i,"class","border border-gray-100 dark:border-gray-700 rounded-lg p-8 bg-white"),b(s,"class","min-w-full py-2 align-middle md:px-6 lg:px-8"),b(n,"class","-mx-4 -my-2 sm:-mx-6 lg:-mx-8"),b(t,"class","flex flex-col"),b(h,"class","flex items-center justify-between mt-6"),b(e,"class","mx-auto mt-8")},m(_,k){oe(_,e,k),m(e,t),m(t,n),m(n,s),m(s,i),m(i,o),m(o,a),m(a,l);for(let A=0;A<g.length;A+=1)g[A]&&g[A].m(l,null);m(o,c),m(o,u),v&&v.m(u,null),m(e,f),m(e,h),d=!0},p(_,[k]){if(k&1){p=_[0];let A;for(A=0;A<p.length;A+=1){const C=n3(_,p,A);g[A]?g[A].p(C,k):(g[A]=s3(C),g[A].c(),g[A].m(l,null))}for(;A<g.length;A+=1)g[A].d(1);g.length=p.length}v&&v.p&&(!d||k&2)&&Eo(v,w,_,_[1],d?Io(w,_[1],k,null):Po(_[1]),null)},i(_){d||(R(v,_),d=!0)},o(_){z(v,_),d=!1},d(_){_&&ie(e),gr(g,_),v&&v.d(_)}}}function nA(r,e,t){let{$$slots:n={},$$scope:s}=e,{headings:i=[]}=e;return r.$$set=o=>{"headings"in o&&t(0,i=o.headings),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class zi extends It{constructor(e){super(),Ot(this,e,nA,rA,xt,{headings:0})}}const sA=Object.freeze(Object.defineProperty({__proto__:null,default:zi},Symbol.toStringTag,{value:"Module"}));function uy(r,e){return function(){return r.apply(e,arguments)}}const{toString:iA}=Object.prototype,{getPrototypeOf:pg}=Object,N1=(r=>e=>{const t=iA.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ma=r=>(r=r.toLowerCase(),e=>N1(e)===r),M1=r=>e=>typeof e===r,{isArray:T0}=Array,jf=M1("undefined");function oA(r){return r!==null&&!jf(r)&&r.constructor!==null&&!jf(r.constructor)&&ro(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const fy=ma("ArrayBuffer");function aA(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&fy(r.buffer),e}const lA=M1("string"),ro=M1("function"),dy=M1("number"),C1=r=>r!==null&&typeof r=="object",cA=r=>r===!0||r===!1,_h=r=>{if(N1(r)!=="object")return!1;const e=pg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},uA=ma("Date"),fA=ma("File"),dA=ma("Blob"),hA=ma("FileList"),pA=r=>C1(r)&&ro(r.pipe),mA=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ro(r.append)&&((e=N1(r))==="formdata"||e==="object"&&ro(r.toString)&&r.toString()==="[object FormData]"))},gA=ma("URLSearchParams"),bA=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cd(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,s;if(typeof r!="object"&&(r=[r]),T0(r))for(n=0,s=r.length;n<s;n++)e.call(null,r[n],n,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,r[a],a,r)}}function hy(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const py=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),my=r=>!jf(r)&&r!==py;function Zm(){const{caseless:r}=my(this)&&this||{},e={},t=(n,s)=>{const i=r&&hy(e,s)||s;_h(e[i])&&_h(n)?e[i]=Zm(e[i],n):_h(n)?e[i]=Zm({},n):T0(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&cd(arguments[n],t);return e}const vA=(r,e,t,{allOwnKeys:n}={})=>(cd(e,(s,i)=>{t&&ro(s)?r[i]=uy(s,t):r[i]=s},{allOwnKeys:n}),r),yA=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),wA=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},_A=(r,e,t,n)=>{let s,i,o;const a={};if(e=e||{},r==null)return e;do{for(s=Object.getOwnPropertyNames(r),i=s.length;i-- >0;)o=s[i],(!n||n(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&pg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},xA=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},kA=r=>{if(!r)return null;if(T0(r))return r;let e=r.length;if(!dy(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},SA=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&pg(Uint8Array)),AA=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(r,i[0],i[1])}},TA=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},NA=ma("HTMLFormElement"),MA=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),i3=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),CA=ma("RegExp"),gy=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};cd(t,(s,i)=>{e(s,i,r)!==!1&&(n[i]=s)}),Object.defineProperties(r,n)},LA=r=>{gy(r,(e,t)=>{if(ro(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(ro(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$A=(r,e)=>{const t={},n=s=>{s.forEach(i=>{t[i]=!0})};return T0(r)?n(r):n(String(r).split(e)),t},OA=()=>{},IA=(r,e)=>(r=+r,Number.isFinite(r)?r:e),Fp="abcdefghijklmnopqrstuvwxyz",o3="0123456789",by={DIGIT:o3,ALPHA:Fp,ALPHA_DIGIT:Fp+Fp.toUpperCase()+o3},EA=(r=16,e=by.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function PA(r){return!!(r&&ro(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const DA=r=>{const e=new Array(10),t=(n,s)=>{if(C1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=T0(n)?[]:{};return cd(n,(o,a)=>{const l=t(o,s+1);!jf(l)&&(i[a]=l)}),e[s]=void 0,i}}return n};return t(r,0)},RA=ma("AsyncFunction"),FA=r=>r&&(C1(r)||ro(r))&&ro(r.then)&&ro(r.catch),Je={isArray:T0,isArrayBuffer:fy,isBuffer:oA,isFormData:mA,isArrayBufferView:aA,isString:lA,isNumber:dy,isBoolean:cA,isObject:C1,isPlainObject:_h,isUndefined:jf,isDate:uA,isFile:fA,isBlob:dA,isRegExp:CA,isFunction:ro,isStream:pA,isURLSearchParams:gA,isTypedArray:SA,isFileList:hA,forEach:cd,merge:Zm,extend:vA,trim:bA,stripBOM:yA,inherits:wA,toFlatObject:_A,kindOf:N1,kindOfTest:ma,endsWith:xA,toArray:kA,forEachEntry:AA,matchAll:TA,isHTMLForm:NA,hasOwnProperty:i3,hasOwnProp:i3,reduceDescriptors:gy,freezeMethods:LA,toObjectSet:$A,toCamelCase:MA,noop:OA,toFiniteNumber:IA,findKey:hy,global:py,isContextDefined:my,ALPHABET:by,generateString:EA,isSpecCompliantForm:PA,toJSONObject:DA,isAsyncFn:RA,isThenable:FA};function Rr(r,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s)}Je.inherits(Rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Je.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const vy=Rr.prototype,yy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{yy[r]={value:r}});Object.defineProperties(Rr,yy);Object.defineProperty(vy,"isAxiosError",{value:!0});Rr.from=(r,e,t,n,s,i)=>{const o=Object.create(vy);return Je.toFlatObject(r,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Rr.call(o,r.message,e,t,n,s),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const jA=null;function e2(r){return Je.isPlainObject(r)||Je.isArray(r)}function wy(r){return Je.endsWith(r,"[]")?r.slice(0,-2):r}function a3(r,e,t){return r?r.concat(e).map(function(s,i){return s=wy(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function BA(r){return Je.isArray(r)&&!r.some(e2)}const zA=Je.toFlatObject(Je,{},null,function(e){return/^is[A-Z]/.test(e)});function L1(r,e,t){if(!Je.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Je.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!Je.isUndefined(w[g])});const n=t.metaTokens,s=t.visitor||u,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Je.isSpecCompliantForm(e);if(!Je.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Je.isDate(p))return p.toISOString();if(!l&&Je.isBlob(p))throw new Rr("Blob is not supported. Use a Buffer instead.");return Je.isArrayBuffer(p)||Je.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,w){let v=p;if(p&&!w&&typeof p=="object"){if(Je.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Je.isArray(p)&&BA(p)||(Je.isFileList(p)||Je.endsWith(g,"[]"))&&(v=Je.toArray(p)))return g=wy(g),v.forEach(function(k,A){!(Je.isUndefined(k)||k===null)&&e.append(o===!0?a3([g],A,i):o===null?g:g+"[]",c(k))}),!1}return e2(p)?!0:(e.append(a3(w,g,i),c(p)),!1)}const f=[],h=Object.assign(zA,{defaultVisitor:u,convertValue:c,isVisitable:e2});function d(p,g){if(!Je.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Je.forEach(p,function(v,_){(!(Je.isUndefined(v)||v===null)&&s.call(e,v,Je.isString(_)?_.trim():_,g,h))===!0&&d(v,g?g.concat(_):[_])}),f.pop()}}if(!Je.isObject(r))throw new TypeError("data must be an object");return d(r),e}function l3(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function mg(r,e){this._pairs=[],r&&L1(r,this,e)}const _y=mg.prototype;_y.append=function(e,t){this._pairs.push([e,t])};_y.toString=function(e){const t=e?function(n){return e.call(this,n,l3)}:l3;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function qA(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xy(r,e,t){if(!e)return r;const n=t&&t.encode||qA,s=t&&t.serialize;let i;if(s?i=s(e,t):i=Je.isURLSearchParams(e)?e.toString():new mg(e,t).toString(n),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class HA{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Je.forEach(this.handlers,function(n){n!==null&&e(n)})}}const c3=HA,ky={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VA=typeof URLSearchParams<"u"?URLSearchParams:mg,UA=typeof FormData<"u"?FormData:null,WA=typeof Blob<"u"?Blob:null,YA=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),QA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),na={isBrowser:!0,classes:{URLSearchParams:VA,FormData:UA,Blob:WA},isStandardBrowserEnv:YA,isStandardBrowserWebWorkerEnv:QA,protocols:["http","https","file","blob","url","data"]};function GA(r,e){return L1(r,new na.classes.URLSearchParams,Object.assign({visitor:function(t,n,s,i){return na.isNode&&Je.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function JA(r){return Je.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KA(r){const e={},t=Object.keys(r);let n;const s=t.length;let i;for(n=0;n<s;n++)i=t[n],e[i]=r[i];return e}function Sy(r){function e(t,n,s,i){let o=t[i++];const a=Number.isFinite(+o),l=i>=t.length;return o=!o&&Je.isArray(s)?s.length:o,l?(Je.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!Je.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],i)&&Je.isArray(s[o])&&(s[o]=KA(s[o])),!a)}if(Je.isFormData(r)&&Je.isFunction(r.entries)){const t={};return Je.forEachEntry(r,(n,s)=>{e(JA(n),s,t,0)}),t}return null}const XA={"Content-Type":void 0};function ZA(r,e,t){if(Je.isString(r))try{return(e||JSON.parse)(r),Je.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const $1={transitional:ky,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=Je.isObject(e);if(i&&Je.isHTMLForm(e)&&(e=new FormData(e)),Je.isFormData(e))return s&&s?JSON.stringify(Sy(e)):e;if(Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e))return e;if(Je.isArrayBufferView(e))return e.buffer;if(Je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return GA(e,this.formSerializer).toString();if((a=Je.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return L1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),ZA(e)):e}],transformResponse:[function(e){const t=this.transitional||$1.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&Je.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Rr.from(a,Rr.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:na.classes.FormData,Blob:na.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Je.forEach(["delete","get","head"],function(e){$1.headers[e]={}});Je.forEach(["post","put","patch"],function(e){$1.headers[e]=Je.merge(XA)});const gg=$1,eT=Je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tT=r=>{const e={};let t,n,s;return r&&r.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&eT[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},u3=Symbol("internals");function ff(r){return r&&String(r).trim().toLowerCase()}function xh(r){return r===!1||r==null?r:Je.isArray(r)?r.map(xh):String(r)}function rT(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const nT=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function jp(r,e,t,n,s){if(Je.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!Je.isString(e)){if(Je.isString(n))return e.indexOf(n)!==-1;if(Je.isRegExp(n))return n.test(e)}}function sT(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function iT(r,e){const t=Je.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let O1=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(a,l,c){const u=ff(l);if(!u)throw new Error("header name must be a non-empty string");const f=Je.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=xh(a))}const o=(a,l)=>Je.forEach(a,(c,u)=>i(c,u,l));return Je.isPlainObject(e)||e instanceof this.constructor?o(e,t):Je.isString(e)&&(e=e.trim())&&!nT(e)?o(tT(e),t):e!=null&&i(t,e,n),this}get(e,t){if(e=ff(e),e){const n=Je.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return rT(s);if(Je.isFunction(t))return t.call(this,s,n);if(Je.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ff(e),e){const n=Je.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||jp(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function i(o){if(o=ff(o),o){const a=Je.findKey(n,o);a&&(!t||jp(n,n[a],a,t))&&(delete n[a],s=!0)}}return Je.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];(!e||jp(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return Je.forEach(this,(s,i)=>{const o=Je.findKey(n,i);if(o){t[o]=xh(s),delete t[i];return}const a=e?sT(i):String(i).trim();a!==i&&delete t[i],t[a]=xh(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Je.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&Je.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[u3]=this[u3]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ff(o);n[a]||(iT(s,o),n[a]=!0)}return Je.isArray(e)?e.forEach(i):i(e),this}};O1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Je.freezeMethods(O1.prototype);Je.freezeMethods(O1);const Ua=O1;function Bp(r,e){const t=this||gg,n=e||t,s=Ua.from(n.headers);let i=n.data;return Je.forEach(r,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Ay(r){return!!(r&&r.__CANCEL__)}function ud(r,e,t){Rr.call(this,r??"canceled",Rr.ERR_CANCELED,e,t),this.name="CanceledError"}Je.inherits(ud,Rr,{__CANCEL__:!0});function oT(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Rr("Request failed with status code "+t.status,[Rr.ERR_BAD_REQUEST,Rr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const aT=na.isStandardBrowserEnv?function(){return{write:function(t,n,s,i,o,a){const l=[];l.push(t+"="+encodeURIComponent(n)),Je.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Je.isString(i)&&l.push("path="+i),Je.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function lT(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function cT(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function Ty(r,e){return r&&!lT(e)?cT(r,e):e}const uT=na.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function s(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(o){const a=Je.isString(o)?s(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function fT(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function dT(r,e){r=r||10;const t=new Array(r),n=new Array(r);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[i];o||(o=c),t[s]=l,n[s]=c;let f=i,h=0;for(;f!==s;)h+=t[f++],f=f%r;if(s=(s+1)%r,s===i&&(i=(i+1)%r),c-o<e)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function f3(r,e){let t=0;const n=dT(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-t,l=n(a),c=i<=o;t=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,r(u)}}const hT=typeof XMLHttpRequest<"u",pT=hT&&function(r){return new Promise(function(t,n){let s=r.data;const i=Ua.from(r.headers).normalize(),o=r.responseType;let a;function l(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}Je.isFormData(s)&&(na.isStandardBrowserEnv||na.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(r.auth){const d=r.auth.username||"",p=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";i.set("Authorization","Basic "+btoa(d+":"+p))}const u=Ty(r.baseURL,r.url);c.open(r.method.toUpperCase(),xy(u,r.params,r.paramsSerializer),!0),c.timeout=r.timeout;function f(){if(!c)return;const d=Ua.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:r,request:c};oT(function(v){t(v),l()},function(v){n(v),l()},g),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(n(new Rr("Request aborted",Rr.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new Rr("Network Error",Rr.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let p=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const g=r.transitional||ky;r.timeoutErrorMessage&&(p=r.timeoutErrorMessage),n(new Rr(p,g.clarifyTimeoutError?Rr.ETIMEDOUT:Rr.ECONNABORTED,r,c)),c=null},na.isStandardBrowserEnv){const d=(r.withCredentials||uT(u))&&r.xsrfCookieName&&aT.read(r.xsrfCookieName);d&&i.set(r.xsrfHeaderName,d)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&Je.forEach(i.toJSON(),function(p,g){c.setRequestHeader(g,p)}),Je.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),o&&o!=="json"&&(c.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&c.addEventListener("progress",f3(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",f3(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=d=>{c&&(n(!d||d.type?new ud(null,r,c):d),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const h=fT(u);if(h&&na.protocols.indexOf(h)===-1){n(new Rr("Unsupported protocol "+h+":",Rr.ERR_BAD_REQUEST,r));return}c.send(s||null)})},kh={http:jA,xhr:pT};Je.forEach(kh,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const mT={getAdapter:r=>{r=Je.isArray(r)?r:[r];const{length:e}=r;let t,n;for(let s=0;s<e&&(t=r[s],!(n=Je.isString(t)?kh[t.toLowerCase()]:t));s++);if(!n)throw n===!1?new Rr(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Je.hasOwnProp(kh,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!Je.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:kh};function zp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ud(null,r)}function d3(r){return zp(r),r.headers=Ua.from(r.headers),r.data=Bp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),mT.getAdapter(r.adapter||gg.adapter)(r).then(function(n){return zp(r),n.data=Bp.call(r,r.transformResponse,n),n.headers=Ua.from(n.headers),n},function(n){return Ay(n)||(zp(r),n&&n.response&&(n.response.data=Bp.call(r,r.transformResponse,n.response),n.response.headers=Ua.from(n.response.headers))),Promise.reject(n)})}const h3=r=>r instanceof Ua?r.toJSON():r;function f0(r,e){e=e||{};const t={};function n(c,u,f){return Je.isPlainObject(c)&&Je.isPlainObject(u)?Je.merge.call({caseless:f},c,u):Je.isPlainObject(u)?Je.merge({},u):Je.isArray(u)?u.slice():u}function s(c,u,f){if(Je.isUndefined(u)){if(!Je.isUndefined(c))return n(void 0,c,f)}else return n(c,u,f)}function i(c,u){if(!Je.isUndefined(u))return n(void 0,u)}function o(c,u){if(Je.isUndefined(u)){if(!Je.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,f){if(f in e)return n(c,u);if(f in r)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(h3(c),h3(u),!0)};return Je.forEach(Object.keys(Object.assign({},r,e)),function(u){const f=l[u]||s,h=f(r[u],e[u],u);Je.isUndefined(h)&&f!==a||(t[u]=h)}),t}const Ny="1.4.0",bg={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{bg[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const p3={};bg.transitional=function(e,t,n){function s(i,o){return"[Axios v"+Ny+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new Rr(s(o," has been removed"+(t?" in "+t:"")),Rr.ERR_DEPRECATED);return t&&!p3[o]&&(p3[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function gT(r,e,t){if(typeof r!="object")throw new Rr("options must be an object",Rr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=r[i],l=a===void 0||o(a,i,r);if(l!==!0)throw new Rr("option "+i+" must be "+l,Rr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Rr("Unknown option "+i,Rr.ERR_BAD_OPTION)}}const t2={assertOptions:gT,validators:bg},Tl=t2.validators;let Vh=class{constructor(e){this.defaults=e,this.interceptors={request:new c3,response:new c3}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=f0(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;n!==void 0&&t2.assertOptions(n,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),s!=null&&(Je.isFunction(s)?t.paramsSerializer={serialize:s}:t2.assertOptions(s,{encode:Tl.function,serialize:Tl.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=i&&Je.merge(i.common,i[t.method]),o&&Je.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=Ua.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const p=[d3.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(t);f<h;)u=u.then(p[f++],p[f++]);return u}h=a.length;let d=t;for(f=0;f<h;){const p=a[f++],g=a[f++];try{d=p(d)}catch(w){g.call(this,w);break}}try{u=d3.call(this,d)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=f0(this.defaults,e);const t=Ty(e.baseURL,e.url);return xy(t,e.params,e.paramsSerializer)}};Je.forEach(["delete","get","head","options"],function(e){Vh.prototype[e]=function(t,n){return this.request(f0(n||{},{method:e,url:t,data:(n||{}).data}))}});Je.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,a){return this.request(f0(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Vh.prototype[e]=t(),Vh.prototype[e+"Form"]=t(!0)});const Sh=Vh;let bT=class My{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new ud(i,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new My(function(s){e=s}),cancel:e}}};const vT=bT;function yT(r){return function(t){return r.apply(null,t)}}function wT(r){return Je.isObject(r)&&r.isAxiosError===!0}const r2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(r2).forEach(([r,e])=>{r2[e]=r});const _T=r2;function Cy(r){const e=new Sh(r),t=uy(Sh.prototype.request,e);return Je.extend(t,Sh.prototype,e,{allOwnKeys:!0}),Je.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Cy(f0(r,s))},t}const ps=Cy(gg);ps.Axios=Sh;ps.CanceledError=ud;ps.CancelToken=vT;ps.isCancel=Ay;ps.VERSION=Ny;ps.toFormData=L1;ps.AxiosError=Rr;ps.Cancel=ps.CanceledError;ps.all=function(e){return Promise.all(e)};ps.spread=yT;ps.isAxiosError=wT;ps.mergeConfig=f0;ps.AxiosHeaders=Ua;ps.formToJSON=r=>Sy(Je.isHTMLForm(r)?new FormData(r):r);ps.HttpStatusCode=_T;ps.default=ps;const Ko=ps,{Axios:XG,AxiosError:xT,CanceledError:ZG,isCancel:eJ,CancelToken:tJ,VERSION:rJ,all:nJ,Cancel:sJ,isAxiosError:iJ,spread:oJ,toFormData:aJ,AxiosHeaders:lJ,HttpStatusCode:cJ,formToJSON:uJ,mergeConfig:fJ}=Ko;var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ly(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var s=[null];s.push.apply(s,arguments);var i=Function.bind.apply(e,s);return new i}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var kT=function(e){return ST(e)&&!AT(e)};function ST(r){return!!r&&typeof r=="object"}function AT(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||MT(r)}var TT=typeof Symbol=="function"&&Symbol.for,NT=TT?Symbol.for("react.element"):60103;function MT(r){return r.$$typeof===NT}function CT(r){return Array.isArray(r)?[]:{}}function Bf(r,e){return e.clone!==!1&&e.isMergeableObject(r)?d0(CT(r),r,e):r}function LT(r,e,t){return r.concat(e).map(function(n){return Bf(n,t)})}function $T(r,e){if(!e.customMerge)return d0;var t=e.customMerge(r);return typeof t=="function"?t:d0}function OT(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return Object.propertyIsEnumerable.call(r,e)}):[]}function m3(r){return Object.keys(r).concat(OT(r))}function $y(r,e){try{return e in r}catch{return!1}}function IT(r,e){return $y(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function ET(r,e,t){var n={};return t.isMergeableObject(r)&&m3(r).forEach(function(s){n[s]=Bf(r[s],t)}),m3(e).forEach(function(s){IT(r,s)||($y(r,s)&&t.isMergeableObject(e[s])?n[s]=$T(s,t)(r[s],e[s],t):n[s]=Bf(e[s],t))}),n}function d0(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||LT,t.isMergeableObject=t.isMergeableObject||kT,t.cloneUnlessOtherwiseSpecified=Bf;var n=Array.isArray(e),s=Array.isArray(r),i=n===s;return i?n?t.arrayMerge(r,e,t):ET(r,e,t):Bf(e,t)}d0.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return d0(n,s,t)},{})};var PT=d0,DT=PT;const RT=vg(DT);var FT=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==s||o.enumerable!==!0)return!1}return!0},g3=typeof Symbol<"u"&&Symbol,jT=FT,BT=function(){return typeof g3!="function"||typeof Symbol!="function"||typeof g3("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:jT()},b3={foo:{}},zT=Object,qT=function(){return{__proto__:b3}.foo===b3.foo&&!({__proto__:null}instanceof zT)},HT="Function.prototype.bind called on incompatible ",qp=Array.prototype.slice,VT=Object.prototype.toString,UT="[object Function]",WT=function(e){var t=this;if(typeof t!="function"||VT.call(t)!==UT)throw new TypeError(HT+t);for(var n=qp.call(arguments,1),s,i=function(){if(this instanceof s){var u=t.apply(this,n.concat(qp.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,n.concat(qp.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],l=0;l<o;l++)a.push("$"+l);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s},YT=WT,yg=Function.prototype.bind||YT,QT=yg,GT=QT.call(Function.call,Object.prototype.hasOwnProperty),Mr,h0=SyntaxError,Oy=Function,Ju=TypeError,Hp=function(r){try{return Oy('"use strict"; return ('+r+").constructor;")()}catch{}},Dc=Object.getOwnPropertyDescriptor;if(Dc)try{Dc({},"")}catch{Dc=null}var Vp=function(){throw new Ju},JT=Dc?function(){try{return arguments.callee,Vp}catch{try{return Dc(arguments,"callee").get}catch{return Vp}}}():Vp,Tu=BT(),KT=qT(),Ts=Object.getPrototypeOf||(KT?function(r){return r.__proto__}:null),Du={},XT=typeof Uint8Array>"u"||!Ts?Mr:Ts(Uint8Array),Rc={"%AggregateError%":typeof AggregateError>"u"?Mr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Mr:ArrayBuffer,"%ArrayIteratorPrototype%":Tu&&Ts?Ts([][Symbol.iterator]()):Mr,"%AsyncFromSyncIteratorPrototype%":Mr,"%AsyncFunction%":Du,"%AsyncGenerator%":Du,"%AsyncGeneratorFunction%":Du,"%AsyncIteratorPrototype%":Du,"%Atomics%":typeof Atomics>"u"?Mr:Atomics,"%BigInt%":typeof BigInt>"u"?Mr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Mr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Mr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Mr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Mr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Mr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Mr:FinalizationRegistry,"%Function%":Oy,"%GeneratorFunction%":Du,"%Int8Array%":typeof Int8Array>"u"?Mr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Mr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Mr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Tu&&Ts?Ts(Ts([][Symbol.iterator]())):Mr,"%JSON%":typeof JSON=="object"?JSON:Mr,"%Map%":typeof Map>"u"?Mr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Tu||!Ts?Mr:Ts(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Mr:Promise,"%Proxy%":typeof Proxy>"u"?Mr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Mr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Mr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Tu||!Ts?Mr:Ts(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Mr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Tu&&Ts?Ts(""[Symbol.iterator]()):Mr,"%Symbol%":Tu?Symbol:Mr,"%SyntaxError%":h0,"%ThrowTypeError%":JT,"%TypedArray%":XT,"%TypeError%":Ju,"%Uint8Array%":typeof Uint8Array>"u"?Mr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Mr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Mr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Mr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Mr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Mr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Mr:WeakSet};if(Ts)try{null.error}catch(r){var ZT=Ts(Ts(r));Rc["%Error.prototype%"]=ZT}var eN=function r(e){var t;if(e==="%AsyncFunction%")t=Hp("async function () {}");else if(e==="%GeneratorFunction%")t=Hp("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Hp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=r("%AsyncGenerator%");s&&Ts&&(t=Ts(s.prototype))}return Rc[e]=t,t},v3={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fd=yg,Uh=GT,tN=fd.call(Function.call,Array.prototype.concat),rN=fd.call(Function.apply,Array.prototype.splice),y3=fd.call(Function.call,String.prototype.replace),Wh=fd.call(Function.call,String.prototype.slice),nN=fd.call(Function.call,RegExp.prototype.exec),sN=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,iN=/\\(\\)?/g,oN=function(e){var t=Wh(e,0,1),n=Wh(e,-1);if(t==="%"&&n!=="%")throw new h0("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new h0("invalid intrinsic syntax, expected opening `%`");var s=[];return y3(e,sN,function(i,o,a,l){s[s.length]=a?y3(l,iN,"$1"):o||i}),s},aN=function(e,t){var n=e,s;if(Uh(v3,n)&&(s=v3[n],n="%"+s[0]+"%"),Uh(Rc,n)){var i=Rc[n];if(i===Du&&(i=eN(n)),typeof i>"u"&&!t)throw new Ju("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new h0("intrinsic "+e+" does not exist!")},wg=function(e,t){if(typeof e!="string"||e.length===0)throw new Ju("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ju('"allowMissing" argument must be a boolean');if(nN(/^%?[^%]*%?$/,e)===null)throw new h0("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=oN(e),s=n.length>0?n[0]:"",i=aN("%"+s+"%",t),o=i.name,a=i.value,l=!1,c=i.alias;c&&(s=c[0],rN(n,tN([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],d=Wh(h,0,1),p=Wh(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new h0("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),s+="."+h,o="%"+s+"%",Uh(Rc,o))a=Rc[o];else if(a!=null){if(!(h in a)){if(!t)throw new Ju("base intrinsic for "+e+" exists, but the property is not available.");return}if(Dc&&u+1>=n.length){var g=Dc(a,h);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else f=Uh(a,h),a=a[h];f&&!l&&(Rc[o]=a)}}return a},Iy={exports:{}};(function(r){var e=yg,t=wg,n=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(s,n),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(f){var h=i(e,s,arguments);if(o&&a){var d=o(h,"length");d.configurable&&a(h,"length",{value:1+l(0,f.length-(arguments.length-1))})}return h};var c=function(){return i(e,n,arguments)};a?a(r.exports,"apply",{value:c}):r.exports.apply=c})(Iy);var lN=Iy.exports,Ey=wg,Py=lN,cN=Py(Ey("String.prototype.indexOf")),uN=function(e,t){var n=Ey(e,!!t);return typeof n=="function"&&cN(e,".prototype.")>-1?Py(n):n};const fN={},dN=Object.freeze(Object.defineProperty({__proto__:null,default:fN},Symbol.toStringTag,{value:"Module"})),hN=Ly(dN);var _g=typeof Map=="function"&&Map.prototype,Up=Object.getOwnPropertyDescriptor&&_g?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Yh=_g&&Up&&typeof Up.get=="function"?Up.get:null,w3=_g&&Map.prototype.forEach,xg=typeof Set=="function"&&Set.prototype,Wp=Object.getOwnPropertyDescriptor&&xg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Qh=xg&&Wp&&typeof Wp.get=="function"?Wp.get:null,_3=xg&&Set.prototype.forEach,pN=typeof WeakMap=="function"&&WeakMap.prototype,Af=pN?WeakMap.prototype.has:null,mN=typeof WeakSet=="function"&&WeakSet.prototype,Tf=mN?WeakSet.prototype.has:null,gN=typeof WeakRef=="function"&&WeakRef.prototype,x3=gN?WeakRef.prototype.deref:null,bN=Boolean.prototype.valueOf,vN=Object.prototype.toString,yN=Function.prototype.toString,wN=String.prototype.match,kg=String.prototype.slice,jl=String.prototype.replace,_N=String.prototype.toUpperCase,k3=String.prototype.toLowerCase,Dy=RegExp.prototype.test,S3=Array.prototype.concat,Xo=Array.prototype.join,xN=Array.prototype.slice,A3=Math.floor,n2=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yp=Object.getOwnPropertySymbols,s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,p0=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Gs=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===p0||"symbol")?Symbol.toStringTag:null,Ry=Object.prototype.propertyIsEnumerable,T3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function N3(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Dy.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-A3(-r):A3(r);if(n!==r){var s=String(n),i=kg.call(e,s.length+1);return jl.call(s,t,"$&_")+"."+jl.call(jl.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return jl.call(e,t,"$&_")}var i2=hN,M3=i2.custom,C3=jy(M3)?M3:null,kN=function r(e,t,n,s){var i=t||{};if(Il(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Il(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Il(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Il(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Il(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zy(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?N3(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?N3(e,c):c}var u=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return o2(e)?"[Array]":"[Object]";var f=zN(i,n);if(typeof s>"u")s=[];else if(By(s,e)>=0)return"[Circular]";function h(J,U,ne){if(U&&(s=xN.call(s),s.push(U)),ne){var G={depth:i.depth};return Il(i,"quoteStyle")&&(G.quoteStyle=i.quoteStyle),r(J,G,n+1,s)}return r(J,i,n+1,s)}if(typeof e=="function"&&!L3(e)){var d=ON(e),p=Qd(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Xo.call(p,", ")+" }":"")}if(jy(e)){var g=p0?jl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):s2.call(e);return typeof e=="object"&&!p0?df(g):g}if(FN(e)){for(var w="<"+k3.call(String(e.nodeName)),v=e.attributes||[],_=0;_<v.length;_++)w+=" "+v[_].name+"="+Fy(SN(v[_].value),"double",i);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+k3.call(String(e.nodeName))+">",w}if(o2(e)){if(e.length===0)return"[]";var k=Qd(e,h);return f&&!BN(k)?"["+a2(k,f)+"]":"[ "+Xo.call(k,", ")+" ]"}if(TN(e)){var A=Qd(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Ry.call(e,"cause")?"{ ["+String(e)+"] "+Xo.call(S3.call("[cause]: "+h(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Xo.call(A,", ")+" }"}if(typeof e=="object"&&o){if(C3&&typeof e[C3]=="function"&&i2)return i2(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(IN(e)){var C=[];return w3&&w3.call(e,function(J,U){C.push(h(U,e,!0)+" => "+h(J,e))}),$3("Map",Yh.call(e),C,f)}if(DN(e)){var N=[];return _3&&_3.call(e,function(J){N.push(h(J,e))}),$3("Set",Qh.call(e),N,f)}if(EN(e))return Qp("WeakMap");if(RN(e))return Qp("WeakSet");if(PN(e))return Qp("WeakRef");if(MN(e))return df(h(Number(e)));if(LN(e))return df(h(n2.call(e)));if(CN(e))return df(bN.call(e));if(NN(e))return df(h(String(e)));if(!AN(e)&&!L3(e)){var T=Qd(e,h),O=T3?T3(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",Q=!O&&Gs&&Object(e)===e&&Gs in e?kg.call(ic(e),8,-1):D?"Object":"",E=O||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=E+(Q||D?"["+Xo.call(S3.call([],Q||[],D||[]),": ")+"] ":"");return T.length===0?j+"{}":f?j+"{"+a2(T,f)+"}":j+"{ "+Xo.call(T,", ")+" }"}return String(e)};function Fy(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function SN(r){return jl.call(String(r),/"/g,"&quot;")}function o2(r){return ic(r)==="[object Array]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function AN(r){return ic(r)==="[object Date]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function L3(r){return ic(r)==="[object RegExp]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function TN(r){return ic(r)==="[object Error]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function NN(r){return ic(r)==="[object String]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function MN(r){return ic(r)==="[object Number]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function CN(r){return ic(r)==="[object Boolean]"&&(!Gs||!(typeof r=="object"&&Gs in r))}function jy(r){if(p0)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!s2)return!1;try{return s2.call(r),!0}catch{}return!1}function LN(r){if(!r||typeof r!="object"||!n2)return!1;try{return n2.call(r),!0}catch{}return!1}var $N=Object.prototype.hasOwnProperty||function(r){return r in this};function Il(r,e){return $N.call(r,e)}function ic(r){return vN.call(r)}function ON(r){if(r.name)return r.name;var e=wN.call(yN.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function By(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function IN(r){if(!Yh||!r||typeof r!="object")return!1;try{Yh.call(r);try{Qh.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function EN(r){if(!Af||!r||typeof r!="object")return!1;try{Af.call(r,Af);try{Tf.call(r,Tf)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function PN(r){if(!x3||!r||typeof r!="object")return!1;try{return x3.call(r),!0}catch{}return!1}function DN(r){if(!Qh||!r||typeof r!="object")return!1;try{Qh.call(r);try{Yh.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function RN(r){if(!Tf||!r||typeof r!="object")return!1;try{Tf.call(r,Tf);try{Af.call(r,Af)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function FN(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function zy(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return zy(kg.call(r,0,e.maxStringLength),e)+n}var s=jl.call(jl.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,jN);return Fy(s,"single",e)}function jN(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+_N.call(e.toString(16))}function df(r){return"Object("+r+")"}function Qp(r){return r+" { ? }"}function $3(r,e,t,n){var s=n?a2(t,n):Xo.call(t,", ");return r+" ("+e+") {"+s+"}"}function BN(r){for(var e=0;e<r.length;e++)if(By(r[e],`
`)>=0)return!1;return!0}function zN(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Xo.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Xo.call(Array(e+1),t)}}function a2(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Xo.call(r,","+t)+`
`+e.prev}function Qd(r,e){var t=o2(r),n=[];if(t){n.length=r.length;for(var s=0;s<r.length;s++)n[s]=Il(r,s)?e(r[s],r):""}var i=typeof Yp=="function"?Yp(r):[],o;if(p0){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var l in r)Il(r,l)&&(t&&String(Number(l))===l&&l<r.length||p0&&o["$"+l]instanceof Symbol||(Dy.call(/[^\w$]/,l)?n.push(e(l,r)+": "+e(r[l],r)):n.push(l+": "+e(r[l],r))));if(typeof Yp=="function")for(var c=0;c<i.length;c++)Ry.call(r,i[c])&&n.push("["+e(i[c])+"]: "+e(r[i[c]],r));return n}var Sg=wg,N0=uN,qN=kN,HN=Sg("%TypeError%"),Gd=Sg("%WeakMap%",!0),Jd=Sg("%Map%",!0),VN=N0("WeakMap.prototype.get",!0),UN=N0("WeakMap.prototype.set",!0),WN=N0("WeakMap.prototype.has",!0),YN=N0("Map.prototype.get",!0),QN=N0("Map.prototype.set",!0),GN=N0("Map.prototype.has",!0),Ag=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},JN=function(r,e){var t=Ag(r,e);return t&&t.value},KN=function(r,e,t){var n=Ag(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},XN=function(r,e){return!!Ag(r,e)},ZN=function(){var e,t,n,s={assert:function(i){if(!s.has(i))throw new HN("Side channel does not contain "+qN(i))},get:function(i){if(Gd&&i&&(typeof i=="object"||typeof i=="function")){if(e)return VN(e,i)}else if(Jd){if(t)return YN(t,i)}else if(n)return JN(n,i)},has:function(i){if(Gd&&i&&(typeof i=="object"||typeof i=="function")){if(e)return WN(e,i)}else if(Jd){if(t)return GN(t,i)}else if(n)return XN(n,i);return!1},set:function(i,o){Gd&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Gd),UN(e,i,o)):Jd?(t||(t=new Jd),QN(t,i,o)):(n||(n={key:{},next:null}),KN(n,i,o))}};return s},eM=String.prototype.replace,tM=/%20/g,Gp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Tg={default:Gp.RFC3986,formatters:{RFC1738:function(r){return eM.call(r,tM,"+")},RFC3986:function(r){return String(r)}},RFC1738:Gp.RFC1738,RFC3986:Gp.RFC3986},rM=Tg,Jp=Object.prototype.hasOwnProperty,Nc=Array.isArray,Qo=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),nM=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Nc(n)){for(var s=[],i=0;i<n.length;++i)typeof n[i]<"u"&&s.push(n[i]);t.obj[t.prop]=s}}},qy=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},sM=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Nc(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Jp.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return Nc(e)&&!Nc(t)&&(s=qy(e,n)),Nc(e)&&Nc(t)?(t.forEach(function(i,o){if(Jp.call(e,o)){var a=e[o];a&&typeof a=="object"&&i&&typeof i=="object"?e[o]=r(a,i,n):e.push(i)}else e[o]=i}),e):Object.keys(t).reduce(function(i,o){var a=t[o];return Jp.call(i,o)?i[o]=r(i[o],a,n):i[o]=a,i},s)},iM=function(e,t){return Object.keys(t).reduce(function(n,s){return n[s]=t[s],n},e)},oM=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},aM=function(e,t,n,s,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===rM.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Qo[c];continue}if(c<2048){a=a+(Qo[192|c>>6]+Qo[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Qo[224|c>>12]+Qo[128|c>>6&63]+Qo[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Qo[240|c>>18]+Qo[128|c>>12&63]+Qo[128|c>>6&63]+Qo[128|c&63]}return a},lM=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],s=0;s<t.length;++s)for(var i=t[s],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],u=o[c];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(t.push({obj:o,prop:c}),n.push(u))}return nM(t),e},cM=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},uM=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},fM=function(e,t){return[].concat(e,t)},dM=function(e,t){if(Nc(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)},Hy={arrayToObject:qy,assign:iM,combine:fM,compact:lM,decode:oM,encode:aM,isBuffer:uM,isRegExp:cM,maybeMap:dM,merge:sM},Vy=ZN,Ah=Hy,Nf=Tg,hM=Object.prototype.hasOwnProperty,O3={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},za=Array.isArray,pM=Array.prototype.push,Uy=function(r,e){pM.apply(r,za(e)?e:[e])},mM=Date.prototype.toISOString,I3=Nf.default,Us={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ah.encode,encodeValuesOnly:!1,format:I3,formatter:Nf.formatters[I3],indices:!1,serializeDate:function(e){return mM.call(e)},skipNulls:!1,strictNullHandling:!1},gM=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Kp={},bM=function r(e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w){for(var v=e,_=w,k=0,A=!1;(_=_.get(Kp))!==void 0&&!A;){var C=_.get(e);if(k+=1,typeof C<"u"){if(C===k)throw new RangeError("Cyclic object value");A=!0}typeof _.get(Kp)>"u"&&(k=0)}if(typeof l=="function"?v=l(t,v):v instanceof Date?v=f(v):n==="comma"&&za(v)&&(v=Ah.maybeMap(v,function(G){return G instanceof Date?f(G):G})),v===null){if(i)return a&&!p?a(t,Us.encoder,g,"key",h):t;v=""}if(gM(v)||Ah.isBuffer(v)){if(a){var N=p?t:a(t,Us.encoder,g,"key",h);return[d(N)+"="+d(a(v,Us.encoder,g,"value",h))]}return[d(t)+"="+d(String(v))]}var T=[];if(typeof v>"u")return T;var O;if(n==="comma"&&za(v))p&&a&&(v=Ah.maybeMap(v,a)),O=[{value:v.length>0?v.join(",")||null:void 0}];else if(za(l))O=l;else{var D=Object.keys(v);O=c?D.sort(c):D}for(var Q=s&&za(v)&&v.length===1?t+"[]":t,E=0;E<O.length;++E){var j=O[E],J=typeof j=="object"&&typeof j.value<"u"?j.value:v[j];if(!(o&&J===null)){var U=za(v)?typeof n=="function"?n(Q,j):Q:Q+(u?"."+j:"["+j+"]");w.set(e,k);var ne=Vy();ne.set(Kp,w),Uy(T,r(J,U,n,s,i,o,n==="comma"&&p&&za(v)?null:a,l,c,u,f,h,d,p,g,ne))}}return T},vM=function(e){if(!e)return Us;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Us.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Nf.default;if(typeof e.format<"u"){if(!hM.call(Nf.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Nf.formatters[n],i=Us.filter;return(typeof e.filter=="function"||za(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Us.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Us.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Us.charsetSentinel,delimiter:typeof e.delimiter>"u"?Us.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Us.encode,encoder:typeof e.encoder=="function"?e.encoder:Us.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Us.encodeValuesOnly,filter:i,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Us.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Us.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Us.strictNullHandling}},yM=function(r,e){var t=r,n=vM(e),s,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):za(n.filter)&&(i=n.filter,s=i);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in O3?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=O3[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(t)),n.sort&&s.sort(n.sort);for(var u=Vy(),f=0;f<s.length;++f){var h=s[f];n.skipNulls&&t[h]===null||Uy(o,bM(t[h],h,l,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},m0=Hy,l2=Object.prototype.hasOwnProperty,wM=Array.isArray,As={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m0.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_M=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Wy=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},xM="utf8=%26%2310003%3B",kM="utf8=%E2%9C%93",SM=function(e,t){var n={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=s.split(t.delimiter,i),a=-1,l,c=t.charset;if(t.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===kM?c="utf-8":o[l]===xM&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var u=o[l],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,d,p;h===-1?(d=t.decoder(u,As.decoder,c,"key"),p=t.strictNullHandling?null:""):(d=t.decoder(u.slice(0,h),As.decoder,c,"key"),p=m0.maybeMap(Wy(u.slice(h+1),t),function(g){return t.decoder(g,As.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=_M(p)),u.indexOf("[]=")>-1&&(p=wM(p)?[p]:p),l2.call(n,d)?n[d]=m0.combine(n[d],p):n[d]=p}return n},AM=function(r,e,t,n){for(var s=n?e:Wy(e,t),i=r.length-1;i>=0;--i){var o,a=r[i];if(a==="[]"&&t.parseArrays)o=[].concat(s);else{o=t.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!t.parseArrays&&l===""?o={0:s}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(o=[],o[c]=s):l!=="__proto__"&&(o[l]=s)}s=o}return s},TM=function(e,t,n,s){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(i),c=l?i.slice(0,l.index):i,u=[];if(c){if(!n.plainObjects&&l2.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var f=0;n.depth>0&&(l=a.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&l2.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),AM(u,t,n,s)}},NM=function(e){if(!e)return As;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?As.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?As.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:As.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:As.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:As.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:As.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:As.comma,decoder:typeof e.decoder=="function"?e.decoder:As.decoder,delimiter:typeof e.delimiter=="string"||m0.isRegExp(e.delimiter)?e.delimiter:As.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:As.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:As.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:As.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:As.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:As.strictNullHandling}},MM=function(r,e){var t=NM(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?SM(r,t):r,s=t.plainObjects?Object.create(null):{},i=Object.keys(n),o=0;o<i.length;++o){var a=i[o],l=TM(a,n[a],t,typeof r=="string");s=m0.merge(s,l,t)}return t.allowSparse===!0?s:m0.compact(s)},CM=yM,LM=MM,$M=Tg,E3={formats:$M,parse:LM,stringify:CM},Yy={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(r,e){(function(t,n){r.exports=n()})(Hu,function(){var t={};t.version="0.2.0";var n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(p){var g,w;for(g in p)w=p[g],w!==void 0&&p.hasOwnProperty(g)&&(n[g]=w);return this},t.status=null,t.set=function(p){var g=t.isStarted();p=s(p,n.minimum,1),t.status=p===1?null:p;var w=t.render(!g),v=w.querySelector(n.barSelector),_=n.speed,k=n.easing;return w.offsetWidth,a(function(A){n.positionUsing===""&&(n.positionUsing=t.getPositioningCSS()),l(v,o(p,_,k)),p===1?(l(w,{transition:"none",opacity:1}),w.offsetWidth,setTimeout(function(){l(w,{transition:"all "+_+"ms linear",opacity:0}),setTimeout(function(){t.remove(),A()},_)},_)):setTimeout(A,_)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var p=function(){setTimeout(function(){t.status&&(t.trickle(),p())},n.trickleSpeed)};return n.trickle&&p(),this},t.done=function(p){return!p&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(p){var g=t.status;return g?(typeof p!="number"&&(p=(1-g)*s(Math.random()*g,.1,.95)),g=s(g+p,0,.994),t.set(g)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},function(){var p=0,g=0;t.promise=function(w){return!w||w.state()==="resolved"?this:(g===0&&t.start(),p++,g++,w.always(function(){g--,g===0?(p=0,t.done()):t.set((p-g)/p)}),this)}}(),t.render=function(p){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=n.template;var w=g.querySelector(n.barSelector),v=p?"-100":i(t.status||0),_=document.querySelector(n.parent),k;return l(w,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),n.showSpinner||(k=g.querySelector(n.spinnerSelector),k&&d(k)),_!=document.body&&u(_,"nprogress-custom-parent"),_.appendChild(g),g},t.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(n.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&d(p)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var p=document.body.style,g="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return g+"Perspective"in p?"translate3d":g+"Transform"in p?"translate":"margin"};function s(p,g,w){return p<g?g:p>w?w:p}function i(p){return(-1+p)*100}function o(p,g,w){var v;return n.positionUsing==="translate3d"?v={transform:"translate3d("+i(p)+"%,0,0)"}:n.positionUsing==="translate"?v={transform:"translate("+i(p)+"%,0)"}:v={"margin-left":i(p)+"%"},v.transition="all "+g+"ms "+w,v}var a=function(){var p=[];function g(){var w=p.shift();w&&w(g)}return function(w){p.push(w),p.length==1&&g()}}(),l=function(){var p=["Webkit","O","Moz","ms"],g={};function w(A){return A.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(C,N){return N.toUpperCase()})}function v(A){var C=document.body.style;if(A in C)return A;for(var N=p.length,T=A.charAt(0).toUpperCase()+A.slice(1),O;N--;)if(O=p[N]+T,O in C)return O;return A}function _(A){return A=w(A),g[A]||(g[A]=v(A))}function k(A,C,N){C=_(C),A.style[C]=N}return function(A,C){var N=arguments,T,O;if(N.length==2)for(T in C)O=C[T],O!==void 0&&C.hasOwnProperty(T)&&k(A,T,O);else k(A,N[1],N[2])}}();function c(p,g){var w=typeof p=="string"?p:h(p);return w.indexOf(" "+g+" ")>=0}function u(p,g){var w=h(p),v=w+g;c(w,g)||(p.className=v.substring(1))}function f(p,g){var w=h(p),v;c(p,g)&&(v=w.replace(" "+g+" "," "),p.className=v.substring(1,v.length-1))}function h(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function d(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return t})})(Yy);var OM=Yy.exports;const ea=vg(OM);function IM(r,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>r.apply(this,n),e)}}function tl(r,e){return document.dispatchEvent(new CustomEvent(`inertia:${r}`,e))}var EM=r=>tl("before",{cancelable:!0,detail:{visit:r}}),PM=r=>tl("error",{detail:{errors:r}}),DM=r=>tl("exception",{cancelable:!0,detail:{exception:r}}),P3=r=>tl("finish",{detail:{visit:r}}),RM=r=>tl("invalid",{cancelable:!0,detail:{response:r}}),hf=r=>tl("navigate",{detail:{page:r}}),FM=r=>tl("progress",{detail:{progress:r}}),jM=r=>tl("start",{detail:{visit:r}}),BM=r=>tl("success",{detail:{page:r}});function c2(r){return r instanceof File||r instanceof Blob||r instanceof FileList&&r.length>0||r instanceof FormData&&Array.from(r.values()).some(e=>c2(e))||typeof r=="object"&&r!==null&&Object.values(r).some(e=>c2(e))}function Qy(r,e=new FormData,t=null){r=r||{};for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&Jy(e,Gy(t,n),r[n]);return e}function Gy(r,e){return r?r+"["+e+"]":e}function Jy(r,e,t){if(Array.isArray(t))return Array.from(t.keys()).forEach(n=>Jy(r,Gy(e,n.toString()),t[n]));if(t instanceof Date)return r.append(e,t.toISOString());if(t instanceof File)return r.append(e,t,t.name);if(t instanceof Blob)return r.append(e,t);if(typeof t=="boolean")return r.append(e,t?"1":"0");if(typeof t=="string")return r.append(e,t);if(typeof t=="number")return r.append(e,`${t}`);if(t==null)return r.append(e,"");Qy(t,r,e)}var zM={modal:null,listener:null,show(r){typeof r=="object"&&(r=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(r)}`);let e=document.createElement("html");e.innerHTML=r,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let t=document.createElement("iframe");if(t.style.backgroundColor="white",t.style.borderRadius="5px",t.style.width="100%",t.style.height="100%",this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(e.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(r){r.keyCode===27&&this.hide()}};function Nu(r){return new URL(r.toString(),window.location.toString())}function Ky(r,e,t,n="brackets"){let s=/^https?:\/\//.test(e.toString()),i=s||e.toString().startsWith("/"),o=!i&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),a=e.toString().includes("?")||r==="get"&&Object.keys(t).length,l=e.toString().includes("#"),c=new URL(e.toString(),"http://localhost");return r==="get"&&Object.keys(t).length&&(c.search=E3.stringify(RT(E3.parse(c.search,{ignoreQueryPrefix:!0}),t),{encodeValuesOnly:!0,arrayFormat:n}),t={}),[[s?`${c.protocol}//${c.host}`:"",i?c.pathname:"",o?c.pathname.substring(1):"",a?c.search:"",l?c.hash:""].join(""),t]}function pf(r){return r=new URL(r.href),r.hash="",r}var D3=typeof window>"u",qM=class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:t,swapComponent:n}){this.page=e,this.resolveComponent=t,this.swapComponent=n,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var e;this.navigationType==="reload"&&((e=window.history.state)!=null&&e.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(()=>hf(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",IM(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var e;return(e=document.getElementById(window.location.hash.slice(1)))==null?void 0:e.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((e,t)=>{let n=this.page.scrollRegions[t];if(n)typeof e.scrollTo=="function"?e.scrollTo(n.left,n.top):(e.scrollTop=n.top,e.scrollLeft=n.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),hf(e)})}locationVisit(e,t){try{let n={preserveScroll:t};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(n)),window.location.href=e.href,pf(window.location).href===pf(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(e){var n,s;let t=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=((n=window.history.state)==null?void 0:n.rememberedState)??{},e.scrollRegions=((s=window.history.state)==null?void 0:s.scrollRegions)??[],this.setPage(e,{preserveScroll:t.preserveScroll,preserveState:!0}).then(()=>{t.preserveScroll&&this.restoreScrollPositions(),hf(e)})}isLocationVisitResponse(e){return!!(e&&e.status===409&&e.headers["x-inertia-location"])}isInertiaResponse(e){return!!(e!=null&&e.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:t=!1,interrupted:n=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=t,e.interrupted=n,P3(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,P3(e),e.onFinish(e))}resolvePreserveOption(e,t){return typeof e=="function"?e(t):e==="errors"?Object.keys(t.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(e,{method:t="get",data:n={},replace:s=!1,preserveScroll:i=!1,preserveState:o=!1,only:a=[],headers:l={},errorBag:c="",forceFormData:u=!1,onCancelToken:f=()=>{},onBefore:h=()=>{},onStart:d=()=>{},onProgress:p=()=>{},onFinish:g=()=>{},onCancel:w=()=>{},onSuccess:v=()=>{},onError:_=()=>{},queryStringArrayFormat:k="brackets"}={}){let A=typeof e=="string"?Nu(e):e;if((c2(n)||u)&&!(n instanceof FormData)&&(n=Qy(n)),!(n instanceof FormData)){let[T,O]=Ky(t,A,n,k);A=Nu(T),n=O}let C={url:A,method:t,data:n,replace:s,preserveScroll:i,preserveState:o,only:a,headers:l,errorBag:c,forceFormData:u,queryStringArrayFormat:k,cancelled:!1,completed:!1,interrupted:!1};if(h(C)===!1||!EM(C))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let N=this.createVisitId();this.activeVisit={...C,onCancelToken:f,onBefore:h,onStart:d,onProgress:p,onFinish:g,onCancel:w,onSuccess:v,onError:_,queryStringArrayFormat:k,cancelToken:new AbortController},f({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),jM(C),d(C),Ko({method:t,url:pf(A).href,data:t==="get"?{}:n,params:t==="get"?n:{},signal:this.activeVisit.cancelToken.signal,headers:{...l,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...a.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":a.join(",")}:{},...c&&c.length?{"X-Inertia-Error-Bag":c}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:T=>{n instanceof FormData&&(T.percentage=T.progress?Math.round(T.progress*100):0,FM(T),p(T))}}).then(T=>{var E;if(!this.isInertiaResponse(T))return Promise.reject({response:T});let O=T.data;a.length&&O.component===this.page.component&&(O.props={...this.page.props,...O.props}),i=this.resolvePreserveOption(i,O),o=this.resolvePreserveOption(o,O),o&&((E=window.history.state)!=null&&E.rememberedState)&&O.component===this.page.component&&(O.rememberedState=window.history.state.rememberedState);let D=A,Q=Nu(O.url);return D.hash&&!Q.hash&&pf(D).href===Q.href&&(Q.hash=D.hash,O.url=Q.href),this.setPage(O,{visitId:N,replace:s,preserveScroll:i,preserveState:o})}).then(()=>{let T=this.page.props.errors||{};if(Object.keys(T).length>0){let O=c?T[c]?T[c]:{}:T;return PM(O),_(O)}return BM(this.page),v(this.page)}).catch(T=>{if(this.isInertiaResponse(T.response))return this.setPage(T.response.data,{visitId:N});if(this.isLocationVisitResponse(T.response)){let O=Nu(T.response.headers["x-inertia-location"]),D=A;D.hash&&!O.hash&&pf(D).href===O.href&&(O.hash=D.hash),this.locationVisit(O,i===!0)}else if(T.response)RM(T.response)&&zM.show(T.response.data);else return Promise.reject(T)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(T=>{if(!Ko.isCancel(T)){let O=DM(T);if(this.activeVisit&&this.finishVisit(this.activeVisit),O)return Promise.reject(T)}})}setPage(e,{visitId:t=this.createVisitId(),replace:n=!1,preserveScroll:s=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(o=>{t===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},n=n||Nu(e.url).href===window.location.href,n?this.replaceState(e):this.pushState(e),this.swapComponent({component:o,page:e,preserveState:i}).then(()=>{s||this.resetScrollPositions(),n||hf(e)}))})}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(e.state!==null){let t=e.state,n=this.createVisitId();Promise.resolve(this.resolveComponent(t.component)).then(s=>{n===this.visitId&&(this.page=t,this.swapComponent({component:s,page:t,preserveState:!1}).then(()=>{this.restoreScrollPositions(),hf(t)}))})}else{let t=Nu(this.page.url);t.hash=window.location.hash,this.replaceState({...this.page,url:t.href}),this.resetScrollPositions()}}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,t={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${t.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...t,replace:!0})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}remember(e,t="default"){var n;D3||this.replaceState({...this.page,rememberedState:{...(n=this.page)==null?void 0:n.rememberedState,[t]:e}})}restore(e="default"){var t,n;if(!D3)return(n=(t=window.history.state)==null?void 0:t.rememberedState)==null?void 0:n[e]}on(e,t){let n=s=>{let i=t(s);s.cancelable&&!s.defaultPrevented&&i===!1&&s.preventDefault()};return document.addEventListener(`inertia:${e}`,n),()=>document.removeEventListener(`inertia:${e}`,n)}},Xy=null;function HM(r){document.addEventListener("inertia:start",VM.bind(null,r)),document.addEventListener("inertia:progress",UM),document.addEventListener("inertia:finish",WM)}function VM(r){Xy=setTimeout(()=>ea.start(),r)}function UM(r){var e;ea.isStarted()&&((e=r.detail.progress)!=null&&e.percentage)&&ea.set(Math.max(ea.status,r.detail.progress.percentage/100*.9))}function WM(r){if(clearTimeout(Xy),ea.isStarted())r.detail.visit.completed?ea.done():r.detail.visit.interrupted?ea.set(0):r.detail.visit.cancelled&&(ea.done(),ea.remove());else return}function YM(r){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${r};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${r}, 0 0 5px ${r};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${r};
      border-left-color: ${r};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function QM({delay:r=250,color:e="#29d",includeCSS:t=!0,showSpinner:n=!1}={}){HM(r),ea.configure({showSpinner:n}),t&&YM(e)}function GM(r){let e=r.currentTarget.tagName.toLowerCase()==="a";return!(r.target&&(r==null?void 0:r.target).isContentEditable||r.defaultPrevented||e&&r.which>1||e&&r.altKey||e&&r.ctrlKey||e&&r.metaKey||e&&r.shiftKey)}var Ng=new qM;const Mu=[];function JM(r,e){return{subscribe:Zy(r,e).subscribe}}function Zy(r,e=Bt){let t;const n=new Set;function s(a){if(xt(r,a)&&(r=a,t)){const l=!Mu.length;for(const c of n)c[1](),Mu.push(c,r);if(l){for(let c=0;c<Mu.length;c+=2)Mu[c][0](Mu[c+1]);Mu.length=0}}}function i(a){s(a(r))}function o(a,l=Bt){const c=[a,l];return n.add(c),n.size===1&&(t=e(s)||Bt),a(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function KM(r,e,t){const n=!Array.isArray(r),s=n?[r]:r,i=e.length<2;return JM(t,o=>{let a=!1;const l=[];let c=0,u=Bt;const f=()=>{if(c)return;u();const d=e(n?l[0]:l,o);i?o(d):u=A0(d)?d:Bt},h=s.map((d,p)=>U8(d,g=>{l[p]=g,c&=~(1<<p),a&&f()},()=>{c|=1<<p}));return a=!0,f(),function(){Wr(h),u(),a=!1}})}const zf=Zy({component:null,layout:[],page:{},key:null});function R3(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function F3(r){let e,t,n;const s=[r[1]];var i=r[0];function o(a){let l={$$slots:{default:[XM]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=T1(l,s[c]);return{props:l}}return i&&(e=u0(i,o(r))),{c(){e&&de(e.$$.fragment),t=cr()},m(a,l){e&&ue(e,a,l),oe(a,t,l),n=!0},p(a,l){const c=l&2?fg(s,[dg(a[1])]):{};if(l&132&&(c.$$scope={dirty:l,ctx:a}),l&1&&i!==(i=a[0])){if(e){ct();const u=e;z(u.$$.fragment,1,0,()=>{fe(u,1)}),ut()}i?(e=u0(i,o(a)),de(e.$$.fragment),R(e.$$.fragment,1),ue(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(a){n||(e&&R(e.$$.fragment,a),n=!0)},o(a){e&&z(e.$$.fragment,a),n=!1},d(a){a&&ie(t),e&&fe(e,a)}}}function j3(r,e){let t,n,s;const i=[e[4]];let o={};for(let a=0;a<i.length;a+=1)o=T1(o,i[a]);return n=new ew({props:o}),{key:r,first:null,c(){t=cr(),de(n.$$.fragment),this.first=t},m(a,l){oe(a,t,l),ue(n,a,l),s=!0},p(a,l){e=a;const c=l&4?fg(i,[dg(e[4])]):{};n.$set(c)},i(a){s||(R(n.$$.fragment,a),s=!0)},o(a){z(n.$$.fragment,a),s=!1},d(a){a&&ie(t),fe(n,a)}}}function XM(r){let e=[],t=new Map,n,s,i=r[2];const o=a=>a[0]&&a[0].length===a[6]?a[3].key:null;for(let a=0;a<i.length;a+=1){let l=R3(r,i,a),c=o(l);t.set(c,e[a]=j3(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&13&&(i=a[2],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,j3,n,R3),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function ZM(r){let e,t,n=r[3].component&&F3(r);return{c(){n&&n.c(),e=cr()},m(s,i){n&&n.m(s,i),oe(s,e,i),t=!0},p(s,[i]){s[3].component?n?(n.p(s,i),i&8&&R(n,1)):(n=F3(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(ct(),z(n,1,1,()=>{n=null}),ut())},i(s){t||(R(n),t=!0)},o(s){z(n),t=!1},d(s){n&&n.d(s),s&&ie(e)}}}const Xp=(r,e,t)=>({component:r,...e?{props:e}:{},...t?{children:t}:{}});function eC(r,e,t){let n;cn(r,zf,a=>t(3,n=a));let{component:s}=e,{props:i={}}=e,{children:o=[]}=e;return r.$$set=a=>{"component"in a&&t(0,s=a.component),"props"in a&&t(1,i=a.props),"children"in a&&t(2,o=a.children)},[s,i,o,n]}class ew extends It{constructor(e){super(),Ot(this,e,eC,ZM,xt,{component:0,props:1,children:2})}}function tC(r){let e,t;const n=[r[0]];let s={};for(let i=0;i<n.length;i+=1)s=T1(s,n[i]);return e=new ew({props:s}),{c(){de(e.$$.fragment)},m(i,o){ue(e,i,o),t=!0},p(i,[o]){const a=o&1?fg(n,[dg(i[0])]):{};e.$set(a)},i(i){t||(R(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function rC(r,e,t){let n,s,i,o;return cn(r,zf,a=>t(3,o=a)),r.$$.update=()=>{r.$$.dirty&8&&t(1,n=o.component&&Xp(o.component.default,o.page.props)),r.$$.dirty&8&&t(2,s=o.component&&o.component.layout),r.$$.dirty&14&&t(0,i=s?Array.isArray(s)?s.concat(n).reverse().reduce((a,l)=>Xp(l,o.page.props,[a])):Xp(s,o.page.props,[n]):n)},[i,n,s,o]}class tw extends It{constructor(e){super(),Ot(this,e,rC,tC,xt,{})}}function nC(r){let e,t,n,s;return t=new tw({}),{c(){e=x("div"),de(t.$$.fragment),b(e,"data-server-rendered","true"),b(e,"id",r[0]),b(e,"data-page",n=JSON.stringify(r[1]))},m(i,o){oe(i,e,o),ue(t,e,null),s=!0},p(i,[o]){(!s||o&1)&&b(e,"id",i[0]),(!s||o&2&&n!==(n=JSON.stringify(i[1])))&&b(e,"data-page",n)},i(i){s||(R(t.$$.fragment,i),s=!0)},o(i){z(t.$$.fragment,i),s=!1},d(i){i&&ie(e),fe(t)}}}function sC(r,e,t){let{id:n,initialPage:s}=e;return r.$$set=i=>{"id"in i&&t(0,n=i.id),"initialPage"in i&&t(1,s=i.initialPage)},[n,s]}class iC extends It{constructor(e){super(),Ot(this,e,sC,nC,xt,{id:0,initialPage:1})}}async function oC({id:r="app",resolve:e,setup:t,progress:n={},page:s}){const i=typeof window>"u",o=i?null:document.getElementById(r),a=s||JSON.parse(o.dataset.page),l=c=>Promise.resolve(e(c));if(await l(a.component).then(c=>{zf.set({component:c,page:a})}),!i)return Ng.init({initialPage:a,resolveComponent:l,swapComponent:async({component:c,page:u,preserveState:f})=>{zf.update(h=>({component:c,page:u,key:f?h.key:Date.now()}))}}),n&&QM(n),t({el:o,App:tw,props:{initialPage:a,resolveComponent:l}});if(i){const{html:c,head:u}=iC.render({id:r,initialPage:a});return{body:c,head:[u]}}}const En=(r,e={})=>{const[t,n]=i(e);r.href=t,e.data=n;function s(a,l={}){return r.dispatchEvent(new CustomEvent(a,l))}function i(a){return Ky(a.method||"get",r.href||a.href||"",a.data||{},a.queryStringArrayFormat||"brackets")}function o(a){if(!r.href)throw new Error('Option "href" is required');GM(a)&&(a.preventDefault(),Ng.visit(r.href,{onCancelToken:()=>s("cancel-token"),onBefore:l=>s("before",{detail:{visit:l}}),onStart:l=>s("start",{detail:{visit:l}}),onProgress:l=>s("progress",{detail:{progress:l}}),onFinish:l=>s("finish",{detail:{visit:l}}),onCancel:()=>s("cancel"),onSuccess:l=>s("success",{detail:{page:l}}),onError:l=>s("error",{detail:{errors:l}}),...e}))}return r.addEventListener("click",o),{update(a){const[l,c]=i(a);r.href=l,e={...a,data:c}},destroy(){r.removeEventListener("click",o)}}},kn=KM(zf,r=>r.page);var Gh={exports:{}};Gh.exports;(function(r,e){var t=200,n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",w="[object Number]",v="[object Null]",_="[object Object]",k="[object Promise]",A="[object Proxy]",C="[object RegExp]",N="[object Set]",T="[object String]",O="[object Symbol]",D="[object Undefined]",Q="[object WeakMap]",E="[object ArrayBuffer]",j="[object DataView]",J="[object Float32Array]",U="[object Float64Array]",ne="[object Int8Array]",G="[object Int16Array]",ae="[object Int32Array]",q="[object Uint8Array]",F="[object Uint8ClampedArray]",te="[object Uint16Array]",B="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,Y=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,X={};X[J]=X[U]=X[ne]=X[G]=X[ae]=X[q]=X[F]=X[te]=X[B]=!0,X[a]=X[l]=X[E]=X[u]=X[j]=X[f]=X[h]=X[d]=X[g]=X[w]=X[_]=X[C]=X[N]=X[T]=X[Q]=!1;var K=typeof Hu=="object"&&Hu&&Hu.Object===Object&&Hu,W=typeof self=="object"&&self&&self.Object===Object&&self,pe=K||W||Function("return this")(),be=e&&!e.nodeType&&e,Ne=be&&!0&&r&&!r.nodeType&&r,Ae=Ne&&Ne.exports===be,qe=Ae&&K.process,Me=function(){try{return qe&&qe.binding&&qe.binding("util")}catch{}}(),Ee=Me&&Me.isTypedArray;function Le(we,Pe){for(var Ze=-1,Lt=we==null?0:we.length,Br=0,lr=[];++Ze<Lt;){var sn=we[Ze];Pe(sn,Ze,we)&&(lr[Br++]=sn)}return lr}function ve(we,Pe){for(var Ze=-1,Lt=Pe.length,Br=we.length;++Ze<Lt;)we[Br+Ze]=Pe[Ze];return we}function Xe(we,Pe){for(var Ze=-1,Lt=we==null?0:we.length;++Ze<Lt;)if(Pe(we[Ze],Ze,we))return!0;return!1}function nt(we,Pe){for(var Ze=-1,Lt=Array(we);++Ze<we;)Lt[Ze]=Pe(Ze);return Lt}function _e(we){return function(Pe){return we(Pe)}}function Re(we,Pe){return we.has(Pe)}function je(we,Pe){return we==null?void 0:we[Pe]}function Ye(we){var Pe=-1,Ze=Array(we.size);return we.forEach(function(Lt,Br){Ze[++Pe]=[Br,Lt]}),Ze}function yt(we,Pe){return function(Ze){return we(Pe(Ze))}}function wt(we){var Pe=-1,Ze=Array(we.size);return we.forEach(function(Lt){Ze[++Pe]=Lt}),Ze}var Mt=Array.prototype,at=Function.prototype,bt=Object.prototype,Ht=pe["__core-js_shared__"],Pt=at.toString,Ft=bt.hasOwnProperty,st=function(){var we=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return we?"Symbol(src)_1."+we:""}(),Cr=bt.toString,rr=RegExp("^"+Pt.call(Ft).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=Ae?pe.Buffer:void 0,kr=pe.Symbol,Er=pe.Uint8Array,Mn=bt.propertyIsEnumerable,pr=Mt.splice,rs=kr?kr.toStringTag:void 0,Lr=Object.getOwnPropertySymbols,bs=fs?fs.isBuffer:void 0,ns=yt(Object.keys,Object),Tr=Vi(pe,"DataView"),Yt=Vi(pe,"Map"),vr=Vi(pe,"Promise"),Ds=Vi(pe,"Set"),Yr=Vi(pe,"WeakMap"),un=Vi(Object,"create"),$s=ho(Tr),Wt=ho(Yt),vs=ho(vr),Un=ho(Ds),fn=ho(Yr),nn=kr?kr.prototype:void 0,Vr=nn?nn.valueOf:void 0;function dn(we){var Pe=-1,Ze=we==null?0:we.length;for(this.clear();++Pe<Ze;){var Lt=we[Pe];this.set(Lt[0],Lt[1])}}function ti(){this.__data__=un?un(null):{},this.size=0}function Wn(we){var Pe=this.has(we)&&delete this.__data__[we];return this.size-=Pe?1:0,Pe}function bn(we){var Pe=this.__data__;if(un){var Ze=Pe[we];return Ze===n?void 0:Ze}return Ft.call(Pe,we)?Pe[we]:void 0}function Yn(we){var Pe=this.__data__;return un?Pe[we]!==void 0:Ft.call(Pe,we)}function ys(we,Pe){var Ze=this.__data__;return this.size+=this.has(we)?0:1,Ze[we]=un&&Pe===void 0?n:Pe,this}dn.prototype.clear=ti,dn.prototype.delete=Wn,dn.prototype.get=bn,dn.prototype.has=Yn,dn.prototype.set=ys;function Qr(we){var Pe=-1,Ze=we==null?0:we.length;for(this.clear();++Pe<Ze;){var Lt=we[Pe];this.set(Lt[0],Lt[1])}}function Sr(){this.__data__=[],this.size=0}function Rs(we){var Pe=this.__data__,Ze=ka(Pe,we);if(Ze<0)return!1;var Lt=Pe.length-1;return Ze==Lt?Pe.pop():pr.call(Pe,Ze,1),--this.size,!0}function hi(we){var Pe=this.__data__,Ze=ka(Pe,we);return Ze<0?void 0:Pe[Ze][1]}function kt(we){return ka(this.__data__,we)>-1}function Jt(we,Pe){var Ze=this.__data__,Lt=ka(Ze,we);return Lt<0?(++this.size,Ze.push([we,Pe])):Ze[Lt][1]=Pe,this}Qr.prototype.clear=Sr,Qr.prototype.delete=Rs,Qr.prototype.get=hi,Qr.prototype.has=kt,Qr.prototype.set=Jt;function jr(we){var Pe=-1,Ze=we==null?0:we.length;for(this.clear();++Pe<Ze;){var Lt=we[Pe];this.set(Lt[0],Lt[1])}}function $i(){this.size=0,this.__data__={hash:new dn,map:new(Yt||Qr),string:new dn}}function co(we){var Pe=al(this,we).delete(we);return this.size-=Pe?1:0,Pe}function Ho(we){return al(this,we).get(we)}function Ge(we){return al(this,we).has(we)}function Vt(we,Pe){var Ze=al(this,we),Lt=Ze.size;return Ze.set(we,Pe),this.size+=Ze.size==Lt?0:1,this}jr.prototype.clear=$i,jr.prototype.delete=co,jr.prototype.get=Ho,jr.prototype.has=Ge,jr.prototype.set=Vt;function Qn(we){var Pe=-1,Ze=we==null?0:we.length;for(this.__data__=new jr;++Pe<Ze;)this.add(we[Pe])}function pi(we){return this.__data__.set(we,n),this}function Cn(we){return this.__data__.has(we)}Qn.prototype.add=Qn.prototype.push=pi,Qn.prototype.has=Cn;function ri(we){var Pe=this.__data__=new Qr(we);this.size=Pe.size}function Zc(){this.__data__=new Qr,this.size=0}function P0(we){var Pe=this.__data__,Ze=Pe.delete(we);return this.size=Pe.size,Ze}function il(we){return this.__data__.get(we)}function D0(we){return this.__data__.has(we)}function Ln(we,Pe){var Ze=this.__data__;if(Ze instanceof Qr){var Lt=Ze.__data__;if(!Yt||Lt.length<t-1)return Lt.push([we,Pe]),this.size=++Ze.size,this;Ze=this.__data__=new jr(Lt)}return Ze.set(we,Pe),this.size=Ze.size,this}ri.prototype.clear=Zc,ri.prototype.delete=P0,ri.prototype.get=il,ri.prototype.has=D0,ri.prototype.set=Ln;function eu(we,Pe){var Ze=ul(we),Lt=!Ze&&ar(we),Br=!Ze&&!Lt&&gi(we),lr=!Ze&&!Lt&&!Br&&lu(we),sn=Ze||Lt||Br||lr,$n=sn?nt(we.length,String):[],Dn=$n.length;for(var Pr in we)(Pe||Ft.call(we,Pr))&&!(sn&&(Pr=="length"||Br&&(Pr=="offset"||Pr=="parent")||lr&&(Pr=="buffer"||Pr=="byteLength"||Pr=="byteOffset")||fo(Pr,Dn)))&&$n.push(Pr);return $n}function ka(we,Pe){for(var Ze=we.length;Ze--;)if(hc(we[Ze][0],Pe))return Ze;return-1}function tu(we,Pe,Ze){var Lt=Pe(we);return ul(we)?Lt:ve(Lt,Ze(we))}function uo(we){return we==null?we===void 0?D:v:rs&&rs in Object(we)?F0(we):ws(we)}function ru(we){return Aa(we)&&uo(we)==a}function mi(we,Pe,Ze,Lt,Br){return we===Pe?!0:we==null||Pe==null||!Aa(we)&&!Aa(Pe)?we!==we&&Pe!==Pe:ol(we,Pe,Ze,Lt,mi,Br)}function ol(we,Pe,Ze,Lt,Br,lr){var sn=ul(we),$n=ul(Pe),Dn=sn?l:Ui(we),Pr=$n?l:Ui(Pe);Dn=Dn==a?_:Dn,Pr=Pr==a?_:Pr;var Rn=Dn==_,ni=Pr==_,vn=Dn==Pr;if(vn&&gi(we)){if(!gi(Pe))return!1;sn=!0,Rn=!1}if(vn&&!Rn)return lr||(lr=new ri),sn||lu(we)?su(we,Pe,Ze,Lt,Br,lr):iu(we,Pe,Dn,Ze,Lt,Br,lr);if(!(Ze&s)){var An=Rn&&Ft.call(we,"__wrapped__"),_s=ni&&Ft.call(Pe,"__wrapped__");if(An||_s){var js=An?we.value():we,Oi=_s?Pe.value():Pe;return lr||(lr=new ri),Br(js,Oi,Ze,Lt,lr)}}return vn?(lr||(lr=new ri),R0(we,Pe,Ze,Lt,Br,lr)):!1}function Fs(we){if(!fl(we)||cl(we))return!1;var Pe=pc(we)?rr:Y;return Pe.test(ho(we))}function fc(we){return Aa(we)&&Sa(we.length)&&!!X[uo(we)]}function nu(we){if(!ou(we))return ns(we);var Pe=[];for(var Ze in Object(we))Ft.call(we,Ze)&&Ze!="constructor"&&Pe.push(Ze);return Pe}function su(we,Pe,Ze,Lt,Br,lr){var sn=Ze&s,$n=we.length,Dn=Pe.length;if($n!=Dn&&!(sn&&Dn>$n))return!1;var Pr=lr.get(we);if(Pr&&lr.get(Pe))return Pr==Pe;var Rn=-1,ni=!0,vn=Ze&i?new Qn:void 0;for(lr.set(we,Pe),lr.set(Pe,we);++Rn<$n;){var An=we[Rn],_s=Pe[Rn];if(Lt)var js=sn?Lt(_s,An,Rn,Pe,we,lr):Lt(An,_s,Rn,we,Pe,lr);if(js!==void 0){if(js)continue;ni=!1;break}if(vn){if(!Xe(Pe,function(Oi,bi){if(!Re(vn,bi)&&(An===Oi||Br(An,Oi,Ze,Lt,lr)))return vn.push(bi)})){ni=!1;break}}else if(!(An===_s||Br(An,_s,Ze,Lt,lr))){ni=!1;break}}return lr.delete(we),lr.delete(Pe),ni}function iu(we,Pe,Ze,Lt,Br,lr,sn){switch(Ze){case j:if(we.byteLength!=Pe.byteLength||we.byteOffset!=Pe.byteOffset)return!1;we=we.buffer,Pe=Pe.buffer;case E:return!(we.byteLength!=Pe.byteLength||!lr(new Er(we),new Er(Pe)));case u:case f:case w:return hc(+we,+Pe);case h:return we.name==Pe.name&&we.message==Pe.message;case C:case T:return we==Pe+"";case g:var $n=Ye;case N:var Dn=Lt&s;if($n||($n=wt),we.size!=Pe.size&&!Dn)return!1;var Pr=sn.get(we);if(Pr)return Pr==Pe;Lt|=i,sn.set(we,Pe);var Rn=su($n(we),$n(Pe),Lt,Br,lr,sn);return sn.delete(we),Rn;case O:if(Vr)return Vr.call(we)==Vr.call(Pe)}return!1}function R0(we,Pe,Ze,Lt,Br,lr){var sn=Ze&s,$n=dc(we),Dn=$n.length,Pr=dc(Pe),Rn=Pr.length;if(Dn!=Rn&&!sn)return!1;for(var ni=Dn;ni--;){var vn=$n[ni];if(!(sn?vn in Pe:Ft.call(Pe,vn)))return!1}var An=lr.get(we);if(An&&lr.get(Pe))return An==Pe;var _s=!0;lr.set(we,Pe),lr.set(Pe,we);for(var js=sn;++ni<Dn;){vn=$n[ni];var Oi=we[vn],bi=Pe[vn];if(Lt)var cu=sn?Lt(bi,Oi,vn,Pe,we,lr):Lt(Oi,bi,vn,we,Pe,lr);if(!(cu===void 0?Oi===bi||Br(Oi,bi,Ze,Lt,lr):cu)){_s=!1;break}js||(js=vn=="constructor")}if(_s&&!js){var Vo=we.constructor,Uo=Pe.constructor;Vo!=Uo&&"constructor"in we&&"constructor"in Pe&&!(typeof Vo=="function"&&Vo instanceof Vo&&typeof Uo=="function"&&Uo instanceof Uo)&&(_s=!1)}return lr.delete(we),lr.delete(Pe),_s}function dc(we){return tu(we,z0,j0)}function al(we,Pe){var Ze=we.__data__;return ll(Pe)?Ze[typeof Pe=="string"?"string":"hash"]:Ze.map}function Vi(we,Pe){var Ze=je(we,Pe);return Fs(Ze)?Ze:void 0}function F0(we){var Pe=Ft.call(we,rs),Ze=we[rs];try{we[rs]=void 0;var Lt=!0}catch{}var Br=Cr.call(we);return Lt&&(Pe?we[rs]=Ze:delete we[rs]),Br}var j0=Lr?function(we){return we==null?[]:(we=Object(we),Le(Lr(we),function(Pe){return Mn.call(we,Pe)}))}:mc,Ui=uo;(Tr&&Ui(new Tr(new ArrayBuffer(1)))!=j||Yt&&Ui(new Yt)!=g||vr&&Ui(vr.resolve())!=k||Ds&&Ui(new Ds)!=N||Yr&&Ui(new Yr)!=Q)&&(Ui=function(we){var Pe=uo(we),Ze=Pe==_?we.constructor:void 0,Lt=Ze?ho(Ze):"";if(Lt)switch(Lt){case $s:return j;case Wt:return g;case vs:return k;case Un:return N;case fn:return Q}return Pe});function fo(we,Pe){return Pe=Pe??o,!!Pe&&(typeof we=="number"||re.test(we))&&we>-1&&we%1==0&&we<Pe}function ll(we){var Pe=typeof we;return Pe=="string"||Pe=="number"||Pe=="symbol"||Pe=="boolean"?we!=="__proto__":we===null}function cl(we){return!!st&&st in we}function ou(we){var Pe=we&&we.constructor,Ze=typeof Pe=="function"&&Pe.prototype||bt;return we===Ze}function ws(we){return Cr.call(we)}function ho(we){if(we!=null){try{return Pt.call(we)}catch{}try{return we+""}catch{}}return""}function hc(we,Pe){return we===Pe||we!==we&&Pe!==Pe}var ar=ru(function(){return arguments}())?ru:function(we){return Aa(we)&&Ft.call(we,"callee")&&!Mn.call(we,"callee")},ul=Array.isArray;function B0(we){return we!=null&&Sa(we.length)&&!pc(we)}var gi=bs||Ta;function au(we,Pe){return mi(we,Pe)}function pc(we){if(!fl(we))return!1;var Pe=uo(we);return Pe==d||Pe==p||Pe==c||Pe==A}function Sa(we){return typeof we=="number"&&we>-1&&we%1==0&&we<=o}function fl(we){var Pe=typeof we;return we!=null&&(Pe=="object"||Pe=="function")}function Aa(we){return we!=null&&typeof we=="object"}var lu=Ee?_e(Ee):fc;function z0(we){return B0(we)?eu(we):nu(we)}function mc(){return[]}function Ta(){return!1}r.exports=au})(Gh,Gh.exports);Gh.exports;function wc(r,e){let t=r.data.data?{...r.data,status:r.status}:{data:r.data,status:r.status};return e.onSuccess?e.onSuccess(t):t}function _c(r,e){return r instanceof xT&&e.onError?e.onError({...r.response.data,status:r.response.status}):r}const ze={get:async(r,e={})=>{try{let t=await Ko.get(r);return wc(t,e)}catch(t){return _c(t,e)}},post:async(r,e,t={})=>{try{let n=await Ko.post(r,e);return wc(n,t)}catch(n){return _c(n,t)}},postForm:async(r,e,t={})=>{try{let n=await Ko.post(r,e,{headers:{"Content-Type":"multipart/form-data"}});return wc(n,t)}catch(n){return _c(n,t)}},getWithToken:async(r,e={})=>{try{let t=await Ko.get(r,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return wc(t,e)}catch(t){return _c(t,e)}},postWithToken:async(r,e,t={})=>{try{let n=await Ko.post(r,e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});return wc(n,t)}catch(n){return _c(n,t)}},postFormWithToken:async(r,e,t={})=>{try{let n=await Ko.post(r,e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}});return wc(n,t)}catch(n){return _c(n,t)}},downloadExcel:async(r,e,t={})=>{try{let n=await Ko.post(r,e,{headers:{"Content-Type":"application/json","Content-Disposition":"attachment; filename=results.xlsx"},responseType:"arraybuffer"});return wc(n,t)}catch(n){return _c(n,t)}},navigateTo:r=>Ng.get(r)};function aC(r){let e,t,n,s,i,o,a;return t=new Tt({props:{icon:"dashboard"}}),{c(){e=x("a"),de(t.$$.fragment),n=I(),s=x("span"),s.textContent="Home",b(s,"class","mx-2 text-sm text-gray-600"),b(e,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(e,"href","/dashboard")},m(l,c){oe(l,e,c),ue(t,e,null),m(e,n),m(e,s),i=!0,o||(a=mn(En.call(null,e)),o=!0)},i(l){i||(R(t.$$.fragment,l),i=!0)},o(l){z(t.$$.fragment,l),i=!1},d(l){l&&ie(e),fe(t),o=!1,a()}}}function lC(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O;return s=new Tt({props:{icon:"badge"}}),l=new Tt({props:{icon:"chevron_down",className:"fill-gray-600"}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="School Management",a=I(),de(l.$$.fragment),c=I(),u=x("div"),f=x("a"),f.innerHTML='<span class="mx-2 text-xs text-gray-500">Classes</span>',h=I(),d=x("a"),d.innerHTML='<span class="mx-2 text-xs text-gray-500">Subjects</span>',p=I(),g=x("a"),g.innerHTML='<span class="mx-2 text-xs text-gray-500">Students</span>',w=I(),v=x("a"),v.innerHTML='<span class="mx-2 text-xs text-gray-500">Teachers</span>',_=I(),k=x("a"),k.innerHTML='<span class="mx-2 text-xs text-gray-500">Terms</span>',A=I(),C=x("a"),C.innerHTML='<span class="mx-2 text-xs text-gray-500">Sessions</span>',b(o,"class","mx-2 text-sm text-gray-600 font-medium"),b(n,"class","flex items-center text-gray-800 dark:text-gray-300"),b(t,"class","flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700 cursor-pointer transition-colors duration-300 transform rounded-lg px-3 py-2"),b(f,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform"),b(f,"href","/classes"),b(d,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300"),b(d,"href","/subjects"),b(g,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300"),b(g,"href","/students"),b(v,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300"),b(v,"href","/teachers"),b(k,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(k,"href","/terms"),b(C,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(C,"href","/academic-sessions"),b(u,"class","ml-5"),b(e,"class","relative")},m(D,Q){oe(D,e,Q),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),ue(l,t,null),m(e,c),m(e,u),m(u,f),m(u,h),m(u,d),m(u,p),m(u,g),m(u,w),m(u,v),m(u,_),m(u,k),m(u,A),m(u,C),N=!0,T||(O=[mn(En.call(null,f)),mn(En.call(null,d)),mn(En.call(null,g)),mn(En.call(null,v)),mn(En.call(null,k)),mn(En.call(null,C))],T=!0)},i(D){N||(R(s.$$.fragment,D),R(l.$$.fragment,D),N=!0)},o(D){z(s.$$.fragment,D),z(l.$$.fragment,D),N=!1},d(D){D&&ie(e),fe(s),fe(l),T=!1,Wr(O)}}}function cC(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w;return s=new Tt({props:{icon:"badge"}}),l=new Tt({props:{icon:"chevron_down",className:"fill-gray-600"}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="CBT Management",a=I(),de(l.$$.fragment),c=I(),u=x("div"),f=x("a"),f.innerHTML='<span class="mx-2 text-xs text-gray-500">Assessment Types</span>',h=I(),d=x("a"),d.innerHTML='<span class="mx-2 text-xs text-gray-500">Assessments</span>',b(o,"class","mx-2 text-sm text-gray-600"),b(n,"class","flex items-center text-gray-800 dark:text-gray-300"),b(t,"class","flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700 cursor-pointer transition-colors duration-300 transform rounded-lg px-3 py-2"),b(f,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(f,"href","/assessment-types"),b(d,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(d,"href","/assessments"),b(u,"class","ml-5"),b(e,"class","relative")},m(v,_){oe(v,e,_),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),ue(l,t,null),m(e,c),m(e,u),m(u,f),m(u,h),m(u,d),p=!0,g||(w=[mn(En.call(null,f)),mn(En.call(null,d))],g=!0)},i(v){p||(R(s.$$.fragment,v),R(l.$$.fragment,v),p=!0)},o(v){z(s.$$.fragment,v),z(l.$$.fragment,v),p=!1},d(v){v&&ie(e),fe(s),fe(l),g=!1,Wr(w)}}}function uC(r){let e,t,n,s,i;return t=new Tt({props:{icon:"user"}}),{c(){e=x("a"),de(t.$$.fragment),n=I(),s=x("span"),s.textContent="Users",b(s,"class","mx-2 text-sm"),b(e,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(e,"href","#")},m(o,a){oe(o,e,a),ue(t,e,null),m(e,n),m(e,s),i=!0},i(o){i||(R(t.$$.fragment,o),i=!0)},o(o){z(t.$$.fragment,o),i=!1},d(o){o&&ie(e),fe(t)}}}function fC(r){let e,t,n,s,i;return t=new Tt({props:{icon:"settings"}}),{c(){e=x("a"),de(t.$$.fragment),n=I(),s=x("span"),s.textContent="Settings",b(s,"class","mx-2 text-sm"),b(e,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(e,"href","#")},m(o,a){oe(o,e,a),ue(t,e,null),m(e,n),m(e,s),i=!0},i(o){i||(R(t.$$.fragment,o),i=!0)},o(o){z(t.$$.fragment,o),i=!1},d(o){o&&ie(e),fe(t)}}}function dC(r){let e,t,n,s,i,o,a=r[1](r[0],"Home"),l,c=r[1](r[0],"Classes"),u,f=r[1](r[0],"Assessment Types"),h,d=r[1](r[0],"Users"),p,g=r[1](r[0],"Settings"),w,v,_,k,A,C,N,T,O,D,Q,E,j=a&&aC(),J=c&&lC(),U=f&&cC(),ne=d&&uC(),G=g&&fC();const ae=r[3].default,q=Oo(ae,r,r[2],null);return{c(){e=x("div"),t=x("aside"),n=x("div"),n.innerHTML='<img class="w-auto h-20 -mt-6" src="/images/soncal_logo.jpeg" height="300" width="300" alt=""/>',s=I(),i=x("div"),o=x("nav"),j&&j.c(),l=I(),J&&J.c(),u=I(),U&&U.c(),h=I(),ne&&ne.c(),p=I(),G&&G.c(),w=I(),v=x("div"),_=x("div"),k=x("div"),A=I(),C=x("div"),N=x("a"),T=x("span"),T.textContent=`${r[0]}`,O=I(),D=x("a"),D.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path></svg>',Q=I(),q&&q.c(),b(o,"class","flex-1 -mx-3 space-y-3 mt-12"),b(i,"class","flex flex-col justify-between flex-1 mt-3"),b(t,"class","flex fixed inset-0 flex-col w-60 min-h-screen px-5 py-8 overflow-y-auto bg-white border-r border-gray-100 rtl:border-r-0 rtl:border-l dark:bg-gray-900 dark:border-gray-700 z-50"),b(k,"class","text-gray-800 font-semibold text-2xl"),b(T,"class","text-sm font-medium text-gray-700 dark:text-gray-200 capitalize"),b(N,"href","#"),b(N,"class","flex items-center gap-x-2"),b(D,"href","#"),b(D,"class","text-gray-500 transition-colors duration-200 rotate-180 dark:text-gray-400 rtl:rotate-0 hover:text-blue-500 dark:hover:text-blue-400"),b(C,"class","flex items-center justify-between space-x-4"),b(_,"class","fixed flex items-center w-screen h-20 border-b border-gray-100 pl-[18.7rem] pr-8 bg-white inset-0 justify-between z-40"),b(v,"class","ml-60 min-h-screen w-full flex flex-col bg-gray-50"),b(e,"class","flex")},m(F,te){oe(F,e,te),m(e,t),m(t,n),m(t,s),m(t,i),m(i,o),j&&j.m(o,null),m(o,l),J&&J.m(o,null),m(o,u),U&&U.m(o,null),m(o,h),ne&&ne.m(o,null),m(o,p),G&&G.m(o,null),m(e,w),m(e,v),m(v,_),m(_,k),m(_,A),m(_,C),m(C,N),m(N,T),m(C,O),m(C,D),m(v,Q),q&&q.m(v,null),E=!0},p(F,[te]){q&&q.p&&(!E||te&4)&&Eo(q,ae,F,F[2],E?Io(ae,F[2],te,null):Po(F[2]),null)},i(F){E||(R(j),R(J),R(U),R(ne),R(G),R(q,F),E=!0)},o(F){z(j),z(J),z(U),z(ne),z(G),z(q,F),E=!1},d(F){F&&ie(e),j&&j.d(),J&&J.d(),U&&U.d(),ne&&ne.d(),G&&G.d(),q&&q.d(F)}}}function hC(r,e,t){let n;cn(r,kn,c=>t(4,n=c));let{$$slots:s={},$$scope:i}=e,o=n.props.role,a={admin:["Home","Classes","Students","Teachers","Subjects","Assessment Types","Assessments","Terms","Academic Sessions","Users","Settings"],editor:["Assessments"]};const l=(c,u)=>{let f=a[c];return f==null?void 0:f.some(h=>u===h)};return r.$$set=c=>{"$$scope"in c&&t(2,i=c.$$scope)},!localStorage.getItem("token")&&o=="admin"&&ze.navigateTo("/adminer/login"),[o,l,i,s]}let Vn=class extends It{constructor(e){super(),Ot(this,e,hC,dC,xt,{})}};const pC=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"}));let mC={assessments:{edit:["admin"],create:["admin"],view:["admin","editor"]}};const Ac={can:(r,e,t)=>mC[t][e].some(s=>r===s)};function B3(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p;const g=r[4].default,w=Oo(g,r,r[3],null);return{c(){e=x("div"),t=x("div"),n=x("h3"),s=Be(r[1]),i=I(),o=x("button"),o.innerHTML=`<span class="sr-only">Close modal</span> 
                <svg class="w-3.5 h-3.5" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z" fill="currentColor"></path></svg>`,a=I(),l=x("div"),w&&w.c(),u=I(),f=x("div"),b(n,"class","font-medium text-gray-700 dark:text-white"),b(o,"type","button"),b(o,"class","inline-flex flex-shrink-0 justify-center items-center h-8 w-8 rounded-md text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 focus:ring-offset-white text-sm dark:text-gray-500 dark:hover:text-gray-400 dark:focus:ring-gray-700 dark:focus:ring-offset-gray-800"),b(t,"class","fixed flex h-20 inset-x-0 justify-between items-center py-3 px-6 border-b dark:border-gray-700"),b(l,"class","fixed bottom-0 inset-x-0 h-[calc(100vh-5rem)] p-4 overflow-auto"),b(e,"class","hs-overlay hs-overlay-open:translate-x-0 translate-x-full fixed top-0 right-0 transition-all duration-300 transform min-h-screen max-w-xl w-full z-[60] bg-white border-l dark:bg-gray-800 dark:border-gray-700 open"),b(e,"tabindex","-1"),b(f,"class","transition duration fixed inset-0 z-50 bg-gray-50 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop backdrop-blur-sm")},m(v,_){oe(v,e,_),m(e,t),m(t,n),m(n,s),m(t,i),m(t,o),m(e,a),m(e,l),w&&w.m(l,null),oe(v,u,_),oe(v,f,_),h=!0,d||(p=ht(o,"click",r[5]),d=!0)},p(v,_){r=v,(!h||_&2)&&rt(s,r[1]),w&&w.p&&(!h||_&8)&&Eo(w,g,r,r[3],h?Io(g,r[3],_,null):Po(r[3]),null)},i(v){h||(R(w,v),c||so(()=>{c=ld(e,BS,{delay:50,duration:300,easing:DS,axis:"x"}),c.start()}),h=!0)},o(v){z(w,v),h=!1},d(v){v&&ie(e),w&&w.d(v),v&&ie(u),v&&ie(f),d=!1,p()}}}function gC(r){let e,t,n=r[0]&&B3(r);return{c(){n&&n.c(),e=cr()},m(s,i){n&&n.m(s,i),oe(s,e,i),t=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&R(n,1)):(n=B3(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(ct(),z(n,1,1,()=>{n=null}),ut())},i(s){t||(R(n),t=!0)},o(s){z(n),t=!1},d(s){n&&n.d(s),s&&ie(e)}}}function bC(r,e,t){let{$$slots:n={},$$scope:s}=e;const i=Ks();let{showSheet:o=!1}=e,{title:a}=e;const l=()=>i("close-button");return r.$$set=c=>{"showSheet"in c&&t(0,o=c.showSheet),"title"in c&&t(1,a=c.title),"$$scope"in c&&t(3,s=c.$$scope)},[o,a,i,s,n,l]}class Ni extends It{constructor(e){super(),Ot(this,e,bC,gC,xt,{showSheet:0,title:1})}}const vC=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"}));function z3(r,e,t){const n=r.slice();return n[9]=e[t],n[35]=t,n}function yC(r){let e,t;return e=new el({props:{className:"text-sm text-left",placeholder:"New Assessment",$$slots:{default:[wC]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function wC(r){let e,t,n,s,i,o;return{c(){e=x("div"),t=x("a"),t.textContent="Quiz",n=I(),s=x("a"),s.textContent="Exam",b(t,"href","/assessments/standalone"),b(t,"class","hover:bg-gray-100 p-3 text-sm rounded transition w-full"),b(s,"href","/assessments/termly"),b(s,"class","hover:bg-gray-100 p-3 text-sm rounded transition w-full"),b(e,"class","flex flex-col w-full")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),i||(o=[mn(En.call(null,t)),mn(En.call(null,s))],i=!0)},p:Bt,d(a){a&&ie(e),i=!1,Wr(o)}}}function _C(r){let e,t,n;function s(){return r[25](r[9])}return{c(){e=x("button"),e.textContent="View Assessment",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function xC(r){let e,t,n;function s(){return r[26](r[9])}return{c(){e=x("button"),e.textContent="Edit Assessment",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function kC(r){let e,t=r[9].isStandalone==="Exam"&&q3(r);return{c(){t&&t.c(),e=cr()},m(n,s){t&&t.m(n,s),oe(n,e,s)},p(n,s){n[9].isStandalone==="Exam"?t?t.p(n,s):(t=q3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&ie(e)}}}function q3(r){let e,t,n;function s(){return r[27](r[9])}return{c(){e=x("button"),e.textContent="Edit Schedule",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function SC(r){let e,t,n;function s(){return r[28](r[9])}return{c(){e=x("button"),e.textContent="View Question Banks",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function AC(r){let e;function t(i,o){return i[9].status=="Published"?NC:TC}let n=t(r),s=n(r);return{c(){s.c(),e=cr()},m(i,o){s.m(i,o),oe(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){s.d(i),i&&ie(e)}}}function TC(r){let e,t,n;function s(){return r[30](r[9])}return{c(){e=x("button"),e.textContent="Publish",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function NC(r){let e,t,n;function s(){return r[29](r[9])}return{c(){e=x("button"),e.textContent="Unpublish",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function MC(r){let e,t,n;function s(){return r[31](r[9])}return{c(){e=x("button"),e.textContent="View Results",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(i,o){oe(i,e,o),t||(n=ht(e,"click",s),t=!0)},p(i,o){r=i},d(i){i&&ie(e),t=!1,n()}}}function CC(r){let e,t=Ac.can(r[10],"view","assessments"),n,s=Ac.can(r[10],"edit","assessments"),i,o=Ac.can(r[10],"edit","assessments"),a,l=Ac.can(r[10],"view","assessments"),c,u=Ac.can(r[10],"edit","assessments"),f,h=Ac.can(r[10],"edit","assessments"),d,p,g,w,v=t&&_C(r),_=s&&xC(r),k=o&&kC(r),A=l&&SC(r),C=u&&AC(r),N=h&&MC(r);return{c(){e=x("div"),v&&v.c(),n=I(),_&&_.c(),i=I(),k&&k.c(),a=I(),A&&A.c(),c=I(),C&&C.c(),f=I(),N&&N.c(),d=I(),p=x("a"),g=Be("Check In Students"),b(p,"href",w=`/students/check-in/${r[9].assessmentId}`),b(p,"target","_blank"),b(p,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(e,"class","flex flex-col")},m(T,O){oe(T,e,O),v&&v.m(e,null),m(e,n),_&&_.m(e,null),m(e,i),k&&k.m(e,null),m(e,a),A&&A.m(e,null),m(e,c),C&&C.m(e,null),m(e,f),N&&N.m(e,null),m(e,d),m(e,p),m(p,g)},p(T,O){t&&v.p(T,O),s&&_.p(T,O),o&&k.p(T,O),l&&A.p(T,O),u&&C.p(T,O),h&&N.p(T,O),O[0]&1&&w!==(w=`/students/check-in/${T[9].assessmentId}`)&&b(p,"href",w)},d(T){T&&ie(e),v&&v.d(),_&&_.d(),k&&k.d(),A&&A.d(),C&&C.d(),N&&N.d()}}}function H3(r,e){let t,n,s=e[35]+1+"",i,o,a,l=e[9].title+"",c,u,f,h=e[9].isStandalone+"",d,p,g,w=e[9].assessmentType+"",v,_,k,A=e[9].term+"",C,N,T,O=e[9].session+"",D,Q,E,j,J=e[9].status+"",U,ne,G,ae,q,F,te,B;return F=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[CC]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),d=Be(h),p=I(),g=x("td"),v=Be(w),_=I(),k=x("td"),C=Be(A),N=I(),T=x("td"),D=Be(O),Q=I(),E=x("td"),j=x("div"),U=Be(J),G=I(),ae=x("td"),q=x("div"),de(F.$$.fragment),te=I(),b(n,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(f,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(g,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(k,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(T,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(j,"class",ne=`px-4 py-2 text-center rounded ${e[9].status=="Published"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`),b(E,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap "),b(q,"class","flex space-x-3"),b(ae,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(L,Y){oe(L,t,Y),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,d),m(t,p),m(t,g),m(g,v),m(t,_),m(t,k),m(k,C),m(t,N),m(t,T),m(T,D),m(t,Q),m(t,E),m(E,j),m(j,U),m(t,G),m(t,ae),m(ae,q),ue(F,q,null),m(t,te),B=!0},p(L,Y){e=L,(!B||Y[0]&1)&&s!==(s=e[35]+1+"")&&rt(i,s),(!B||Y[0]&1)&&l!==(l=e[9].title+"")&&rt(c,l),(!B||Y[0]&1)&&h!==(h=e[9].isStandalone+"")&&rt(d,h),(!B||Y[0]&1)&&w!==(w=e[9].assessmentType+"")&&rt(v,w),(!B||Y[0]&1)&&A!==(A=e[9].term+"")&&rt(C,A),(!B||Y[0]&1)&&O!==(O=e[9].session+"")&&rt(D,O),(!B||Y[0]&1)&&J!==(J=e[9].status+"")&&rt(U,J),(!B||Y[0]&1&&ne!==(ne=`px-4 py-2 text-center rounded ${e[9].status=="Published"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`))&&b(j,"class",ne);const re={};Y[0]&1|Y[1]&32&&(re.$$scope={dirty:Y,ctx:e}),F.$set(re)},i(L){B||(R(F.$$.fragment,L),B=!0)},o(L){z(F.$$.fragment,L),B=!1},d(L){L&&ie(t),fe(F)}}}function LC(r){let e=[],t=new Map,n,s,i=r[0];const o=a=>a[9].assessmentId;for(let a=0;a<i.length;a+=1){let l=z3(r,i,a),c=o(l);t.set(c,e[a]=H3(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l[0]&2065409&&(i=a[0],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,H3,n,z3),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function $C(r){let e,t,n,s,i,o,a,l,c=Ac.can(r[10],"edit","assessments"),u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q;i=new Tt({props:{icon:"chart",className:"h-6 w-6"}});let E=c&&yC(r),j={options:r[11],optionsStyling:"text-sm text-gray-800",placeholder:"Select Asst. Category",className:"w-full text-sm text-gray-400"};g=new fr({props:j}),r[21](g);let J={options:r[1],optionsStyling:"text-sm text-gray-800",placeholder:"Select Asst. Type",className:"w-full text-sm text-gray-400"};v=new fr({props:J}),r[22](v);let U={options:r[2],optionsStyling:"text-sm text-gray-800",placeholder:"Select Term",className:"w-full text-sm text-gray-400"};k=new fr({props:U}),r[23](k);let ne={options:r[3],optionsStyling:"text-sm text-gray-800",placeholder:"Select Session",className:"w-full text-sm text-gray-400"};return C=new fr({props:ne}),r[24](C),T=new ft({props:{buttonText:"Reset",className:"w-40 text-sm py-3"}}),T.$on("click",r[13]),D=new zi({props:{headings:r[12],$$slots:{default:[LC]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("span"),a.textContent="Assessments",l=I(),E&&E.c(),u=I(),f=x("div"),h=x("span"),h.textContent="Filters",d=I(),p=x("div"),de(g.$$.fragment),w=I(),de(v.$$.fragment),_=I(),de(k.$$.fragment),A=I(),de(C.$$.fragment),N=I(),de(T.$$.fragment),O=I(),de(D.$$.fragment),b(a,"class","mx-2 text-lg font-medium text-gray-800"),b(s,"class","flex space-x-3 items-center"),b(n,"class","flex items-center justify-between"),b(h,"class","text-base text-gray-700"),b(p,"class","flex items-center mt-3 space-x-3 w-full"),b(f,"class","flex flex-col border border-gray-100 rounded-lg w-full h-full bg-white mt-8 pt-4 pb-8 px-4"),b(t,"class","my-28"),b(e,"class","container")},m(G,ae){oe(G,e,ae),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(s,o),m(s,a),m(n,l),E&&E.m(n,null),m(t,u),m(t,f),m(f,h),m(f,d),m(f,p),ue(g,p,null),m(p,w),ue(v,p,null),m(p,_),ue(k,p,null),m(p,A),ue(C,p,null),m(p,N),ue(T,p,null),m(t,O),ue(D,t,null),Q=!0},p(G,ae){const q={};g.$set(q);const F={};ae[0]&2&&(F.options=G[1]),v.$set(F);const te={};ae[0]&4&&(te.options=G[2]),k.$set(te);const B={};ae[0]&8&&(B.options=G[3]),C.$set(B);const L={};ae[0]&1|ae[1]&32&&(L.$$scope={dirty:ae,ctx:G}),D.$set(L)},i(G){Q||(R(i.$$.fragment,G),R(E),R(g.$$.fragment,G),R(v.$$.fragment,G),R(k.$$.fragment,G),R(C.$$.fragment,G),R(T.$$.fragment,G),R(D.$$.fragment,G),Q=!0)},o(G){z(i.$$.fragment,G),z(E),z(g.$$.fragment,G),z(v.$$.fragment,G),z(k.$$.fragment,G),z(C.$$.fragment,G),z(T.$$.fragment,G),z(D.$$.fragment,G),Q=!1},d(G){G&&ie(e),fe(i),E&&E.d(),r[21](null),fe(g),r[22](null),fe(v),r[23](null),fe(k),r[24](null),fe(C),fe(T),fe(D)}}}function OC(r){let e,t,n,s,i=(r[9].title??"Not Available")+"",o,a,l,c,u,f=(r[9].description??"Not Available")+"",h,d,p,g,w,v,_,k,A=r[9].duration?r[9].duration+" Minutes":"Not Available",C,N,T,O,D,Q,E=r[9].totalQuestions?r[9].totalQuestions+" Questions":"Not Available",j,J,U,ne,G,ae,q=r[9].totalMarks?r[9].totalMarks+" Marks":"Not Available",F,te,B,L,Y,re,X,K,W,pe,be=(r[9].startDate??"Not Available")+"",Ne,Ae,qe,Me,Ee,Le,ve=(r[9].endDate??"Not Available")+"",Xe,nt,_e,Re,je,Ye,yt,wt,Mt=(r[9].assessmentLink??"Not Available")+"",at;return{c(){e=x("div"),t=x("p"),t.textContent="Assessment Title",n=I(),s=x("p"),o=Be(i),a=I(),l=x("p"),l.textContent="Instructions",c=I(),u=x("p"),h=Be(f),d=I(),p=x("div"),g=x("div"),w=x("div"),v=x("p"),v.textContent="Total Duration",_=I(),k=x("p"),C=Be(A),N=I(),T=x("div"),O=x("p"),O.textContent="No. of Questions",D=I(),Q=x("p"),j=Be(E),J=I(),U=x("div"),ne=x("p"),ne.textContent="Total Marks",G=I(),ae=x("p"),F=Be(q),te=I(),B=x("div"),L=x("div"),Y=x("p"),Y.textContent="Assessment Dates",re=I(),X=x("div"),K=x("p"),W=x("span"),W.textContent="Start Date:",pe=I(),Ne=Be(be),Ae=I(),qe=x("div"),Me=x("p"),Ee=x("span"),Ee.textContent="End Date:",Le=I(),Xe=Be(ve),nt=I(),_e=x("div"),Re=x("div"),je=x("p"),je.textContent="Assessment URL",Ye=I(),yt=x("div"),wt=x("p"),at=Be(Mt),b(t,"class","text-xs uppercase text-gray-500 mt-6 pb-2 font-semibold"),b(s,"class","pb-6 w-full text-sm text-gray-800"),b(l,"class","text-xs uppercase text-gray-500 mt-6 pb-2 font-semibold"),b(u,"class","pb-6 w-full text-sm text-gray-800"),b(v,"class","font-mono text-sm leading-3 mt-2 text-gray-800"),b(k,"class","text-lg font-semibold leading-tight text-green-600"),b(w,"class","space-y-2 border-r px-6"),b(O,"class","font-mono text-sm leading-3 mt-2 text-gray-800"),b(Q,"class","text-lg font-semibold leading-tight text-green-600"),b(T,"class","space-y-2 border-r px-6"),b(ne,"class","font-mono text-sm leading-3 mt-2 text-gray-800"),b(ae,"class","text-lg font-semibold leading-tight text-green-600"),b(U,"class","space-y-2 px-6"),b(g,"class","flex ltr:flex-row rtl:flex-row-reverse items-center"),b(p,"class","my-6 border border-gray-300 rounded-lg w-full py-4"),b(Y,"class","text-sm uppercase font-mono font-medium leading-3 text-yellow-600"),b(W,"class","font-semibold"),b(K,"class","text-sm font-mono leading-none text-gray-700 dark:text-gray-100 ltr:ml-2 rtl:mr-2"),b(X,"class","flex items-center text-gray-600"),b(Ee,"class","font-semibold"),b(Me,"class","text-sm font-mono leading-none text-gray-700 dark:text-gray-100 ltr:ml-2 rtl:mr-2"),b(qe,"class","flex items-center text-gray-600"),b(L,"class","w-full mt-4 p-6 rounded-lg bg-yellow-50 border border-yellow-100 flex flex-col gap-4"),b(B,"class","w-full flex flex-col sm:gap-4 items-center mt-2"),b(je,"class","text-sm uppercase font-mono font-medium leading-3 text-blue-900"),b(wt,"class","text-sm font-mono leading-none text-gray-700 dark:text-gray-100 ltr:ml-2 rtl:mr-2"),b(yt,"class","flex items-center text-gray-600"),b(Re,"class","w-full mt-4 p-6 rounded-lg bg-blue-50 border border-blue-100 flex flex-col gap-4"),b(_e,"class","w-full flex flex-col sm:gap-4 items-center mt-2"),b(e,"class","relative px-3 flex flex-col justify-between items-start mt-5")},m(bt,Ht){oe(bt,e,Ht),m(e,t),m(e,n),m(e,s),m(s,o),m(e,a),m(e,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),m(p,g),m(g,w),m(w,v),m(w,_),m(w,k),m(k,C),m(g,N),m(g,T),m(T,O),m(T,D),m(T,Q),m(Q,j),m(g,J),m(g,U),m(U,ne),m(U,G),m(U,ae),m(ae,F),m(e,te),m(e,B),m(B,L),m(L,Y),m(L,re),m(L,X),m(X,K),m(K,W),m(K,pe),m(K,Ne),m(L,Ae),m(L,qe),m(qe,Me),m(Me,Ee),m(Me,Le),m(Me,Xe),m(e,nt),m(e,_e),m(_e,Re),m(Re,je),m(Re,Ye),m(Re,yt),m(yt,wt),m(wt,at)},p(bt,Ht){Ht[0]&512&&i!==(i=(bt[9].title??"Not Available")+"")&&rt(o,i),Ht[0]&512&&f!==(f=(bt[9].description??"Not Available")+"")&&rt(h,f),Ht[0]&512&&A!==(A=bt[9].duration?bt[9].duration+" Minutes":"Not Available")&&rt(C,A),Ht[0]&512&&E!==(E=bt[9].totalQuestions?bt[9].totalQuestions+" Questions":"Not Available")&&rt(j,E),Ht[0]&512&&q!==(q=bt[9].totalMarks?bt[9].totalMarks+" Marks":"Not Available")&&rt(F,q),Ht[0]&512&&be!==(be=(bt[9].startDate??"Not Available")+"")&&rt(Ne,be),Ht[0]&512&&ve!==(ve=(bt[9].endDate??"Not Available")+"")&&rt(Xe,ve),Ht[0]&512&&Mt!==(Mt=(bt[9].assessmentLink??"Not Available")+"")&&rt(at,Mt)},d(bt){bt&&ie(e)}}}function IC(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[$C]},$$scope:{ctx:r}}}),n=new Ni({props:{title:"Viewing Assessment",showSheet:r[8],$$slots:{default:[OC]},$$scope:{ctx:r}}}),n.$on("close-button",r[14]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&255|o[1]&32&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&256&&(l.showSheet=i[8]),o[0]&512|o[1]&32&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function EC(r,e,t){let n;cn(r,kn,B=>t(32,n=B));let s=n.props.role,i=[],o=[],a=[{placeholder:"Quiz",value:1},{placeholder:"Exam",value:0}],l=[],c=[],u,f,h,d,p={},g=!1,w=["SN","Title","Assessment Category","Assessment Type","Term","Session","Status","Actions"];br(()=>{ze.get("/api/assessments?perPage=15",{onSuccess:B=>{t(0,i=B.data)}}),ze.get("/api/assessment-types",{onSuccess:B=>{t(1,o=B.data),t(1,o=o.flatMap(L=>[{placeholder:L.type,value:L.id}]))}}),ze.get("/api/terms",{onSuccess:B=>{t(2,l=B.data),t(2,l=l.flatMap(L=>[{placeholder:L.term,value:L.id}]))}}),ze.get("/api/sessions",{onSuccess:B=>{t(3,c=B.data),t(3,c=c.flatMap(L=>[{placeholder:L.session,value:L.id}]))}})});const v=()=>{},_=()=>t(8,g=!0),k=()=>{t(9,p={}),t(8,g=!1)},A=(B,L)=>{ze.post("/api/assessment/publish",{assessmentId:B,publish:L},{onSuccess:Y=>{t(0,i=i.map(re=>(re.assessmentId==B&&(re.status=L?"Published":"Unpublished"),re)))}})},C=B=>{t(9,p=B),_()},N=B=>{if(B.isStandalone==="Quiz"){ze.navigateTo("/questions/create/s/"+B.assessmentId);return}ze.navigateTo("/assessments/termly/view/"+B.assessmentId)},T=(B,L)=>{if(L=="Quiz"){ze.navigateTo("/assessments/standalone?assessmentId="+B);return}ze.navigateTo("/assessments/termly?assessmentId="+B)},O=(B,L)=>{if(L=="Quiz"){ze.navigateTo("/assessments/results/s/"+B);return}ze.navigateTo("/assessments/results/t/"+B)},D=B=>{ze.navigateTo("/assessments/termly/schedule/"+B)};function Q(B){zr[B?"unshift":"push"](()=>{u=B,t(4,u)})}function E(B){zr[B?"unshift":"push"](()=>{f=B,t(5,f)})}function j(B){zr[B?"unshift":"push"](()=>{h=B,t(6,h)})}function J(B){zr[B?"unshift":"push"](()=>{d=B,t(7,d)})}return[i,o,l,c,u,f,h,d,g,p,s,a,w,v,k,A,C,N,T,O,D,Q,E,j,J,B=>C(B),B=>T(B.assessmentId,B.isStandalone),B=>D(B.assessmentId),B=>N(B),B=>A(B.assessmentId,!1),B=>A(B.assessmentId,!0),B=>O(B.assessmentId,B.isStandalone)]}let PC=class extends It{constructor(e){super(),Ot(this,e,EC,IC,xt,{},null,[-1,-1])}};const DC=Object.freeze(Object.defineProperty({__proto__:null,default:PC},Symbol.toStringTag,{value:"Module"}));function V3(r){let e,t,n;return{c(){e=x("label"),t=Be(r[3]),b(e,"for",""),b(e,"class",n=Ut("text-sm text-gray-700",r[6]))},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&8&&rt(t,s[3]),i&64&&n!==(n=Ut("text-sm text-gray-700",s[6]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function RC(r){let e,t,n,s,i,o,a=r[3]&&V3(r);return{c(){e=x("div"),a&&a.c(),t=I(),n=x("input"),n.value=r[0],b(n,"pattern",r[2]),b(n,"type",r[4]),b(n,"class",s=Ut("block w-full rounded-lg border-0 py-2.5 px-2.5 text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-inset focus:ring-gray-600 sm:text-sm sm:leading-6",r[7])),b(n,"placeholder",r[5]),n.disabled=r[1],b(e,"class","space-y-3")},m(l,c){oe(l,e,c),a&&a.m(e,null),m(e,t),m(e,n),i||(o=ht(n,"input",r[9]),i=!0)},p(l,[c]){l[3]?a?a.p(l,c):(a=V3(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),c&1&&n.value!==l[0]&&(n.value=l[0]),c&4&&b(n,"pattern",l[2]),c&16&&b(n,"type",l[4]),c&128&&s!==(s=Ut("block w-full rounded-lg border-0 py-2.5 px-2.5 text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-inset focus:ring-gray-600 sm:text-sm sm:leading-6",l[7]))&&b(n,"class",s),c&32&&b(n,"placeholder",l[5]),c&2&&(n.disabled=l[1])},i:Bt,o:Bt,d(l){l&&ie(e),a&&a.d(),i=!1,o()}}}function FC(r,e,t){let{disabled:n=!1}=e,{value:s=""}=e,{pattern:i=""}=e,{label:o=""}=e,{type:a="text"}=e,{placeholder:l=""}=e,{labelStyle:c=""}=e,{className:u=""}=e;const f=Ks(),h=p=>{t(0,s=p),f("input",{input:p})},d=p=>h(p.target.value);return r.$$set=p=>{"disabled"in p&&t(1,n=p.disabled),"value"in p&&t(0,s=p.value),"pattern"in p&&t(2,i=p.pattern),"label"in p&&t(3,o=p.label),"type"in p&&t(4,a=p.type),"placeholder"in p&&t(5,l=p.placeholder),"labelStyle"in p&&t(6,c=p.labelStyle),"className"in p&&t(7,u=p.className)},[s,n,i,o,a,l,c,u,h,d]}class Gr extends It{constructor(e){super(),Ot(this,e,FC,RC,xt,{disabled:1,value:0,pattern:2,label:3,type:4,placeholder:5,labelStyle:6,className:7})}get disabled(){return this.$$.ctx[1]}set disabled(e){this.$$set({disabled:e}),en()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),en()}get pattern(){return this.$$.ctx[2]}set pattern(e){this.$$set({pattern:e}),en()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),en()}get type(){return this.$$.ctx[4]}set type(e){this.$$set({type:e}),en()}get placeholder(){return this.$$.ctx[5]}set placeholder(e){this.$$set({placeholder:e}),en()}get labelStyle(){return this.$$.ctx[6]}set labelStyle(e){this.$$set({labelStyle:e}),en()}get className(){return this.$$.ctx[7]}set className(e){this.$$set({className:e}),en()}}const jC=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"}));function U3(r,e,t){const n=r.slice();return n[1]=e[t],n[19]=t,n}function W3(r,e){let t,n,s=e[19]+1+"",i,o,a,l=e[1].type+"",c,u,f,h=e[1].max_score+"",d,p,g,w,v,_,k,A,C;function N(){return e[12](e[1])}return v=new ft({props:{buttonText:"Edit",className:"text-xs w-20"}}),v.$on("click",N),k=new ft({props:{buttonText:"Delete",className:"text-xs w-20 bg-red-500 hover:bg-red-400 focus:bg-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),d=Be(h),p=I(),g=x("td"),w=x("div"),de(v.$$.fragment),_=I(),de(k.$$.fragment),A=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(w,"class","flex space-x-3"),b(g,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(T,O){oe(T,t,O),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,d),m(t,p),m(t,g),m(g,w),ue(v,w,null),m(w,_),ue(k,w,null),m(t,A),C=!0},p(T,O){e=T,(!C||O&4)&&s!==(s=e[19]+1+"")&&rt(i,s),(!C||O&4)&&l!==(l=e[1].type+"")&&rt(c,l),(!C||O&4)&&h!==(h=e[1].max_score+"")&&rt(d,h)},i(T){C||(R(v.$$.fragment,T),R(k.$$.fragment,T),C=!0)},o(T){z(v.$$.fragment,T),z(k.$$.fragment,T),C=!1},d(T){T&&ie(t),fe(v),fe(k)}}}function BC(r){let e=[],t=new Map,n,s,i=r[2];const o=a=>a[1].id;for(let a=0;a<i.length;a+=1){let l=U3(r,i,a),c=o(l);t.set(c,e[a]=W3(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&2052&&(i=a[2],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,W3,n,U3),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function zC(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"medal",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"New Assessment Type",className:"text-sm"}}),c.$on("click",r[8]),f=new zi({props:{headings:r[6],$$slots:{default:[BC]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Assessment Types",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-semibold text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","container my-28")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p&1048580&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function qC(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[9]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function HC(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[10]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function VC(r){let e,t,n,s,i,o,a,l,c,u,f;n=new Gr({props:{value:r[1],label:"Enter Title"}}),n.$on("input",r[13]),o=new Gr({props:{type:"number",value:r[0],label:"Enter Maximum Score"}}),o.$on("input",r[14]);const h=[HC,qC],d=[];function p(g,w){return g[3]?0:1}return c=p(r),u=d[c]=h[c](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("div"),u.c(),b(i,"class","w-40"),b(l,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(g,w){oe(g,e,w),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),d[c].m(l,null),f=!0},p(g,w){const v={};w&2&&(v.value=g[1]),n.$set(v);const _={};w&1&&(_.value=g[0]),o.$set(_);let k=c;c=p(g),c===k?d[c].p(g,w):(ct(),z(d[k],1,1,()=>{d[k]=null}),ut(),u=d[c],u?u.p(g,w):(u=d[c]=h[c](g),u.c()),R(u,1),u.m(l,null))},i(g){f||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(u),f=!0)},o(g){z(n.$$.fragment,g),z(o.$$.fragment,g),z(u),f=!1},d(g){g&&ie(e),fe(n),fe(o),d[c].d()}}}function UC(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[zC]},$$scope:{ctx:r}}}),n=new Ni({props:{title:"Create New Assessment Type",showSheet:r[5],$$slots:{default:[VC]},$$scope:{ctx:r}}}),n.$on("close-button",r[7]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,[o]){const a={};o&1048580&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o&32&&(l.showSheet=i[5]),o&1048603&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function WC(r,e,t){let n=["SN","Title","Max Score","Actions"],s=[],i="",o="",a,l=!1;br(()=>{d()});let c=!1;const u=()=>{t(5,c=!1),h()},f=()=>t(5,c=!0),h=()=>{t(3,a=void 0),t(1,i=""),t(0,o=""),t(4,l=!1)},d=()=>{ze.get("/api/assessment-types",{onSuccess:A=>{t(2,s=A.data)}})},p=()=>{t(4,l=!0),ze.post("/api/assessment-type/create",{assessmentType:i,maxScore:o},{onSuccess:A=>{d(),u(),h(),t(4,l=!1)},onError:A=>{t(4,l=!1)}})},g=()=>{t(4,l=!0),ze.post("/api/assessment-type/update",{assessmentType:i,assessmentTypeId:a,maxScore:o},{onSuccess:A=>{d(),u(),h(),t(4,l=!1)},onError:A=>{t(4,l=!1)}})},w=(A,C,N)=>{t(3,a=A),t(1,i=C),t(0,o=N),f()},v=A=>w(A.id,A.type,A.max_score),_=A=>t(1,i=A.detail.input),k=A=>t(0,o=A.detail.input);return r.$$.update=()=>{r.$$.dirty&3&&t(4,l=i.length===0||o.length===0)},[o,i,s,a,l,c,n,u,f,p,g,w,v,_,k]}class YC extends It{constructor(e){super(),Ot(this,e,WC,UC,xt,{})}}const QC=Object.freeze(Object.defineProperty({__proto__:null,default:YC},Symbol.toStringTag,{value:"Module"}));var rw={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var nw;function Nt(){return nw.apply(null,arguments)}function GC(r){nw=r}function Co(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function Fc(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function qr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Mg(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var e;for(e in r)if(qr(r,e))return!1;return!0}function ki(r){return r===void 0}function Ja(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function dd(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function sw(r,e){var t=[],n,s=r.length;for(n=0;n<s;++n)t.push(e(r[n],n));return t}function Bl(r,e){for(var t in e)qr(e,t)&&(r[t]=e[t]);return qr(e,"toString")&&(r.toString=e.toString),qr(e,"valueOf")&&(r.valueOf=e.valueOf),r}function ga(r,e,t,n){return Mw(r,e,t,n,!0).utc()}function JC(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function wr(r){return r._pf==null&&(r._pf=JC()),r._pf}var u2;Array.prototype.some?u2=Array.prototype.some:u2=function(r){var e=Object(this),t=e.length>>>0,n;for(n=0;n<t;n++)if(n in e&&r.call(this,e[n],n,e))return!0;return!1};function Cg(r){if(r._isValid==null){var e=wr(r),t=u2.call(e.parsedDateParts,function(s){return s!=null}),n=!isNaN(r._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(r._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=n;else return n}return r._isValid}function I1(r){var e=ga(NaN);return r!=null?Bl(wr(e),r):wr(e).userInvalidated=!0,e}var Y3=Nt.momentProperties=[],Zp=!1;function Lg(r,e){var t,n,s,i=Y3.length;if(ki(e._isAMomentObject)||(r._isAMomentObject=e._isAMomentObject),ki(e._i)||(r._i=e._i),ki(e._f)||(r._f=e._f),ki(e._l)||(r._l=e._l),ki(e._strict)||(r._strict=e._strict),ki(e._tzm)||(r._tzm=e._tzm),ki(e._isUTC)||(r._isUTC=e._isUTC),ki(e._offset)||(r._offset=e._offset),ki(e._pf)||(r._pf=wr(e)),ki(e._locale)||(r._locale=e._locale),i>0)for(t=0;t<i;t++)n=Y3[t],s=e[n],ki(s)||(r[n]=s);return r}function hd(r){Lg(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Zp===!1&&(Zp=!0,Nt.updateOffset(this),Zp=!1)}function Lo(r){return r instanceof hd||r!=null&&r._isAMomentObject!=null}function iw(r){Nt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function ao(r,e){var t=!0;return Bl(function(){if(Nt.deprecationHandler!=null&&Nt.deprecationHandler(null,r),t){var n=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])qr(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];n.push(s)}iw(r+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var Q3={};function ow(r,e){Nt.deprecationHandler!=null&&Nt.deprecationHandler(r,e),Q3[r]||(iw(e),Q3[r]=!0)}Nt.suppressDeprecationWarnings=!1;Nt.deprecationHandler=null;function ba(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function KC(r){var e,t;for(t in r)qr(r,t)&&(e=r[t],ba(e)?this[t]=e:this["_"+t]=e);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function f2(r,e){var t=Bl({},r),n;for(n in e)qr(e,n)&&(Fc(r[n])&&Fc(e[n])?(t[n]={},Bl(t[n],r[n]),Bl(t[n],e[n])):e[n]!=null?t[n]=e[n]:delete t[n]);for(n in r)qr(r,n)&&!qr(e,n)&&Fc(r[n])&&(t[n]=Bl({},t[n]));return t}function $g(r){r!=null&&this.set(r)}var d2;Object.keys?d2=Object.keys:d2=function(r){var e,t=[];for(e in r)qr(r,e)&&t.push(e);return t};var XC={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ZC(r,e,t){var n=this._calendar[r]||this._calendar.sameElse;return ba(n)?n.call(e,t):n}function fa(r,e,t){var n=""+Math.abs(r),s=e-n.length,i=r>=0;return(i?t?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var Og=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,em={},Ku={};function Qt(r,e,t,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),r&&(Ku[r]=s),e&&(Ku[e[0]]=function(){return fa(s.apply(this,arguments),e[1],e[2])}),t&&(Ku[t]=function(){return this.localeData().ordinal(s.apply(this,arguments),r)})}function eL(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function tL(r){var e=r.match(Og),t,n;for(t=0,n=e.length;t<n;t++)Ku[e[t]]?e[t]=Ku[e[t]]:e[t]=eL(e[t]);return function(s){var i="",o;for(o=0;o<n;o++)i+=ba(e[o])?e[o].call(s,r):e[o];return i}}function Th(r,e){return r.isValid()?(e=aw(e,r.localeData()),em[e]=em[e]||tL(e),em[e](r)):r.localeData().invalidDate()}function aw(r,e){var t=5;function n(s){return e.longDateFormat(s)||s}for(Kd.lastIndex=0;t>=0&&Kd.test(r);)r=r.replace(Kd,n),Kd.lastIndex=0,t-=1;return r}var rL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nL(r){var e=this._longDateFormat[r],t=this._longDateFormat[r.toUpperCase()];return e||!t?e:(this._longDateFormat[r]=t.match(Og).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[r])}var sL="Invalid date";function iL(){return this._invalidDate}var oL="%d",aL=/\d{1,2}/;function lL(r){return this._ordinal.replace("%d",r)}var cL={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function uL(r,e,t,n){var s=this._relativeTime[t];return ba(s)?s(r,e,t,n):s.replace(/%d/i,r)}function fL(r,e){var t=this._relativeTime[r>0?"future":"past"];return ba(t)?t(e):t.replace(/%s/i,e)}var Mf={};function Xs(r,e){var t=r.toLowerCase();Mf[t]=Mf[t+"s"]=Mf[e]=r}function lo(r){return typeof r=="string"?Mf[r]||Mf[r.toLowerCase()]:void 0}function Ig(r){var e={},t,n;for(n in r)qr(r,n)&&(t=lo(n),t&&(e[t]=r[n]));return e}var lw={};function Zs(r,e){lw[r]=e}function dL(r){var e=[],t;for(t in r)qr(r,t)&&e.push({unit:t,priority:lw[t]});return e.sort(function(n,s){return n.priority-s.priority}),e}function E1(r){return r%4===0&&r%100!==0||r%400===0}function Xi(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function Ar(r){var e=+r,t=0;return e!==0&&isFinite(e)&&(t=Xi(e)),t}function M0(r,e){return function(t){return t!=null?(cw(this,r,t),Nt.updateOffset(this,e),this):Jh(this,r)}}function Jh(r,e){return r.isValid()?r._d["get"+(r._isUTC?"UTC":"")+e]():NaN}function cw(r,e,t){r.isValid()&&!isNaN(t)&&(e==="FullYear"&&E1(r.year())&&r.month()===1&&r.date()===29?(t=Ar(t),r._d["set"+(r._isUTC?"UTC":"")+e](t,r.month(),B1(t,r.month()))):r._d["set"+(r._isUTC?"UTC":"")+e](t))}function hL(r){return r=lo(r),ba(this[r])?this[r]():this}function pL(r,e){if(typeof r=="object"){r=Ig(r);var t=dL(r),n,s=t.length;for(n=0;n<s;n++)this[t[n].unit](r[t[n].unit])}else if(r=lo(r),ba(this[r]))return this[r](e);return this}var uw=/\d/,qi=/\d\d/,fw=/\d{3}/,Eg=/\d{4}/,P1=/[+-]?\d{6}/,Sn=/\d\d?/,dw=/\d\d\d\d?/,hw=/\d\d\d\d\d\d?/,D1=/\d{1,3}/,Pg=/\d{1,4}/,R1=/[+-]?\d{1,6}/,C0=/\d+/,F1=/[+-]?\d+/,mL=/Z|[+-]\d\d:?\d\d/gi,j1=/Z|[+-]\d\d(?::?\d\d)?/gi,gL=/[+-]?\d+(\.\d{1,3})?/,pd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kh;Kh={};function jt(r,e,t){Kh[r]=ba(e)?e:function(n,s){return n&&t?t:e}}function bL(r,e){return qr(Kh,r)?Kh[r](e._strict,e._locale):new RegExp(vL(r))}function vL(r){return Fi(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function Fi(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var h2={};function rn(r,e){var t,n=e,s;for(typeof r=="string"&&(r=[r]),Ja(e)&&(n=function(i,o){o[e]=Ar(i)}),s=r.length,t=0;t<s;t++)h2[r[t]]=n}function md(r,e){rn(r,function(t,n,s,i){s._w=s._w||{},e(t,s._w,s,i)})}function yL(r,e,t){e!=null&&qr(h2,r)&&h2[r](e,t._a,t,r)}var Qs=0,Ha=1,ta=2,hs=3,No=4,Va=5,Oc=6,wL=7,_L=8;function xL(r,e){return(r%e+e)%e}var Kn;Array.prototype.indexOf?Kn=Array.prototype.indexOf:Kn=function(r){var e;for(e=0;e<this.length;++e)if(this[e]===r)return e;return-1};function B1(r,e){if(isNaN(r)||isNaN(e))return NaN;var t=xL(e,12);return r+=(e-t)/12,t===1?E1(r)?29:28:31-t%7%2}Qt("M",["MM",2],"Mo",function(){return this.month()+1});Qt("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)});Qt("MMMM",0,0,function(r){return this.localeData().months(this,r)});Xs("month","M");Zs("month",8);jt("M",Sn);jt("MM",Sn,qi);jt("MMM",function(r,e){return e.monthsShortRegex(r)});jt("MMMM",function(r,e){return e.monthsRegex(r)});rn(["M","MM"],function(r,e){e[Ha]=Ar(r)-1});rn(["MMM","MMMM"],function(r,e,t,n){var s=t._locale.monthsParse(r,n,t._strict);s!=null?e[Ha]=s:wr(t).invalidMonth=r});var kL="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,SL=pd,AL=pd;function TL(r,e){return r?Co(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||mw).test(e)?"format":"standalone"][r.month()]:Co(this._months)?this._months:this._months.standalone}function NL(r,e){return r?Co(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[mw.test(e)?"format":"standalone"][r.month()]:Co(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ML(r,e,t){var n,s,i,o=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=ga([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return t?e==="MMM"?(s=Kn.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Kn.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=Kn.call(this._shortMonthsParse,o),s!==-1?s:(s=Kn.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Kn.call(this._longMonthsParse,o),s!==-1?s:(s=Kn.call(this._shortMonthsParse,o),s!==-1?s:null))}function CL(r,e,t){var n,s,i;if(this._monthsParseExact)return ML.call(this,r,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=ga([2e3,n]),t&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!t&&!this._monthsParse[n]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[n].test(r))return n;if(t&&e==="MMM"&&this._shortMonthsParse[n].test(r))return n;if(!t&&this._monthsParse[n].test(r))return n}}function gw(r,e){var t;if(!r.isValid())return r;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ar(e);else if(e=r.localeData().monthsParse(e),!Ja(e))return r}return t=Math.min(r.date(),B1(r.year(),e)),r._d["set"+(r._isUTC?"UTC":"")+"Month"](e,t),r}function bw(r){return r!=null?(gw(this,r),Nt.updateOffset(this,!0),this):Jh(this,"Month")}function LL(){return B1(this.year(),this.month())}function $L(r){return this._monthsParseExact?(qr(this,"_monthsRegex")||vw.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(qr(this,"_monthsShortRegex")||(this._monthsShortRegex=SL),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function OL(r){return this._monthsParseExact?(qr(this,"_monthsRegex")||vw.call(this),r?this._monthsStrictRegex:this._monthsRegex):(qr(this,"_monthsRegex")||(this._monthsRegex=AL),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function vw(){function r(o,a){return a.length-o.length}var e=[],t=[],n=[],s,i;for(s=0;s<12;s++)i=ga([2e3,s]),e.push(this.monthsShort(i,"")),t.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(e.sort(r),t.sort(r),n.sort(r),s=0;s<12;s++)e[s]=Fi(e[s]),t[s]=Fi(t[s]);for(s=0;s<24;s++)n[s]=Fi(n[s]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}Qt("Y",0,0,function(){var r=this.year();return r<=9999?fa(r,4):"+"+r});Qt(0,["YY",2],0,function(){return this.year()%100});Qt(0,["YYYY",4],0,"year");Qt(0,["YYYYY",5],0,"year");Qt(0,["YYYYYY",6,!0],0,"year");Xs("year","y");Zs("year",1);jt("Y",F1);jt("YY",Sn,qi);jt("YYYY",Pg,Eg);jt("YYYYY",R1,P1);jt("YYYYYY",R1,P1);rn(["YYYYY","YYYYYY"],Qs);rn("YYYY",function(r,e){e[Qs]=r.length===2?Nt.parseTwoDigitYear(r):Ar(r)});rn("YY",function(r,e){e[Qs]=Nt.parseTwoDigitYear(r)});rn("Y",function(r,e){e[Qs]=parseInt(r,10)});function Cf(r){return E1(r)?366:365}Nt.parseTwoDigitYear=function(r){return Ar(r)+(Ar(r)>68?1900:2e3)};var yw=M0("FullYear",!0);function IL(){return E1(this.year())}function EL(r,e,t,n,s,i,o){var a;return r<100&&r>=0?(a=new Date(r+400,e,t,n,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(r)):a=new Date(r,e,t,n,s,i,o),a}function qf(r){var e,t;return r<100&&r>=0?(t=Array.prototype.slice.call(arguments),t[0]=r+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(r)):e=new Date(Date.UTC.apply(null,arguments)),e}function Xh(r,e,t){var n=7+e-t,s=(7+qf(r,0,n).getUTCDay()-e)%7;return-s+n-1}function ww(r,e,t,n,s){var i=(7+t-n)%7,o=Xh(r,n,s),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=r-1,c=Cf(l)+a):a>Cf(r)?(l=r+1,c=a-Cf(r)):(l=r,c=a),{year:l,dayOfYear:c}}function Hf(r,e,t){var n=Xh(r.year(),e,t),s=Math.floor((r.dayOfYear()-n-1)/7)+1,i,o;return s<1?(o=r.year()-1,i=s+Wa(o,e,t)):s>Wa(r.year(),e,t)?(i=s-Wa(r.year(),e,t),o=r.year()+1):(o=r.year(),i=s),{week:i,year:o}}function Wa(r,e,t){var n=Xh(r,e,t),s=Xh(r+1,e,t);return(Cf(r)-n+s)/7}Qt("w",["ww",2],"wo","week");Qt("W",["WW",2],"Wo","isoWeek");Xs("week","w");Xs("isoWeek","W");Zs("week",5);Zs("isoWeek",5);jt("w",Sn);jt("ww",Sn,qi);jt("W",Sn);jt("WW",Sn,qi);md(["w","ww","W","WW"],function(r,e,t,n){e[n.substr(0,1)]=Ar(r)});function PL(r){return Hf(r,this._week.dow,this._week.doy).week}var DL={dow:0,doy:6};function RL(){return this._week.dow}function FL(){return this._week.doy}function jL(r){var e=this.localeData().week(this);return r==null?e:this.add((r-e)*7,"d")}function BL(r){var e=Hf(this,1,4).week;return r==null?e:this.add((r-e)*7,"d")}Qt("d",0,"do","day");Qt("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)});Qt("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)});Qt("dddd",0,0,function(r){return this.localeData().weekdays(this,r)});Qt("e",0,0,"weekday");Qt("E",0,0,"isoWeekday");Xs("day","d");Xs("weekday","e");Xs("isoWeekday","E");Zs("day",11);Zs("weekday",11);Zs("isoWeekday",11);jt("d",Sn);jt("e",Sn);jt("E",Sn);jt("dd",function(r,e){return e.weekdaysMinRegex(r)});jt("ddd",function(r,e){return e.weekdaysShortRegex(r)});jt("dddd",function(r,e){return e.weekdaysRegex(r)});md(["dd","ddd","dddd"],function(r,e,t,n){var s=t._locale.weekdaysParse(r,n,t._strict);s!=null?e.d=s:wr(t).invalidWeekday=r});md(["d","e","E"],function(r,e,t,n){e[n]=Ar(r)});function zL(r,e){return typeof r!="string"?r:isNaN(r)?(r=e.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function qL(r,e){return typeof r=="string"?e.weekdaysParse(r)%7||7:isNaN(r)?null:r}function Dg(r,e){return r.slice(e,7).concat(r.slice(0,e))}var HL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_w="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),VL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),UL=pd,WL=pd,YL=pd;function QL(r,e){var t=Co(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return r===!0?Dg(t,this._week.dow):r?t[r.day()]:t}function GL(r){return r===!0?Dg(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function JL(r){return r===!0?Dg(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function KL(r,e,t){var n,s,i,o=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=ga([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return t?e==="dddd"?(s=Kn.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=Kn.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Kn.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=Kn.call(this._weekdaysParse,o),s!==-1||(s=Kn.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Kn.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=Kn.call(this._shortWeekdaysParse,o),s!==-1||(s=Kn.call(this._weekdaysParse,o),s!==-1)?s:(s=Kn.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Kn.call(this._minWeekdaysParse,o),s!==-1||(s=Kn.call(this._weekdaysParse,o),s!==-1)?s:(s=Kn.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function XL(r,e,t){var n,s,i;if(this._weekdaysParseExact)return KL.call(this,r,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=ga([2e3,1]).day(n),t&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[n].test(r))return n;if(t&&e==="ddd"&&this._shortWeekdaysParse[n].test(r))return n;if(t&&e==="dd"&&this._minWeekdaysParse[n].test(r))return n;if(!t&&this._weekdaysParse[n].test(r))return n}}function ZL(r){if(!this.isValid())return r!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return r!=null?(r=zL(r,this.localeData()),this.add(r-e,"d")):e}function e$(r){if(!this.isValid())return r!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return r==null?e:this.add(r-e,"d")}function t$(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var e=qL(r,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function r$(r){return this._weekdaysParseExact?(qr(this,"_weekdaysRegex")||Rg.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(qr(this,"_weekdaysRegex")||(this._weekdaysRegex=UL),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function n$(r){return this._weekdaysParseExact?(qr(this,"_weekdaysRegex")||Rg.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(qr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=WL),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function s$(r){return this._weekdaysParseExact?(qr(this,"_weekdaysRegex")||Rg.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(qr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=YL),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Rg(){function r(u,f){return f.length-u.length}var e=[],t=[],n=[],s=[],i,o,a,l,c;for(i=0;i<7;i++)o=ga([2e3,1]).day(i),a=Fi(this.weekdaysMin(o,"")),l=Fi(this.weekdaysShort(o,"")),c=Fi(this.weekdays(o,"")),e.push(a),t.push(l),n.push(c),s.push(a),s.push(l),s.push(c);e.sort(r),t.sort(r),n.sort(r),s.sort(r),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Fg(){return this.hours()%12||12}function i$(){return this.hours()||24}Qt("H",["HH",2],0,"hour");Qt("h",["hh",2],0,Fg);Qt("k",["kk",2],0,i$);Qt("hmm",0,0,function(){return""+Fg.apply(this)+fa(this.minutes(),2)});Qt("hmmss",0,0,function(){return""+Fg.apply(this)+fa(this.minutes(),2)+fa(this.seconds(),2)});Qt("Hmm",0,0,function(){return""+this.hours()+fa(this.minutes(),2)});Qt("Hmmss",0,0,function(){return""+this.hours()+fa(this.minutes(),2)+fa(this.seconds(),2)});function xw(r,e){Qt(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}xw("a",!0);xw("A",!1);Xs("hour","h");Zs("hour",13);function kw(r,e){return e._meridiemParse}jt("a",kw);jt("A",kw);jt("H",Sn);jt("h",Sn);jt("k",Sn);jt("HH",Sn,qi);jt("hh",Sn,qi);jt("kk",Sn,qi);jt("hmm",dw);jt("hmmss",hw);jt("Hmm",dw);jt("Hmmss",hw);rn(["H","HH"],hs);rn(["k","kk"],function(r,e,t){var n=Ar(r);e[hs]=n===24?0:n});rn(["a","A"],function(r,e,t){t._isPm=t._locale.isPM(r),t._meridiem=r});rn(["h","hh"],function(r,e,t){e[hs]=Ar(r),wr(t).bigHour=!0});rn("hmm",function(r,e,t){var n=r.length-2;e[hs]=Ar(r.substr(0,n)),e[No]=Ar(r.substr(n)),wr(t).bigHour=!0});rn("hmmss",function(r,e,t){var n=r.length-4,s=r.length-2;e[hs]=Ar(r.substr(0,n)),e[No]=Ar(r.substr(n,2)),e[Va]=Ar(r.substr(s)),wr(t).bigHour=!0});rn("Hmm",function(r,e,t){var n=r.length-2;e[hs]=Ar(r.substr(0,n)),e[No]=Ar(r.substr(n))});rn("Hmmss",function(r,e,t){var n=r.length-4,s=r.length-2;e[hs]=Ar(r.substr(0,n)),e[No]=Ar(r.substr(n,2)),e[Va]=Ar(r.substr(s))});function o$(r){return(r+"").toLowerCase().charAt(0)==="p"}var a$=/[ap]\.?m?\.?/i,l$=M0("Hours",!0);function c$(r,e,t){return r>11?t?"pm":"PM":t?"am":"AM"}var Sw={calendar:XC,longDateFormat:rL,invalidDate:sL,ordinal:oL,dayOfMonthOrdinalParse:aL,relativeTime:cL,months:kL,monthsShort:pw,week:DL,weekdays:HL,weekdaysMin:VL,weekdaysShort:_w,meridiemParse:a$},Tn={},mf={},Vf;function u$(r,e){var t,n=Math.min(r.length,e.length);for(t=0;t<n;t+=1)if(r[t]!==e[t])return t;return n}function G3(r){return r&&r.toLowerCase().replace("_","-")}function f$(r){for(var e=0,t,n,s,i;e<r.length;){for(i=G3(r[e]).split("-"),t=i.length,n=G3(r[e+1]),n=n?n.split("-"):null;t>0;){if(s=z1(i.slice(0,t).join("-")),s)return s;if(n&&n.length>=t&&u$(i,n)>=t-1)break;t--}e++}return Vf}function d$(r){return r.match("^[^/\\\\]*$")!=null}function z1(r){var e=null,t;if(Tn[r]===void 0&&typeof module<"u"&&module&&module.exports&&d$(r))try{e=Vf._abbr,t=require,t("./locale/"+r),Yl(e)}catch{Tn[r]=null}return Tn[r]}function Yl(r,e){var t;return r&&(ki(e)?t=rl(r):t=jg(r,e),t?Vf=t:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),Vf._abbr}function jg(r,e){if(e!==null){var t,n=Sw;if(e.abbr=r,Tn[r]!=null)ow("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Tn[r]._config;else if(e.parentLocale!=null)if(Tn[e.parentLocale]!=null)n=Tn[e.parentLocale]._config;else if(t=z1(e.parentLocale),t!=null)n=t._config;else return mf[e.parentLocale]||(mf[e.parentLocale]=[]),mf[e.parentLocale].push({name:r,config:e}),null;return Tn[r]=new $g(f2(n,e)),mf[r]&&mf[r].forEach(function(s){jg(s.name,s.config)}),Yl(r),Tn[r]}else return delete Tn[r],null}function h$(r,e){if(e!=null){var t,n,s=Sw;Tn[r]!=null&&Tn[r].parentLocale!=null?Tn[r].set(f2(Tn[r]._config,e)):(n=z1(r),n!=null&&(s=n._config),e=f2(s,e),n==null&&(e.abbr=r),t=new $g(e),t.parentLocale=Tn[r],Tn[r]=t),Yl(r)}else Tn[r]!=null&&(Tn[r].parentLocale!=null?(Tn[r]=Tn[r].parentLocale,r===Yl()&&Yl(r)):Tn[r]!=null&&delete Tn[r]);return Tn[r]}function rl(r){var e;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return Vf;if(!Co(r)){if(e=z1(r),e)return e;r=[r]}return f$(r)}function p$(){return d2(Tn)}function Bg(r){var e,t=r._a;return t&&wr(r).overflow===-2&&(e=t[Ha]<0||t[Ha]>11?Ha:t[ta]<1||t[ta]>B1(t[Qs],t[Ha])?ta:t[hs]<0||t[hs]>24||t[hs]===24&&(t[No]!==0||t[Va]!==0||t[Oc]!==0)?hs:t[No]<0||t[No]>59?No:t[Va]<0||t[Va]>59?Va:t[Oc]<0||t[Oc]>999?Oc:-1,wr(r)._overflowDayOfYear&&(e<Qs||e>ta)&&(e=ta),wr(r)._overflowWeeks&&e===-1&&(e=wL),wr(r)._overflowWeekday&&e===-1&&(e=_L),wr(r).overflow=e),r}var m$=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,g$=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,b$=/Z|[+-]\d\d(?::?\d\d)?/,Xd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],tm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v$=/^\/?Date\((-?\d+)/i,y$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,w$={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Aw(r){var e,t,n=r._i,s=m$.exec(n)||g$.exec(n),i,o,a,l,c=Xd.length,u=tm.length;if(s){for(wr(r).iso=!0,e=0,t=c;e<t;e++)if(Xd[e][1].exec(s[1])){o=Xd[e][0],i=Xd[e][2]!==!1;break}if(o==null){r._isValid=!1;return}if(s[3]){for(e=0,t=u;e<t;e++)if(tm[e][1].exec(s[3])){a=(s[2]||" ")+tm[e][0];break}if(a==null){r._isValid=!1;return}}if(!i&&a!=null){r._isValid=!1;return}if(s[4])if(b$.exec(s[4]))l="Z";else{r._isValid=!1;return}r._f=o+(a||"")+(l||""),qg(r)}else r._isValid=!1}function _$(r,e,t,n,s,i){var o=[x$(r),pw.indexOf(e),parseInt(t,10),parseInt(n,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function x$(r){var e=parseInt(r,10);return e<=49?2e3+e:e<=999?1900+e:e}function k$(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function S$(r,e,t){if(r){var n=_w.indexOf(r),s=new Date(e[0],e[1],e[2]).getDay();if(n!==s)return wr(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function A$(r,e,t){if(r)return w$[r];if(e)return 0;var n=parseInt(t,10),s=n%100,i=(n-s)/100;return i*60+s}function Tw(r){var e=y$.exec(k$(r._i)),t;if(e){if(t=_$(e[4],e[3],e[2],e[5],e[6],e[7]),!S$(e[1],t,r))return;r._a=t,r._tzm=A$(e[8],e[9],e[10]),r._d=qf.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),wr(r).rfc2822=!0}else r._isValid=!1}function T$(r){var e=v$.exec(r._i);if(e!==null){r._d=new Date(+e[1]);return}if(Aw(r),r._isValid===!1)delete r._isValid;else return;if(Tw(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:Nt.createFromInputFallback(r)}Nt.createFromInputFallback=ao("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function Ru(r,e,t){return r??e??t}function N$(r){var e=new Date(Nt.now());return r._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function zg(r){var e,t,n=[],s,i,o;if(!r._d){for(s=N$(r),r._w&&r._a[ta]==null&&r._a[Ha]==null&&M$(r),r._dayOfYear!=null&&(o=Ru(r._a[Qs],s[Qs]),(r._dayOfYear>Cf(o)||r._dayOfYear===0)&&(wr(r)._overflowDayOfYear=!0),t=qf(o,0,r._dayOfYear),r._a[Ha]=t.getUTCMonth(),r._a[ta]=t.getUTCDate()),e=0;e<3&&r._a[e]==null;++e)r._a[e]=n[e]=s[e];for(;e<7;e++)r._a[e]=n[e]=r._a[e]==null?e===2?1:0:r._a[e];r._a[hs]===24&&r._a[No]===0&&r._a[Va]===0&&r._a[Oc]===0&&(r._nextDay=!0,r._a[hs]=0),r._d=(r._useUTC?qf:EL).apply(null,n),i=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[hs]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==i&&(wr(r).weekdayMismatch=!0)}}function M$(r){var e,t,n,s,i,o,a,l,c;e=r._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,t=Ru(e.GG,r._a[Qs],Hf(_n(),1,4).year),n=Ru(e.W,1),s=Ru(e.E,1),(s<1||s>7)&&(l=!0)):(i=r._locale._week.dow,o=r._locale._week.doy,c=Hf(_n(),i,o),t=Ru(e.gg,r._a[Qs],c.year),n=Ru(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),n<1||n>Wa(t,i,o)?wr(r)._overflowWeeks=!0:l!=null?wr(r)._overflowWeekday=!0:(a=ww(t,n,s,i,o),r._a[Qs]=a.year,r._dayOfYear=a.dayOfYear)}Nt.ISO_8601=function(){};Nt.RFC_2822=function(){};function qg(r){if(r._f===Nt.ISO_8601){Aw(r);return}if(r._f===Nt.RFC_2822){Tw(r);return}r._a=[],wr(r).empty=!0;var e=""+r._i,t,n,s,i,o,a=e.length,l=0,c,u;for(s=aw(r._f,r._locale).match(Og)||[],u=s.length,t=0;t<u;t++)i=s[t],n=(e.match(bL(i,r))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&wr(r).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),Ku[i]?(n?wr(r).empty=!1:wr(r).unusedTokens.push(i),yL(i,n,r)):r._strict&&!n&&wr(r).unusedTokens.push(i);wr(r).charsLeftOver=a-l,e.length>0&&wr(r).unusedInput.push(e),r._a[hs]<=12&&wr(r).bigHour===!0&&r._a[hs]>0&&(wr(r).bigHour=void 0),wr(r).parsedDateParts=r._a.slice(0),wr(r).meridiem=r._meridiem,r._a[hs]=C$(r._locale,r._a[hs],r._meridiem),c=wr(r).era,c!==null&&(r._a[Qs]=r._locale.erasConvertYear(c,r._a[Qs])),zg(r),Bg(r)}function C$(r,e,t){var n;return t==null?e:r.meridiemHour!=null?r.meridiemHour(e,t):(r.isPM!=null&&(n=r.isPM(t),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function L$(r){var e,t,n,s,i,o,a=!1,l=r._f.length;if(l===0){wr(r).invalidFormat=!0,r._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,o=!1,e=Lg({},r),r._useUTC!=null&&(e._useUTC=r._useUTC),e._f=r._f[s],qg(e),Cg(e)&&(o=!0),i+=wr(e).charsLeftOver,i+=wr(e).unusedTokens.length*10,wr(e).score=i,a?i<n&&(n=i,t=e):(n==null||i<n||o)&&(n=i,t=e,o&&(a=!0));Bl(r,t||e)}function $$(r){if(!r._d){var e=Ig(r._i),t=e.day===void 0?e.date:e.day;r._a=sw([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),zg(r)}}function O$(r){var e=new hd(Bg(Nw(r)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Nw(r){var e=r._i,t=r._f;return r._locale=r._locale||rl(r._l),e===null||t===void 0&&e===""?I1({nullInput:!0}):(typeof e=="string"&&(r._i=e=r._locale.preparse(e)),Lo(e)?new hd(Bg(e)):(dd(e)?r._d=e:Co(t)?L$(r):t?qg(r):I$(r),Cg(r)||(r._d=null),r))}function I$(r){var e=r._i;ki(e)?r._d=new Date(Nt.now()):dd(e)?r._d=new Date(e.valueOf()):typeof e=="string"?T$(r):Co(e)?(r._a=sw(e.slice(0),function(t){return parseInt(t,10)}),zg(r)):Fc(e)?$$(r):Ja(e)?r._d=new Date(e):Nt.createFromInputFallback(r)}function Mw(r,e,t,n,s){var i={};return(e===!0||e===!1)&&(n=e,e=void 0),(t===!0||t===!1)&&(n=t,t=void 0),(Fc(r)&&Mg(r)||Co(r)&&r.length===0)&&(r=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=t,i._i=r,i._f=e,i._strict=n,O$(i)}function _n(r,e,t,n){return Mw(r,e,t,n,!1)}var E$=ao("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=_n.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:I1()}),P$=ao("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=_n.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:I1()});function Cw(r,e){var t,n;if(e.length===1&&Co(e[0])&&(e=e[0]),!e.length)return _n();for(t=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][r](t))&&(t=e[n]);return t}function D$(){var r=[].slice.call(arguments,0);return Cw("isBefore",r)}function R$(){var r=[].slice.call(arguments,0);return Cw("isAfter",r)}var F$=function(){return Date.now?Date.now():+new Date},gf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function j$(r){var e,t=!1,n,s=gf.length;for(e in r)if(qr(r,e)&&!(Kn.call(gf,e)!==-1&&(r[e]==null||!isNaN(r[e]))))return!1;for(n=0;n<s;++n)if(r[gf[n]]){if(t)return!1;parseFloat(r[gf[n]])!==Ar(r[gf[n]])&&(t=!0)}return!0}function B$(){return this._isValid}function z$(){return Fo(NaN)}function q1(r){var e=Ig(r),t=e.year||0,n=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=j$(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+n*3+t*12,this._data={},this._locale=rl(),this._bubble()}function Nh(r){return r instanceof q1}function p2(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function q$(r,e,t){var n=Math.min(r.length,e.length),s=Math.abs(r.length-e.length),i=0,o;for(o=0;o<n;o++)(t&&r[o]!==e[o]||!t&&Ar(r[o])!==Ar(e[o]))&&i++;return i+s}function Lw(r,e){Qt(r,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+fa(~~(t/60),2)+e+fa(~~t%60,2)})}Lw("Z",":");Lw("ZZ","");jt("Z",j1);jt("ZZ",j1);rn(["Z","ZZ"],function(r,e,t){t._useUTC=!0,t._tzm=Hg(j1,r)});var H$=/([\+\-]|\d\d)/gi;function Hg(r,e){var t=(e||"").match(r),n,s,i;return t===null?null:(n=t[t.length-1]||[],s=(n+"").match(H$)||["-",0,0],i=+(s[1]*60)+Ar(s[2]),i===0?0:s[0]==="+"?i:-i)}function Vg(r,e){var t,n;return e._isUTC?(t=e.clone(),n=(Lo(r)||dd(r)?r.valueOf():_n(r).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+n),Nt.updateOffset(t,!1),t):_n(r).local()}function m2(r){return-Math.round(r._d.getTimezoneOffset())}Nt.updateOffset=function(){};function V$(r,e,t){var n=this._offset||0,s;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=Hg(j1,r),r===null)return this}else Math.abs(r)<16&&!t&&(r=r*60);return!this._isUTC&&e&&(s=m2(this)),this._offset=r,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==r&&(!e||this._changeInProgress?Iw(this,Fo(r-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Nt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:m2(this)}function U$(r,e){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,e),this):-this.utcOffset()}function W$(r){return this.utcOffset(0,r)}function Y$(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(m2(this),"m")),this}function Q$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=Hg(mL,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function G$(r){return this.isValid()?(r=r?_n(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function J$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function K$(){if(!ki(this._isDSTShifted))return this._isDSTShifted;var r={},e;return Lg(r,this),r=Nw(r),r._a?(e=r._isUTC?ga(r._a):_n(r._a),this._isDSTShifted=this.isValid()&&q$(r._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function X$(){return this.isValid()?!this._isUTC:!1}function Z$(){return this.isValid()?this._isUTC:!1}function $w(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fo(r,e){var t=r,n=null,s,i,o;return Nh(r)?t={ms:r._milliseconds,d:r._days,M:r._months}:Ja(r)||!isNaN(+r)?(t={},e?t[e]=+r:t.milliseconds=+r):(n=eO.exec(r))?(s=n[1]==="-"?-1:1,t={y:0,d:Ar(n[ta])*s,h:Ar(n[hs])*s,m:Ar(n[No])*s,s:Ar(n[Va])*s,ms:Ar(p2(n[Oc]*1e3))*s}):(n=tO.exec(r))?(s=n[1]==="-"?-1:1,t={y:xc(n[2],s),M:xc(n[3],s),w:xc(n[4],s),d:xc(n[5],s),h:xc(n[6],s),m:xc(n[7],s),s:xc(n[8],s)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=rO(_n(t.from),_n(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),i=new q1(t),Nh(r)&&qr(r,"_locale")&&(i._locale=r._locale),Nh(r)&&qr(r,"_isValid")&&(i._isValid=r._isValid),i}Fo.fn=q1.prototype;Fo.invalid=z$;function xc(r,e){var t=r&&parseFloat(r.replace(",","."));return(isNaN(t)?0:t)*e}function J3(r,e){var t={};return t.months=e.month()-r.month()+(e.year()-r.year())*12,r.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+r.clone().add(t.months,"M"),t}function rO(r,e){var t;return r.isValid()&&e.isValid()?(e=Vg(e,r),r.isBefore(e)?t=J3(r,e):(t=J3(e,r),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function Ow(r,e){return function(t,n){var s,i;return n!==null&&!isNaN(+n)&&(ow(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=n,n=i),s=Fo(t,n),Iw(this,s,r),this}}function Iw(r,e,t,n){var s=e._milliseconds,i=p2(e._days),o=p2(e._months);r.isValid()&&(n=n??!0,o&&gw(r,Jh(r,"Month")+o*t),i&&cw(r,"Date",Jh(r,"Date")+i*t),s&&r._d.setTime(r._d.valueOf()+s*t),n&&Nt.updateOffset(r,i||o))}var nO=Ow(1,"add"),sO=Ow(-1,"subtract");function Ew(r){return typeof r=="string"||r instanceof String}function iO(r){return Lo(r)||dd(r)||Ew(r)||Ja(r)||aO(r)||oO(r)||r===null||r===void 0}function oO(r){var e=Fc(r)&&!Mg(r),t=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=n.length;for(s=0;s<o;s+=1)i=n[s],t=t||qr(r,i);return e&&t}function aO(r){var e=Co(r),t=!1;return e&&(t=r.filter(function(n){return!Ja(n)&&Ew(r)}).length===0),e&&t}function lO(r){var e=Fc(r)&&!Mg(r),t=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<n.length;s+=1)i=n[s],t=t||qr(r,i);return e&&t}function cO(r,e){var t=r.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function uO(r,e){arguments.length===1&&(arguments[0]?iO(arguments[0])?(r=arguments[0],e=void 0):lO(arguments[0])&&(e=arguments[0],r=void 0):(r=void 0,e=void 0));var t=r||_n(),n=Vg(t,this).startOf("day"),s=Nt.calendarFormat(this,n)||"sameElse",i=e&&(ba(e[s])?e[s].call(this,t):e[s]);return this.format(i||this.localeData().calendar(s,this,_n(t)))}function fO(){return new hd(this)}function dO(r,e){var t=Lo(r)?r:_n(r);return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function hO(r,e){var t=Lo(r)?r:_n(r);return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function pO(r,e,t,n){var s=Lo(r)?r:_n(r),i=Lo(e)?e:_n(e);return this.isValid()&&s.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,t):!this.isBefore(s,t))&&(n[1]===")"?this.isBefore(i,t):!this.isAfter(i,t))):!1}function mO(r,e){var t=Lo(r)?r:_n(r),n;return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(n=t.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function gO(r,e){return this.isSame(r,e)||this.isAfter(r,e)}function bO(r,e){return this.isSame(r,e)||this.isBefore(r,e)}function vO(r,e,t){var n,s,i;if(!this.isValid())return NaN;if(n=Vg(r,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,e=lo(e),e){case"year":i=Mh(this,n)/12;break;case"month":i=Mh(this,n);break;case"quarter":i=Mh(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-s)/864e5;break;case"week":i=(this-n-s)/6048e5;break;default:i=this-n}return t?i:Xi(i)}function Mh(r,e){if(r.date()<e.date())return-Mh(e,r);var t=(e.year()-r.year())*12+(e.month()-r.month()),n=r.clone().add(t,"months"),s,i;return e-n<0?(s=r.clone().add(t-1,"months"),i=(e-n)/(n-s)):(s=r.clone().add(t+1,"months"),i=(e-n)/(s-n)),-(t+i)||0}Nt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Nt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function yO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wO(r){if(!this.isValid())return null;var e=r!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Th(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ba(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Th(t,"Z")):Th(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _O(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",e="",t,n,s,i;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+r+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(t+n+s+i)}function xO(r){r||(r=this.isUtc()?Nt.defaultFormatUtc:Nt.defaultFormat);var e=Th(this,r);return this.localeData().postformat(e)}function kO(r,e){return this.isValid()&&(Lo(r)&&r.isValid()||_n(r).isValid())?Fo({to:this,from:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function SO(r){return this.from(_n(),r)}function AO(r,e){return this.isValid()&&(Lo(r)&&r.isValid()||_n(r).isValid())?Fo({from:this,to:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function TO(r){return this.to(_n(),r)}function Pw(r){var e;return r===void 0?this._locale._abbr:(e=rl(r),e!=null&&(this._locale=e),this)}var Dw=ao("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function Rw(){return this._locale}var Zh=1e3,Xu=60*Zh,e1=60*Xu,Fw=(365*400+97)*24*e1;function Zu(r,e){return(r%e+e)%e}function jw(r,e,t){return r<100&&r>=0?new Date(r+400,e,t)-Fw:new Date(r,e,t).valueOf()}function Bw(r,e,t){return r<100&&r>=0?Date.UTC(r+400,e,t)-Fw:Date.UTC(r,e,t)}function NO(r){var e,t;if(r=lo(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?Bw:jw,r){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Zu(e+(this._isUTC?0:this.utcOffset()*Xu),e1);break;case"minute":e=this._d.valueOf(),e-=Zu(e,Xu);break;case"second":e=this._d.valueOf(),e-=Zu(e,Zh);break}return this._d.setTime(e),Nt.updateOffset(this,!0),this}function MO(r){var e,t;if(r=lo(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?Bw:jw,r){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=e1-Zu(e+(this._isUTC?0:this.utcOffset()*Xu),e1)-1;break;case"minute":e=this._d.valueOf(),e+=Xu-Zu(e,Xu)-1;break;case"second":e=this._d.valueOf(),e+=Zh-Zu(e,Zh)-1;break}return this._d.setTime(e),Nt.updateOffset(this,!0),this}function CO(){return this._d.valueOf()-(this._offset||0)*6e4}function LO(){return Math.floor(this.valueOf()/1e3)}function $O(){return new Date(this.valueOf())}function OO(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function IO(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function EO(){return this.isValid()?this.toISOString():null}function PO(){return Cg(this)}function DO(){return Bl({},wr(this))}function RO(){return wr(this).overflow}function FO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Qt("N",0,0,"eraAbbr");Qt("NN",0,0,"eraAbbr");Qt("NNN",0,0,"eraAbbr");Qt("NNNN",0,0,"eraName");Qt("NNNNN",0,0,"eraNarrow");Qt("y",["y",1],"yo","eraYear");Qt("y",["yy",2],0,"eraYear");Qt("y",["yyy",3],0,"eraYear");Qt("y",["yyyy",4],0,"eraYear");jt("N",Ug);jt("NN",Ug);jt("NNN",Ug);jt("NNNN",GO);jt("NNNNN",JO);rn(["N","NN","NNN","NNNN","NNNNN"],function(r,e,t,n){var s=t._locale.erasParse(r,n,t._strict);s?wr(t).era=s:wr(t).invalidEra=r});jt("y",C0);jt("yy",C0);jt("yyy",C0);jt("yyyy",C0);jt("yo",KO);rn(["y","yy","yyy","yyyy"],Qs);rn(["yo"],function(r,e,t,n){var s;t._locale._eraYearOrdinalRegex&&(s=r.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Qs]=t._locale.eraYearOrdinalParse(r,s):e[Qs]=parseInt(r,10)});function jO(r,e){var t,n,s,i=this._eras||rl("en")._eras;for(t=0,n=i.length;t<n;++t){switch(typeof i[t].since){case"string":s=Nt(i[t].since).startOf("day"),i[t].since=s.valueOf();break}switch(typeof i[t].until){case"undefined":i[t].until=1/0;break;case"string":s=Nt(i[t].until).startOf("day").valueOf(),i[t].until=s.valueOf();break}}return i}function BO(r,e,t){var n,s,i=this.eras(),o,a,l;for(r=r.toUpperCase(),n=0,s=i.length;n<s;++n)if(o=i[n].name.toUpperCase(),a=i[n].abbr.toUpperCase(),l=i[n].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===r)return i[n];break;case"NNNN":if(o===r)return i[n];break;case"NNNNN":if(l===r)return i[n];break}else if([o,a,l].indexOf(r)>=0)return i[n]}function zO(r,e){var t=r.since<=r.until?1:-1;return e===void 0?Nt(r.since).year():Nt(r.since).year()+(e-r.offset)*t}function qO(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].name;return""}function HO(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].narrow;return""}function VO(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].abbr;return""}function UO(){var r,e,t,n,s=this.localeData().eras();for(r=0,e=s.length;r<e;++r)if(t=s[r].since<=s[r].until?1:-1,n=this.clone().startOf("day").valueOf(),s[r].since<=n&&n<=s[r].until||s[r].until<=n&&n<=s[r].since)return(this.year()-Nt(s[r].since).year())*t+s[r].offset;return this.year()}function WO(r){return qr(this,"_erasNameRegex")||Wg.call(this),r?this._erasNameRegex:this._erasRegex}function YO(r){return qr(this,"_erasAbbrRegex")||Wg.call(this),r?this._erasAbbrRegex:this._erasRegex}function QO(r){return qr(this,"_erasNarrowRegex")||Wg.call(this),r?this._erasNarrowRegex:this._erasRegex}function Ug(r,e){return e.erasAbbrRegex(r)}function GO(r,e){return e.erasNameRegex(r)}function JO(r,e){return e.erasNarrowRegex(r)}function KO(r,e){return e._eraYearOrdinalRegex||C0}function Wg(){var r=[],e=[],t=[],n=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)e.push(Fi(o[s].name)),r.push(Fi(o[s].abbr)),t.push(Fi(o[s].narrow)),n.push(Fi(o[s].name)),n.push(Fi(o[s].abbr)),n.push(Fi(o[s].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}Qt(0,["gg",2],0,function(){return this.weekYear()%100});Qt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function H1(r,e){Qt(0,[r,r.length],0,e)}H1("gggg","weekYear");H1("ggggg","weekYear");H1("GGGG","isoWeekYear");H1("GGGGG","isoWeekYear");Xs("weekYear","gg");Xs("isoWeekYear","GG");Zs("weekYear",1);Zs("isoWeekYear",1);jt("G",F1);jt("g",F1);jt("GG",Sn,qi);jt("gg",Sn,qi);jt("GGGG",Pg,Eg);jt("gggg",Pg,Eg);jt("GGGGG",R1,P1);jt("ggggg",R1,P1);md(["gggg","ggggg","GGGG","GGGGG"],function(r,e,t,n){e[n.substr(0,2)]=Ar(r)});md(["gg","GG"],function(r,e,t,n){e[n]=Nt.parseTwoDigitYear(r)});function XO(r){return zw.call(this,r,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ZO(r){return zw.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function eI(){return Wa(this.year(),1,4)}function tI(){return Wa(this.isoWeekYear(),1,4)}function rI(){var r=this.localeData()._week;return Wa(this.year(),r.dow,r.doy)}function nI(){var r=this.localeData()._week;return Wa(this.weekYear(),r.dow,r.doy)}function zw(r,e,t,n,s){var i;return r==null?Hf(this,n,s).year:(i=Wa(r,n,s),e>i&&(e=i),sI.call(this,r,e,t,n,s))}function sI(r,e,t,n,s){var i=ww(r,e,t,n,s),o=qf(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Qt("Q",0,"Qo","quarter");Xs("quarter","Q");Zs("quarter",7);jt("Q",uw);rn("Q",function(r,e){e[Ha]=(Ar(r)-1)*3});function iI(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}Qt("D",["DD",2],"Do","date");Xs("date","D");Zs("date",9);jt("D",Sn);jt("DD",Sn,qi);jt("Do",function(r,e){return r?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});rn(["D","DD"],ta);rn("Do",function(r,e){e[ta]=Ar(r.match(Sn)[0])});var qw=M0("Date",!0);Qt("DDD",["DDDD",3],"DDDo","dayOfYear");Xs("dayOfYear","DDD");Zs("dayOfYear",4);jt("DDD",D1);jt("DDDD",fw);rn(["DDD","DDDD"],function(r,e,t){t._dayOfYear=Ar(r)});function oI(r){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?e:this.add(r-e,"d")}Qt("m",["mm",2],0,"minute");Xs("minute","m");Zs("minute",14);jt("m",Sn);jt("mm",Sn,qi);rn(["m","mm"],No);var aI=M0("Minutes",!1);Qt("s",["ss",2],0,"second");Xs("second","s");Zs("second",15);jt("s",Sn);jt("ss",Sn,qi);rn(["s","ss"],Va);var lI=M0("Seconds",!1);Qt("S",0,0,function(){return~~(this.millisecond()/100)});Qt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Qt(0,["SSS",3],0,"millisecond");Qt(0,["SSSS",4],0,function(){return this.millisecond()*10});Qt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Qt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Qt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Qt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Qt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Xs("millisecond","ms");Zs("millisecond",16);jt("S",D1,uw);jt("SS",D1,qi);jt("SSS",D1,fw);var zl,Hw;for(zl="SSSS";zl.length<=9;zl+="S")jt(zl,C0);function cI(r,e){e[Oc]=Ar(("0."+r)*1e3)}for(zl="S";zl.length<=9;zl+="S")rn(zl,cI);Hw=M0("Milliseconds",!1);Qt("z",0,0,"zoneAbbr");Qt("zz",0,0,"zoneName");function uI(){return this._isUTC?"UTC":""}function fI(){return this._isUTC?"Coordinated Universal Time":""}var gt=hd.prototype;gt.add=nO;gt.calendar=uO;gt.clone=fO;gt.diff=vO;gt.endOf=MO;gt.format=xO;gt.from=kO;gt.fromNow=SO;gt.to=AO;gt.toNow=TO;gt.get=hL;gt.invalidAt=RO;gt.isAfter=dO;gt.isBefore=hO;gt.isBetween=pO;gt.isSame=mO;gt.isSameOrAfter=gO;gt.isSameOrBefore=bO;gt.isValid=PO;gt.lang=Dw;gt.locale=Pw;gt.localeData=Rw;gt.max=P$;gt.min=E$;gt.parsingFlags=DO;gt.set=pL;gt.startOf=NO;gt.subtract=sO;gt.toArray=OO;gt.toObject=IO;gt.toDate=$O;gt.toISOString=wO;gt.inspect=_O;typeof Symbol<"u"&&Symbol.for!=null&&(gt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});gt.toJSON=EO;gt.toString=yO;gt.unix=LO;gt.valueOf=CO;gt.creationData=FO;gt.eraName=qO;gt.eraNarrow=HO;gt.eraAbbr=VO;gt.eraYear=UO;gt.year=yw;gt.isLeapYear=IL;gt.weekYear=XO;gt.isoWeekYear=ZO;gt.quarter=gt.quarters=iI;gt.month=bw;gt.daysInMonth=LL;gt.week=gt.weeks=jL;gt.isoWeek=gt.isoWeeks=BL;gt.weeksInYear=rI;gt.weeksInWeekYear=nI;gt.isoWeeksInYear=eI;gt.isoWeeksInISOWeekYear=tI;gt.date=qw;gt.day=gt.days=ZL;gt.weekday=e$;gt.isoWeekday=t$;gt.dayOfYear=oI;gt.hour=gt.hours=l$;gt.minute=gt.minutes=aI;gt.second=gt.seconds=lI;gt.millisecond=gt.milliseconds=Hw;gt.utcOffset=V$;gt.utc=W$;gt.local=Y$;gt.parseZone=Q$;gt.hasAlignedHourOffset=G$;gt.isDST=J$;gt.isLocal=X$;gt.isUtcOffset=Z$;gt.isUtc=$w;gt.isUTC=$w;gt.zoneAbbr=uI;gt.zoneName=fI;gt.dates=ao("dates accessor is deprecated. Use date instead.",qw);gt.months=ao("months accessor is deprecated. Use month instead",bw);gt.years=ao("years accessor is deprecated. Use year instead",yw);gt.zone=ao("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",U$);gt.isDSTShifted=ao("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",K$);function dI(r){return _n(r*1e3)}function hI(){return _n.apply(null,arguments).parseZone()}function Vw(r){return r}var Hr=$g.prototype;Hr.calendar=ZC;Hr.longDateFormat=nL;Hr.invalidDate=iL;Hr.ordinal=lL;Hr.preparse=Vw;Hr.postformat=Vw;Hr.relativeTime=uL;Hr.pastFuture=fL;Hr.set=KC;Hr.eras=jO;Hr.erasParse=BO;Hr.erasConvertYear=zO;Hr.erasAbbrRegex=YO;Hr.erasNameRegex=WO;Hr.erasNarrowRegex=QO;Hr.months=TL;Hr.monthsShort=NL;Hr.monthsParse=CL;Hr.monthsRegex=OL;Hr.monthsShortRegex=$L;Hr.week=PL;Hr.firstDayOfYear=FL;Hr.firstDayOfWeek=RL;Hr.weekdays=QL;Hr.weekdaysMin=JL;Hr.weekdaysShort=GL;Hr.weekdaysParse=XL;Hr.weekdaysRegex=r$;Hr.weekdaysShortRegex=n$;Hr.weekdaysMinRegex=s$;Hr.isPM=o$;Hr.meridiem=c$;function t1(r,e,t,n){var s=rl(),i=ga().set(n,e);return s[t](i,r)}function Uw(r,e,t){if(Ja(r)&&(e=r,r=void 0),r=r||"",e!=null)return t1(r,e,t,"month");var n,s=[];for(n=0;n<12;n++)s[n]=t1(r,n,t,"month");return s}function Yg(r,e,t,n){typeof r=="boolean"?(Ja(e)&&(t=e,e=void 0),e=e||""):(e=r,t=e,r=!1,Ja(e)&&(t=e,e=void 0),e=e||"");var s=rl(),i=r?s._week.dow:0,o,a=[];if(t!=null)return t1(e,(t+i)%7,n,"day");for(o=0;o<7;o++)a[o]=t1(e,(o+i)%7,n,"day");return a}function pI(r,e){return Uw(r,e,"months")}function mI(r,e){return Uw(r,e,"monthsShort")}function gI(r,e,t){return Yg(r,e,t,"weekdays")}function bI(r,e,t){return Yg(r,e,t,"weekdaysShort")}function vI(r,e,t){return Yg(r,e,t,"weekdaysMin")}Yl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var e=r%10,t=Ar(r%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return r+t}});Nt.lang=ao("moment.lang is deprecated. Use moment.locale instead.",Yl);Nt.langData=ao("moment.langData is deprecated. Use moment.localeData instead.",rl);var Pa=Math.abs;function yI(){var r=this._data;return this._milliseconds=Pa(this._milliseconds),this._days=Pa(this._days),this._months=Pa(this._months),r.milliseconds=Pa(r.milliseconds),r.seconds=Pa(r.seconds),r.minutes=Pa(r.minutes),r.hours=Pa(r.hours),r.months=Pa(r.months),r.years=Pa(r.years),this}function Ww(r,e,t,n){var s=Fo(e,t);return r._milliseconds+=n*s._milliseconds,r._days+=n*s._days,r._months+=n*s._months,r._bubble()}function wI(r,e){return Ww(this,r,e,1)}function _I(r,e){return Ww(this,r,e,-1)}function K3(r){return r<0?Math.floor(r):Math.ceil(r)}function xI(){var r=this._milliseconds,e=this._days,t=this._months,n=this._data,s,i,o,a,l;return r>=0&&e>=0&&t>=0||r<=0&&e<=0&&t<=0||(r+=K3(g2(t)+e)*864e5,e=0,t=0),n.milliseconds=r%1e3,s=Xi(r/1e3),n.seconds=s%60,i=Xi(s/60),n.minutes=i%60,o=Xi(i/60),n.hours=o%24,e+=Xi(o/24),l=Xi(Yw(e)),t+=l,e-=K3(g2(l)),a=Xi(t/12),t%=12,n.days=e,n.months=t,n.years=a,this}function Yw(r){return r*4800/146097}function g2(r){return r*146097/4800}function kI(r){if(!this.isValid())return NaN;var e,t,n=this._milliseconds;if(r=lo(r),r==="month"||r==="quarter"||r==="year")switch(e=this._days+n/864e5,t=this._months+Yw(e),r){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(g2(this._months)),r){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+r)}}function SI(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ar(this._months/12)*31536e6:NaN}function nl(r){return function(){return this.as(r)}}var AI=nl("ms"),TI=nl("s"),NI=nl("m"),MI=nl("h"),CI=nl("d"),LI=nl("w"),$I=nl("M"),OI=nl("Q"),II=nl("y");function EI(){return Fo(this)}function PI(r){return r=lo(r),this.isValid()?this[r+"s"]():NaN}function Jc(r){return function(){return this.isValid()?this._data[r]:NaN}}var DI=Jc("milliseconds"),RI=Jc("seconds"),FI=Jc("minutes"),jI=Jc("hours"),BI=Jc("days"),zI=Jc("months"),qI=Jc("years");function HI(){return Xi(this.days()/7)}var ja=Math.round,Vu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function VI(r,e,t,n,s){return s.relativeTime(e||1,!!t,r,n)}function UI(r,e,t,n){var s=Fo(r).abs(),i=ja(s.as("s")),o=ja(s.as("m")),a=ja(s.as("h")),l=ja(s.as("d")),c=ja(s.as("M")),u=ja(s.as("w")),f=ja(s.as("y")),h=i<=t.ss&&["s",i]||i<t.s&&["ss",i]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(h=h||u<=1&&["w"]||u<t.w&&["ww",u]),h=h||c<=1&&["M"]||c<t.M&&["MM",c]||f<=1&&["y"]||["yy",f],h[2]=e,h[3]=+r>0,h[4]=n,VI.apply(null,h)}function WI(r){return r===void 0?ja:typeof r=="function"?(ja=r,!0):!1}function YI(r,e){return Vu[r]===void 0?!1:e===void 0?Vu[r]:(Vu[r]=e,r==="s"&&(Vu.ss=e-1),!0)}function QI(r,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,n=Vu,s,i;return typeof r=="object"&&(e=r,r=!1),typeof r=="boolean"&&(t=r),typeof e=="object"&&(n=Object.assign({},Vu,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),s=this.localeData(),i=UI(this,!t,n,s),t&&(i=s.pastFuture(+this,i)),s.postformat(i)}var rm=Math.abs;function Cu(r){return(r>0)-(r<0)||+r}function V1(){if(!this.isValid())return this.localeData().invalidDate();var r=rm(this._milliseconds)/1e3,e=rm(this._days),t=rm(this._months),n,s,i,o,a=this.asSeconds(),l,c,u,f;return a?(n=Xi(r/60),s=Xi(n/60),r%=60,n%=60,i=Xi(t/12),t%=12,o=r?r.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Cu(this._months)!==Cu(a)?"-":"",u=Cu(this._days)!==Cu(a)?"-":"",f=Cu(this._milliseconds)!==Cu(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(s||n||r?"T":"")+(s?f+s+"H":"")+(n?f+n+"M":"")+(r?f+o+"S":"")):"P0D"}var Ir=q1.prototype;Ir.isValid=B$;Ir.abs=yI;Ir.add=wI;Ir.subtract=_I;Ir.as=kI;Ir.asMilliseconds=AI;Ir.asSeconds=TI;Ir.asMinutes=NI;Ir.asHours=MI;Ir.asDays=CI;Ir.asWeeks=LI;Ir.asMonths=$I;Ir.asQuarters=OI;Ir.asYears=II;Ir.valueOf=SI;Ir._bubble=xI;Ir.clone=EI;Ir.get=PI;Ir.milliseconds=DI;Ir.seconds=RI;Ir.minutes=FI;Ir.hours=jI;Ir.days=BI;Ir.weeks=HI;Ir.months=zI;Ir.years=qI;Ir.humanize=QI;Ir.toISOString=V1;Ir.toString=V1;Ir.toJSON=V1;Ir.locale=Pw;Ir.localeData=Rw;Ir.toIsoString=ao("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",V1);Ir.lang=Dw;Qt("X",0,0,"unix");Qt("x",0,0,"valueOf");jt("x",F1);jt("X",gL);rn("X",function(r,e,t){t._d=new Date(parseFloat(r)*1e3)});rn("x",function(r,e,t){t._d=new Date(Ar(r))});//! moment.js
Nt.version="2.29.4";GC(_n);Nt.fn=gt;Nt.min=D$;Nt.max=R$;Nt.now=F$;Nt.utc=ga;Nt.unix=dI;Nt.months=pI;Nt.isDate=dd;Nt.locale=Yl;Nt.invalid=I1;Nt.duration=Fo;Nt.isMoment=Lo;Nt.weekdays=gI;Nt.parseZone=hI;Nt.localeData=rl;Nt.isDuration=Nh;Nt.monthsShort=mI;Nt.weekdaysMin=vI;Nt.defineLocale=jg;Nt.updateLocale=h$;Nt.locales=p$;Nt.weekdaysShort=bI;Nt.normalizeUnits=lo;Nt.relativeTimeRounding=WI;Nt.relativeTimeThreshold=YI;Nt.calendarFormat=cO;Nt.prototype=gt;Nt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Qw=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),GI=Ly(Qw);/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */(function(r,e){(function(t,n){var s;{try{s=GI}catch{}r.exports=n(s)}})(Hu,function(t){var n=typeof t=="function",s=!!window.addEventListener,i=window.document,o=window.setTimeout,a=function(q,F,te,B){s?q.addEventListener(F,te,!!B):q.attachEvent("on"+F,te)},l=function(q,F,te,B){s?q.removeEventListener(F,te,!!B):q.detachEvent("on"+F,te)},c=function(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")},u=function(q,F){return(" "+q.className+" ").indexOf(" "+F+" ")!==-1},f=function(q,F){u(q,F)||(q.className=q.className===""?F:q.className+" "+F)},h=function(q,F){q.className=c((" "+q.className+" ").replace(" "+F+" "," "))},d=function(q){return/Array/.test(Object.prototype.toString.call(q))},p=function(q){return/Date/.test(Object.prototype.toString.call(q))&&!isNaN(q.getTime())},g=function(q){var F=q.getDay();return F===0||F===6},w=function(q){return q%4===0&&q%100!==0||q%400===0},v=function(q,F){return[31,w(q)?29:28,31,30,31,30,31,31,30,31,30,31][F]},_=function(q){p(q)&&q.setHours(0,0,0,0)},k=function(q,F){return q.getTime()===F.getTime()},A=function(q,F,te){var B,L;for(B in F)L=q[B]!==void 0,L&&typeof F[B]=="object"&&F[B]!==null&&F[B].nodeName===void 0?p(F[B])?te&&(q[B]=new Date(F[B].getTime())):d(F[B])?te&&(q[B]=F[B].slice(0)):q[B]=A({},F[B],te):(te||!L)&&(q[B]=F[B]);return q},C=function(q,F,te){var B;i.createEvent?(B=i.createEvent("HTMLEvents"),B.initEvent(F,!0,!1),B=A(B,te),q.dispatchEvent(B)):i.createEventObject&&(B=i.createEventObject(),B=A(B,te),q.fireEvent("on"+F,B))},N=function(q){return q.month<0&&(q.year-=Math.ceil(Math.abs(q.month)/12),q.month+=12),q.month>11&&(q.year+=Math.floor(Math.abs(q.month)/12),q.month-=12),q},T={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},O=function(q,F,te){for(F+=q.firstDay;F>=7;)F-=7;return te?q.i18n.weekdaysShort[F]:q.i18n.weekdays[F]},D=function(q){var F=[],te="false";if(q.isEmpty)if(q.showDaysInNextAndPreviousMonths)F.push("is-outside-current-month"),q.enableSelectionDaysInNextAndPreviousMonths||F.push("is-selection-disabled");else return'<td class="is-empty"></td>';return q.isDisabled&&F.push("is-disabled"),q.isToday&&F.push("is-today"),q.isSelected&&(F.push("is-selected"),te="true"),q.hasEvent&&F.push("has-event"),q.isInRange&&F.push("is-inrange"),q.isStartRange&&F.push("is-startrange"),q.isEndRange&&F.push("is-endrange"),'<td data-day="'+q.day+'" class="'+F.join(" ")+'" aria-selected="'+te+'"><button class="pika-button pika-day" type="button" data-pika-year="'+q.year+'" data-pika-month="'+q.month+'" data-pika-day="'+q.day+'">'+q.day+"</button></td>"},Q=function(q,F){q.setHours(0,0,0,0);var te=q.getDate(),B=q.getDay(),L=F,Y=L-1,re=7,X=function(Ne){return(Ne+re-1)%re};q.setDate(te+Y-X(B));var K=new Date(q.getFullYear(),0,L),W=24*60*60*1e3,pe=(q.getTime()-K.getTime())/W,be=1+Math.round((pe-Y+X(K.getDay()))/re);return be},E=function(q,F,te,B){var L=new Date(te,F,q),Y=n?t(L).isoWeek():Q(L,B);return'<td class="pika-week">'+Y+"</td>"},j=function(q,F,te,B){return'<tr class="pika-row'+(te?" pick-whole-week":"")+(B?" is-selected":"")+'">'+(F?q.reverse():q).join("")+"</tr>"},J=function(q){return"<tbody>"+q.join("")+"</tbody>"},U=function(q){var F,te=[];for(q.showWeekNumber&&te.push("<th></th>"),F=0;F<7;F++)te.push('<th scope="col"><abbr title="'+O(q,F)+'">'+O(q,F,!0)+"</abbr></th>");return"<thead><tr>"+(q.isRTL?te.reverse():te).join("")+"</tr></thead>"},ne=function(q,F,te,B,L,Y){var re,X,K,W=q._o,pe=te===W.minYear,be=te===W.maxYear,Ne='<div id="'+Y+'" class="pika-title" role="heading" aria-live="assertive">',Ae,qe,Me=!0,Ee=!0;for(K=[],re=0;re<12;re++)K.push('<option value="'+(te===L?re-F:12+re-F)+'"'+(re===B?' selected="selected"':"")+(pe&&re<W.minMonth||be&&re>W.maxMonth?' disabled="disabled"':"")+">"+W.i18n.months[re]+"</option>");for(Ae='<div class="pika-label">'+W.i18n.months[B]+'<select class="pika-select pika-select-month" tabindex="-1">'+K.join("")+"</select></div>",d(W.yearRange)?(re=W.yearRange[0],X=W.yearRange[1]+1):(re=te-W.yearRange,X=1+te+W.yearRange),K=[];re<X&&re<=W.maxYear;re++)re>=W.minYear&&K.push('<option value="'+re+'"'+(re===te?' selected="selected"':"")+">"+re+"</option>");return qe='<div class="pika-label">'+te+W.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+K.join("")+"</select></div>",W.showMonthAfterYear?Ne+=qe+Ae:Ne+=Ae+qe,pe&&(B===0||W.minMonth>=B)&&(Me=!1),be&&(B===11||W.maxMonth<=B)&&(Ee=!1),F===0&&(Ne+='<button class="pika-prev'+(Me?"":" is-disabled")+'" type="button">'+W.i18n.previousMonth+"</button>"),F===q._o.numberOfMonths-1&&(Ne+='<button class="pika-next'+(Ee?"":" is-disabled")+'" type="button">'+W.i18n.nextMonth+"</button>"),Ne+="</div>"},G=function(q,F,te){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+te+'">'+U(q)+J(F)+"</table>"},ae=function(q){var F=this,te=F.config(q);F._onMouseDown=function(L){if(F._v){L=L||window.event;var Y=L.target||L.srcElement;if(Y)if(u(Y,"is-disabled")||(u(Y,"pika-button")&&!u(Y,"is-empty")&&!u(Y.parentNode,"is-disabled")?(F.setDate(new Date(Y.getAttribute("data-pika-year"),Y.getAttribute("data-pika-month"),Y.getAttribute("data-pika-day"))),te.bound&&o(function(){F.hide(),te.blurFieldOnSelect&&te.field&&te.field.blur()},100)):u(Y,"pika-prev")?F.prevMonth():u(Y,"pika-next")&&F.nextMonth()),u(Y,"pika-select"))F._c=!0;else if(L.preventDefault)L.preventDefault();else return L.returnValue=!1,!1}},F._onChange=function(L){L=L||window.event;var Y=L.target||L.srcElement;Y&&(u(Y,"pika-select-month")?F.gotoMonth(Y.value):u(Y,"pika-select-year")&&F.gotoYear(Y.value))},F._onKeyChange=function(L){if(L=L||window.event,F.isVisible())switch(L.keyCode){case 13:case 27:te.field&&te.field.blur();break;case 37:F.adjustDate("subtract",1);break;case 38:F.adjustDate("subtract",7);break;case 39:F.adjustDate("add",1);break;case 40:F.adjustDate("add",7);break;case 8:case 46:F.setDate(null);break}},F._parseFieldValue=function(){if(te.parse)return te.parse(te.field.value,te.format);if(n){var L=t(te.field.value,te.format,te.formatStrict);return L&&L.isValid()?L.toDate():null}else return new Date(Date.parse(te.field.value))},F._onInputChange=function(L){var Y;L.firedBy!==F&&(Y=F._parseFieldValue(),p(Y)&&F.setDate(Y),F._v||F.show())},F._onInputFocus=function(){F.show()},F._onInputClick=function(){F.show()},F._onInputBlur=function(){var L=i.activeElement;do if(u(L,"pika-single"))return;while(L=L.parentNode);F._c||(F._b=o(function(){F.hide()},50)),F._c=!1},F._onClick=function(L){L=L||window.event;var Y=L.target||L.srcElement,re=Y;if(Y){!s&&u(Y,"pika-select")&&(Y.onchange||(Y.setAttribute("onchange","return;"),a(Y,"change",F._onChange)));do if(u(re,"pika-single")||re===te.trigger)return;while(re=re.parentNode);F._v&&Y!==te.trigger&&re!==te.trigger&&F.hide()}},F.el=i.createElement("div"),F.el.className="pika-single"+(te.isRTL?" is-rtl":"")+(te.theme?" "+te.theme:""),a(F.el,"mousedown",F._onMouseDown,!0),a(F.el,"touchend",F._onMouseDown,!0),a(F.el,"change",F._onChange),te.keyboardInput&&a(i,"keydown",F._onKeyChange),te.field&&(te.container?te.container.appendChild(F.el):te.bound?i.body.appendChild(F.el):te.field.parentNode.insertBefore(F.el,te.field.nextSibling),a(te.field,"change",F._onInputChange),te.defaultDate||(te.defaultDate=F._parseFieldValue(),te.setDefaultDate=!0));var B=te.defaultDate;p(B)?te.setDefaultDate?F.setDate(B,!0):F.gotoDate(B):F.gotoDate(new Date),te.bound?(this.hide(),F.el.className+=" is-bound",a(te.trigger,"click",F._onInputClick),a(te.trigger,"focus",F._onInputFocus),a(te.trigger,"blur",F._onInputBlur)):this.show()};return ae.prototype={config:function(q){this._o||(this._o=A({},T,!0));var F=A(this._o,q,!0);F.isRTL=!!F.isRTL,F.field=F.field&&F.field.nodeName?F.field:null,F.theme=typeof F.theme=="string"&&F.theme?F.theme:null,F.bound=!!(F.bound!==void 0?F.field&&F.bound:F.field),F.trigger=F.trigger&&F.trigger.nodeName?F.trigger:F.field,F.disableWeekends=!!F.disableWeekends,F.disableDayFn=typeof F.disableDayFn=="function"?F.disableDayFn:null;var te=parseInt(F.numberOfMonths,10)||1;if(F.numberOfMonths=te>4?4:te,p(F.minDate)||(F.minDate=!1),p(F.maxDate)||(F.maxDate=!1),F.minDate&&F.maxDate&&F.maxDate<F.minDate&&(F.maxDate=F.minDate=!1),F.minDate&&this.setMinDate(F.minDate),F.maxDate&&this.setMaxDate(F.maxDate),d(F.yearRange)){var B=new Date().getFullYear()-10;F.yearRange[0]=parseInt(F.yearRange[0],10)||B,F.yearRange[1]=parseInt(F.yearRange[1],10)||B}else F.yearRange=Math.abs(parseInt(F.yearRange,10))||T.yearRange,F.yearRange>100&&(F.yearRange=100);return F},toString:function(q){return q=q||this._o.format,p(this._d)?this._o.toString?this._o.toString(this._d,q):n?t(this._d).format(q):this._d.toDateString():""},getMoment:function(){return n?t(this._d):null},setMoment:function(q,F){n&&t.isMoment(q)&&this.setDate(q.toDate(),F)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(q,F){if(!q)return this._d=null,this._o.field&&(this._o.field.value="",C(this._o.field,"change",{firedBy:this})),this.draw();if(typeof q=="string"&&(q=new Date(Date.parse(q))),!!p(q)){var te=this._o.minDate,B=this._o.maxDate;p(te)&&q<te?q=te:p(B)&&q>B&&(q=B),this._d=new Date(q.getTime()),_(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),C(this._o.field,"change",{firedBy:this})),!F&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(q){var F=!0;if(p(q)){if(this.calendars){var te=new Date(this.calendars[0].year,this.calendars[0].month,1),B=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),L=q.getTime();B.setMonth(B.getMonth()+1),B.setDate(B.getDate()-1),F=L<te.getTime()||B.getTime()<L}F&&(this.calendars=[{month:q.getMonth(),year:q.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(q,F){var te=this.getDate()||new Date,B=parseInt(F)*24*60*60*1e3,L;q==="add"?L=new Date(te.valueOf()+B):q==="subtract"&&(L=new Date(te.valueOf()-B)),this.setDate(L)},adjustCalendars:function(){this.calendars[0]=N(this.calendars[0]);for(var q=1;q<this._o.numberOfMonths;q++)this.calendars[q]=N({month:this.calendars[0].month+q,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(q){isNaN(q)||(this.calendars[0].month=parseInt(q,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(q){isNaN(q)||(this.calendars[0].year=parseInt(q,10),this.adjustCalendars())},setMinDate:function(q){q instanceof Date?(_(q),this._o.minDate=q,this._o.minYear=q.getFullYear(),this._o.minMonth=q.getMonth()):(this._o.minDate=T.minDate,this._o.minYear=T.minYear,this._o.minMonth=T.minMonth,this._o.startRange=T.startRange),this.draw()},setMaxDate:function(q){q instanceof Date?(_(q),this._o.maxDate=q,this._o.maxYear=q.getFullYear(),this._o.maxMonth=q.getMonth()):(this._o.maxDate=T.maxDate,this._o.maxYear=T.maxYear,this._o.maxMonth=T.maxMonth,this._o.endRange=T.endRange),this.draw()},setStartRange:function(q){this._o.startRange=q},setEndRange:function(q){this._o.endRange=q},draw:function(q){if(!(!this._v&&!q)){var F=this._o,te=F.minYear,B=F.maxYear,L=F.minMonth,Y=F.maxMonth,re="",X;this._y<=te&&(this._y=te,!isNaN(L)&&this._m<L&&(this._m=L)),this._y>=B&&(this._y=B,!isNaN(Y)&&this._m>Y&&(this._m=Y));for(var K=0;K<F.numberOfMonths;K++)X="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),re+='<div class="pika-lendar">'+ne(this,K,this.calendars[K].year,this.calendars[K].month,this.calendars[0].year,X)+this.render(this.calendars[K].year,this.calendars[K].month,X)+"</div>";this.el.innerHTML=re,F.bound&&F.field.type!=="hidden"&&o(function(){F.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),F.bound&&F.field.setAttribute("aria-label",F.ariaLabel)}},adjustPosition:function(){var q,F,te,B,L,Y,re,X,K,W,pe,be;if(!this._o.container){if(this.el.style.position="absolute",q=this._o.trigger,F=q,te=this.el.offsetWidth,B=this.el.offsetHeight,L=window.innerWidth||i.documentElement.clientWidth,Y=window.innerHeight||i.documentElement.clientHeight,re=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,pe=!0,be=!0,typeof q.getBoundingClientRect=="function")W=q.getBoundingClientRect(),X=W.left+window.pageXOffset,K=W.bottom+window.pageYOffset;else for(X=F.offsetLeft,K=F.offsetTop+F.offsetHeight;F=F.offsetParent;)X+=F.offsetLeft,K+=F.offsetTop;(this._o.reposition&&X+te>L||this._o.position.indexOf("right")>-1&&X-te+q.offsetWidth>0)&&(X=X-te+q.offsetWidth,pe=!1),(this._o.reposition&&K+B>Y+re||this._o.position.indexOf("top")>-1&&K-B-q.offsetHeight>0)&&(K=K-B-q.offsetHeight,be=!1),this.el.style.left=X+"px",this.el.style.top=K+"px",f(this.el,pe?"left-aligned":"right-aligned"),f(this.el,be?"bottom-aligned":"top-aligned"),h(this.el,pe?"right-aligned":"left-aligned"),h(this.el,be?"top-aligned":"bottom-aligned")}},render:function(q,F,te){var B=this._o,L=new Date,Y=v(q,F),re=new Date(q,F,1).getDay(),X=[],K=[];_(L),B.firstDay>0&&(re-=B.firstDay,re<0&&(re+=7));for(var W=F===0?11:F-1,pe=F===11?0:F+1,be=F===0?q-1:q,Ne=F===11?q+1:q,Ae=v(be,W),qe=Y+re,Me=qe;Me>7;)Me-=7;qe+=7-Me;for(var Ee=!1,Le=0,ve=0;Le<qe;Le++){var Xe=new Date(q,F,1+(Le-re)),nt=p(this._d)?k(Xe,this._d):!1,_e=k(Xe,L),Re=B.events.indexOf(Xe.toDateString())!==-1,je=Le<re||Le>=Y+re,Ye=1+(Le-re),yt=F,wt=q,Mt=B.startRange&&k(B.startRange,Xe),at=B.endRange&&k(B.endRange,Xe),bt=B.startRange&&B.endRange&&B.startRange<Xe&&Xe<B.endRange,Ht=B.minDate&&Xe<B.minDate||B.maxDate&&Xe>B.maxDate||B.disableWeekends&&g(Xe)||B.disableDayFn&&B.disableDayFn(Xe);je&&(Le<re?(Ye=Ae+Ye,yt=W,wt=be):(Ye=Ye-Y,yt=pe,wt=Ne));var Pt={day:Ye,month:yt,year:wt,hasEvent:Re,isSelected:nt,isToday:_e,isDisabled:Ht,isEmpty:je,isStartRange:Mt,isEndRange:at,isInRange:bt,showDaysInNextAndPreviousMonths:B.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:B.enableSelectionDaysInNextAndPreviousMonths};B.pickWholeWeek&&nt&&(Ee=!0),K.push(D(Pt)),++ve===7&&(B.showWeekNumber&&K.unshift(E(Le-re,F,q,B.firstWeekOfYearMinDays)),X.push(j(K,B.isRTL,B.pickWholeWeek,Ee)),K=[],ve=0,Ee=!1)}return G(B,X,te)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),h(this.el,"is-hidden"),this._o.bound&&(a(i,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var q=this._v;q!==!1&&(this._o.bound&&l(i,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),f(this.el,"is-hidden"),this._v=!1,q!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var q=this._o;this.hide(),l(this.el,"mousedown",this._onMouseDown,!0),l(this.el,"touchend",this._onMouseDown,!0),l(this.el,"change",this._onChange),q.keyboardInput&&l(i,"keydown",this._onKeyChange),q.field&&(l(q.field,"change",this._onInputChange),q.bound&&(l(q.trigger,"click",this._onInputClick),l(q.trigger,"focus",this._onInputFocus),l(q.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},ae})})(rw);var Gw=rw.exports;const Jw=vg(Gw),JI=Fk({__proto__:null,default:Jw},[Gw]);function X3(r,e,t){const n=r.slice();return n[6]=e[t],n}function Z3(r,e,t){const n=r.slice();return n[5]=e[t],n}function eb(r){let e,t,n;return{c(){e=x("label"),t=Be(r[1]),b(e,"for",""),b(e,"class",n=Ut("font-semibold text-sm",r[4]))},m(s,i){oe(s,e,i),m(e,t)},p(s,i){i&2&&rt(t,s[1]),i&16&&n!==(n=Ut("font-semibold text-sm",s[4]))&&b(e,"class",n)},d(s){s&&ie(e)}}}function tb(r){let e,t=r[5]+"",n,s;return{c(){e=x("option"),n=Be(t),e.__value=s=r[5],e.value=e.__value},m(i,o){oe(i,e,o),m(e,n)},p(i,o){o&128&&t!==(t=i[5]+"")&&rt(n,t),o&128&&s!==(s=i[5])&&(e.__value=s,e.value=e.__value)},d(i){i&&ie(e)}}}function rb(r){let e,t=r[6]+"",n,s;return{c(){e=x("option"),n=Be(t),e.__value=s=r[6],e.value=e.__value},m(i,o){oe(i,e,o),m(e,n)},p(i,o){o&256&&t!==(t=i[6]+"")&&rt(n,t),o&256&&s!==(s=i[6])&&(e.__value=s,e.value=e.__value)},d(i){i&&ie(e)}}}function KI(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p=r[3]&&eb(r),g=r[7],w=[];for(let k=0;k<g.length;k+=1)w[k]=tb(Z3(r,g,k));let v=r[8],_=[];for(let k=0;k<v.length;k+=1)_[k]=rb(X3(r,v,k));return{c(){e=x("div"),p&&p.c(),t=I(),n=x("div"),s=x("input"),i=I(),o=x("div"),a=x("select");for(let k=0;k<w.length;k+=1)w[k].c();l=I(),c=x("span"),c.textContent=":",u=I(),f=x("select");for(let k=0;k<_.length;k+=1)_[k].c();b(s,"type","text"),b(s,"class","form-field rounded-lg"),b(s,"placeholder",r[2]),b(a,"name",""),b(a,"id",""),b(a,"class","block w-12 text-center rounded-lg border-0 py-2.5 px-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 svelte-hf6zq2"),r[5]===void 0&&so(()=>r[15].call(a)),b(f,"name",""),b(f,"id",""),b(f,"class","block w-12 text-center rounded-lg border-0 py-2.5 px-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 svelte-hf6zq2"),r[6]===void 0&&so(()=>r[17].call(f)),b(o,"class","flex space-x-1 items-center"),b(n,"class","flex space-x-3"),b(e,"class","flex flex-col space-y-3 justify-center")},m(k,A){oe(k,e,A),p&&p.m(e,null),m(e,t),m(e,n),m(n,s),m(n,i),m(n,o),m(o,a);for(let C=0;C<w.length;C+=1)w[C]&&w[C].m(a,null);Wd(a,r[5],!0),m(o,l),m(o,c),m(o,u),m(o,f);for(let C=0;C<_.length;C+=1)_[C]&&_[C].m(f,null);Wd(f,r[6],!0),h||(d=[mn(r[10].call(null,s)),ht(a,"change",r[14]),ht(a,"change",r[15]),ht(f,"change",r[16]),ht(f,"change",r[17])],h=!0)},p(k,[A]){if(k[3]?p?p.p(k,A):(p=eb(k),p.c(),p.m(e,t)):p&&(p.d(1),p=null),A&4&&b(s,"placeholder",k[2]),A&128){g=k[7];let C;for(C=0;C<g.length;C+=1){const N=Z3(k,g,C);w[C]?w[C].p(N,A):(w[C]=tb(N),w[C].c(),w[C].m(a,null))}for(;C<w.length;C+=1)w[C].d(1);w.length=g.length}if(A&160&&Wd(a,k[5]),A&256){v=k[8];let C;for(C=0;C<v.length;C+=1){const N=X3(k,v,C);_[C]?_[C].p(N,A):(_[C]=rb(N),_[C].c(),_[C].m(f,null))}for(;C<_.length;C+=1)_[C].d(1);_.length=v.length}A&320&&Wd(f,k[6])},i:Bt,o:Bt,d(k){k&&ie(e),p&&p.d(),gr(w,k),gr(_,k),h=!1,Wr(d)}}}let XI="00";function ZI(r,e,t){let{datetime:n=""}=e,{value:s}=e,{label:i=""}=e,{placeholder:o=""}=e,{showLabel:a=!0}=e,{labelStyling:l=""}=e,{className:c=""}=e,u,f="00",h="00",d=[],p=[];const g=Ks();br(()=>{t(7,d=w(23)),t(8,p=w(59))});const w=N=>{let T=[];for(let O=0;O<=N;O++){let D=O.toString();D.length<2&&(D="0"+D),T.push(D)}return T};function v(N){setTimeout(()=>{s&&(t(5,f=Nt(s).hour().toString().padStart(2,"0")),t(6,h=Nt(s).minute().toString().padStart(2,"0")));let T=new Jw({field:N,format:"D MMM YYYY",onSelect(){t(13,u=Nt(this.getDate()).format("YYYY-MM-DD"))}});s&&T.setDate(s)},400)}const _=()=>g("selected",{datetime:n});function k(){f=A4(this),t(5,f),t(7,d)}const A=()=>g("selected",{datetime:n});function C(){h=A4(this),t(6,h),t(8,p)}return r.$$set=N=>{"datetime"in N&&t(0,n=N.datetime),"value"in N&&t(11,s=N.value),"label"in N&&t(1,i=N.label),"placeholder"in N&&t(2,o=N.placeholder),"showLabel"in N&&t(3,a=N.showLabel),"labelStyling"in N&&t(4,l=N.labelStyling),"className"in N&&t(12,c=N.className)},r.$$.update=()=>{r.$$.dirty&8289&&(t(0,n=`${u} ${f}:${h}:${XI}`),g("selected",{datetime:n}))},[n,i,o,a,l,f,h,d,p,g,v,s,c,u,_,k,A,C]}class Uf extends It{constructor(e){super(),Ot(this,e,ZI,KI,xt,{datetime:0,value:11,label:1,placeholder:2,showLabel:3,labelStyling:4,className:12})}get datetime(){return this.$$.ctx[0]}set datetime(e){this.$$set({datetime:e}),en()}get value(){return this.$$.ctx[11]}set value(e){this.$$set({value:e}),en()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),en()}get placeholder(){return this.$$.ctx[2]}set placeholder(e){this.$$set({placeholder:e}),en()}get showLabel(){return this.$$.ctx[3]}set showLabel(e){this.$$set({showLabel:e}),en()}get labelStyling(){return this.$$.ctx[4]}set labelStyling(e){this.$$set({labelStyling:e}),en()}get className(){return this.$$.ctx[12]}set className(e){this.$$set({className:e}),en()}}const eE=Object.freeze(Object.defineProperty({__proto__:null,default:Uf},Symbol.toStringTag,{value:"Module"}));function tE(r){let e,t;return e=new ft({props:{disabled:r[0],buttonText:"Create"}}),e.$on("click",r[10]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.disabled=n[0]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function rE(r){let e,t;return e=new ft({props:{disabled:r[0],buttonText:"Update"}}),e.$on("click",r[11]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.disabled=n[0]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function nb(r){let e,t;return e=new Uf({props:{value:r[4],placeholder:"Enter Start Date"}}),e.$on("selected",r[15]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&16&&(i.value=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function sb(r){let e,t;return e=new Uf({props:{value:r[5],placeholder:"Enter End Date"}}),e.$on("selected",r[16]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&32&&(i.value=n[5]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function nE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe=r[4],be,Ne=r[5],Ae,qe,Me,Ee,Le,ve,Xe,nt,_e;n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"fill-gray-800 h-4 w-4"}});const Re=[rE,tE],je=[];function Ye(at,bt){return at[8]?0:1}_=Ye(r),k=je[_]=Re[_](r),Q=new Gr({props:{value:r[1]}}),Q.$on("input",r[12]);let yt={value:r[7].value,options:r[9],placeholder:r[7].placeholder?r[7].placeholder:"Select Quiz Type",className:"text-sm py-2.5"};G=new fr({props:yt}),r[13](G),L=new Gr({props:{value:r[3],type:"number",pattern:"[0-9]+"}}),L.$on("input",r[14]);let wt=nb(r),Mt=sb(r);return{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Assessments",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),g=x("div"),g.innerHTML=`<div class="text-2xl font-semibold min-w-max text-gray-700">Quiz Details</div> 
                        <div class="text-gray-400 text-sm">Enter quiz details below</div>`,w=I(),v=x("div"),k.c(),A=I(),C=x("div"),N=x("div"),T=x("span"),T.textContent="Enter Quiz Title",O=I(),D=x("div"),de(Q.$$.fragment),E=I(),j=x("div"),J=x("div"),J.textContent="Enter Quiz Type",U=I(),ne=x("div"),de(G.$$.fragment),ae=I(),q=x("div"),F=x("div"),F.innerHTML=`<p>Quiz Duration</p> 
                            <small class="text-gray-400">Quiz Duration should be in minutes</small>`,te=I(),B=x("div"),de(L.$$.fragment),Y=I(),re=x("div"),X=x("div"),X.innerHTML=`<p>Enter Quiz Dates</p> 
                            <small class="text-gray-400">Choose quiz start date and end date</small>`,K=I(),W=x("div"),wt.c(),be=I(),Mt.c(),Ae=I(),qe=x("div"),Me=x("label"),Me.textContent="Enter Quiz Instructions",Ee=I(),Le=x("textarea"),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(v,"class","ml-72 pt-4 max-w-3xl"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(T,"class","flex-shrink-0 w-[18rem] text-gray-700"),b(D,"class","w-full"),b(N,"class","flex w-full items-center text-sm max-w-4xl"),b(J,"class","flex-shrink-0 w-[18rem] text-gray-700"),b(ne,"class","w-full"),b(j,"class","flex w-full items-center text-sm max-w-4xl"),b(F,"class","w-[18rem] flex-shrink-0 text-gray-700"),b(B,"class","w-40"),b(q,"class","flex w-full items-center text-sm max-w-3xl"),b(X,"class","w-[18rem] flex-shrink-0 text-gray-700"),b(W,"class","w-[17.5rem]"),b(re,"class","flex w-full items-center text-sm max-w-3xl"),b(Me,"class","w-[18rem] flex-shrink-0 text-gray-700"),b(Me,"for",""),b(Le,"class","border w-full rounded-lg resize-none p-4 border-gray-300"),b(Le,"cols","30"),b(Le,"rows","5"),Le.value=ve=r[6]??"",b(qe,"class","flex w-full items-center text-sm max-w-4xl pt-4"),b(C,"class","mt-12 space-y-6 w-full"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(at,bt){oe(at,e,bt),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(at,u,bt),oe(at,f,bt),m(f,h),m(h,d),m(d,p),m(p,g),m(p,w),m(p,v),je[_].m(v,null),m(d,A),m(d,C),m(C,N),m(N,T),m(N,O),m(N,D),ue(Q,D,null),m(C,E),m(C,j),m(j,J),m(j,U),m(j,ne),ue(G,ne,null),m(C,ae),m(C,q),m(q,F),m(q,te),m(q,B),ue(L,B,null),m(C,Y),m(C,re),m(re,X),m(re,K),m(re,W),wt.m(W,null),m(W,be),Mt.m(W,null),m(C,Ae),m(C,qe),m(qe,Me),m(qe,Ee),m(qe,Le),Xe=!0,nt||(_e=ht(Le,"input",r[17]),nt=!0)},p(at,bt){let Ht=_;_=Ye(at),_===Ht?je[_].p(at,bt):(ct(),z(je[Ht],1,1,()=>{je[Ht]=null}),ut(),k=je[_],k?k.p(at,bt):(k=je[_]=Re[_](at),k.c()),R(k,1),k.m(v,null));const Pt={};bt&2&&(Pt.value=at[1]),Q.$set(Pt);const Ft={};bt&128&&(Ft.value=at[7].value),bt&512&&(Ft.options=at[9]),bt&128&&(Ft.placeholder=at[7].placeholder?at[7].placeholder:"Select Quiz Type"),G.$set(Ft);const st={};bt&8&&(st.value=at[3]),L.$set(st),bt&16&&xt(pe,pe=at[4])?(ct(),z(wt,1,1,Bt),ut(),wt=nb(at),wt.c(),R(wt,1),wt.m(W,be)):wt.p(at,bt),bt&32&&xt(Ne,Ne=at[5])?(ct(),z(Mt,1,1,Bt),ut(),Mt=sb(at),Mt.c(),R(Mt,1),Mt.m(W,null)):Mt.p(at,bt),(!Xe||bt&64&&ve!==(ve=at[6]??""))&&(Le.value=ve)},i(at){Xe||(R(n.$$.fragment,at),R(a.$$.fragment,at),R(k),R(Q.$$.fragment,at),R(G.$$.fragment,at),R(L.$$.fragment,at),R(wt),R(Mt),Xe=!0)},o(at){z(n.$$.fragment,at),z(a.$$.fragment,at),z(k),z(Q.$$.fragment,at),z(G.$$.fragment,at),z(L.$$.fragment,at),z(wt),z(Mt),Xe=!1},d(at){at&&ie(e),fe(n),fe(a),at&&ie(u),at&&ie(f),je[_].d(),fe(Q),r[13](null),fe(G),fe(L),wt.d(at),Mt.d(at),nt=!1,_e()}}}function sE(r){let e,t;return e=new Vn({props:{$$slots:{default:[nE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&263167&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function iE(r,e,t){let n=!1,s,i,o,a,l,c,u={},f,h=[];br(()=>{let N=location.href.split("?")[1],T=new URLSearchParams(N);t(8,f=T.get("assessmentId")),f&&ze.get("/api/assessment/"+f,{onSuccess:O=>{let D=O.data.assessment;t(1,s=D.title),t(6,c=D.description),t(7,u.value=D.assessmentTypeId,u),t(7,u.placeholder=D.assessmentType,u),t(3,o=D.duration),t(6,c=D.description),t(4,a=D.startDate),t(5,l=D.endDate)}}),ze.get("/api/assessment-types",{onSuccess:O=>{t(9,h=O.data),t(9,h=h.flatMap(D=>[{placeholder:D.type,value:D.id}]))}})});const d=()=>{t(0,n=!0);let C={step:"create_assessment",title:s,assessmentTypeId:i.value,isStandalone:!0,duration:o,startDate:a,endDate:l,description:c};ze.post("/api/assessment/create",C,{onSuccess:N=>{ze.navigateTo("/questions/create/s/"+N.data.assessmentId)},onError:N=>{t(0,n=!1)}})},p=()=>{t(0,n=!0);let C={assessmentId:f,step:"create_assessment",title:s,assessmentTypeId:i.value,isStandalone:!0,duration:o,startDate:a,endDate:l,description:c};ze.post("/api/assessment/update",C,{onSuccess:N=>{ze.navigateTo("/assessments")},onError:N=>{t(0,n=!1)}})},g=C=>t(1,s=C.detail.input);function w(C){zr[C?"unshift":"push"](()=>{i=C,t(2,i)})}return[n,s,i,o,a,l,c,u,f,h,d,p,g,w,C=>t(1,s=C.detail.input),C=>t(4,a=C.detail.datetime),C=>t(5,l=C.detail.datetime),C=>t(6,c=C.target.value)]}class oE extends It{constructor(e){super(),Ot(this,e,iE,sE,xt,{})}}const aE=Object.freeze(Object.defineProperty({__proto__:null,default:oE},Symbol.toStringTag,{value:"Module"}));function ib(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function lE(r){let e;return{c(){e=x("div"),b(e,"class","flex flex-col")},m(t,n){oe(t,e,n)},p:Bt,d(t){t&&ie(e)}}}function ob(r,e){let t,n,s=e[8]+1+"",i,o,a,l=e[6].title+"",c,u,f,h=e[6].isStandalone+"",d,p,g,w=e[6].assessmentType+"",v,_,k,A=e[6].term+"",C,N,T,O=e[6].session+"",D,Q,E,j,J=e[6].status+"",U,ne,G,ae,q,F,te;return q=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[lE]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),d=Be(h),p=I(),g=x("td"),v=Be(w),_=I(),k=x("td"),C=Be(A),N=I(),T=x("td"),D=Be(O),Q=I(),E=x("td"),j=x("div"),U=Be(J),ne=I(),G=x("td"),ae=x("div"),de(q.$$.fragment),F=I(),b(n,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(f,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(g,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(k,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(T,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(j,"class",`px-4 py-2 text-center rounded ${e[6].status=="Published"?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`),b(E,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap "),b(ae,"class","flex space-x-3"),b(G,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(B,L){oe(B,t,L),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,d),m(t,p),m(t,g),m(g,v),m(t,_),m(t,k),m(k,C),m(t,N),m(t,T),m(T,D),m(t,Q),m(t,E),m(E,j),m(j,U),m(t,ne),m(t,G),m(G,ae),ue(q,ae,null),m(t,F),te=!0},p(B,L){e=B;const Y={};L&512&&(Y.$$scope={dirty:L,ctx:e}),q.$set(Y)},i(B){te||(R(q.$$.fragment,B),te=!0)},o(B){z(q.$$.fragment,B),te=!1},d(B){B&&ie(t),fe(q)}}}function cE(r){let e=[],t=new Map,n,s,i=r[1];const o=a=>a[6].assessmentId;for(let a=0;a<i.length;a+=1){let l=ib(r,i,a),c=o(l);t.set(c,e[a]=ob(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&2&&(i=a[1],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,ob,n,ib),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function uE(r){let e,t,n,s,i,o,a,l,c,u;return i=new Tt({props:{icon:"chart",className:"h-6 w-6"}}),c=new zi({props:{headings:r[0],$$slots:{default:[cE]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("span"),a.textContent="Results",l=I(),de(c.$$.fragment),b(a,"class","mx-2 text-lg font-medium text-gray-800"),b(s,"class","flex space-x-3 items-center"),b(n,"class","flex items-center justify-between"),b(t,"class","my-28"),b(e,"class","container")},m(f,h){oe(f,e,h),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(s,o),m(s,a),m(t,l),ue(c,t,null),u=!0},p(f,h){const d={};h&512&&(d.$$scope={dirty:h,ctx:f}),c.$set(d)},i(f){u||(R(i.$$.fragment,f),R(c.$$.fragment,f),u=!0)},o(f){z(i.$$.fragment,f),z(c.$$.fragment,f),u=!1},d(f){f&&ie(e),fe(i),fe(c)}}}function fE(r){let e,t;return e=new Vn({props:{$$slots:{default:[uE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&512&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function dE(r,e,t){let n;cn(r,kn,o=>t(2,n=o));let s=["S/N","Student Name","Grade","Actions"],i=[];return n.props.assessmentId,[s,i]}let hE=class extends It{constructor(e){super(),Ot(this,e,dE,fE,xt,{})}};const pE=Object.freeze(Object.defineProperty({__proto__:null,default:hE},Symbol.toStringTag,{value:"Module"}));function mE(r){let e,t,n,s,i=r[0].placeholder+"",o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe,be,Ne,Ae,qe,Me,Ee,Le,ve,Xe,nt;const _e=r[2].default,Re=Oo(_e,r,r[1],null);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h2"),o=Be(i),a=I(),l=x("p"),l.textContent="New Assessment",c=I(),u=x("div"),f=x("div"),h=x("ul"),d=x("a"),p=x("div"),g=x("div"),w=x("p"),w.textContent="1",_=I(),k=x("span"),k.textContent="Details",A=I(),C=x("div"),D=I(),Q=x("a"),E=x("div"),j=x("div"),J=x("p"),J.textContent="2",ne=I(),G=x("span"),G.textContent="Classes",ae=I(),q=x("div"),L=I(),Y=x("a"),re=x("div"),X=x("div"),K=x("p"),K.textContent="3",pe=I(),be=x("span"),be.textContent="Schedules",Ne=I(),Ae=x("div"),Le=I(),Re&&Re.c(),b(s,"class","text-gray-800 dark:text-gray-100 text-lg font-bold"),b(l,"class","font-normal text-sm text-gray-600 dark:text-gray-100 mt-1"),b(n,"class","mb-4 sm:mb-0 md:mb-0 lg:mb-0 xl:mb-0 lg:w-1/2"),b(w,"class","focus:outline-none text-xs text-white"),b(g,"class",v=`w-6 h-6 group-hover:bg-gray-800 rounded-full transition flex items-center justify-center ${r[0].step==1?"bg-gray-800":"bg-gray-300"}`),b(k,"class","ltr:ml-2 rtl:mr-2 group-hover:text-primary text-gray-600"),b(p,"class","flex items-center px-8 mb-2 space-x-2"),b(C,"class",N=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${r[0].step==1?"bg-gray-800":"bg-gray-300"}`),b(d,"href",T=r[0].stepOneUrl),b(d,"class",O=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer ${r[0].step==1?"border-gray-800":" border-gray-400"}`),b(J,"class","focus:outline-none text-xs text-white"),b(j,"class",U=`w-6 h-6 group-hover:bg-gray-800 rounded-full flex items-center transition justify-center ${r[0].step==2?"bg-gray-800":"bg-gray-300"}`),b(G,"class","ltr:ml-2 rtl:mr-2 group-hover:text-primary text-gray-600"),b(E,"class","flex items-center px-8 mb-2 space-x-2"),b(q,"class",F=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${r[0].step==2?"bg-gray-800":"bg-gray-300"}`),b(Q,"href",te=r[0].stepTwoUrl),b(Q,"class",B=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer border-gray-400 ${r[0].step==2?"border-gray-800":"border-gray-300"}`),b(K,"class","focus:outline-none text-xs text-white"),b(X,"class",W=`w-6 h-6 group-hover:bg-gray-800 transition rounded-full flex items-center justify-center ${r[0].step==3?"bg-gray-800":"bg-gray-300"}`),b(be,"class","ltr:ml-2 rtl:mr-2 group-hover:text-primary text-gray-600"),b(re,"class","flex items-center px-8 mb-2 space-x-2"),b(Ae,"class",qe=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${r[0].step==3?"bg-gray-800":"bg-gray-300"}`),b(Y,"href",Me=r[0].stepThreeUrl),b(Y,"class",Ee=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer ${r[0].step==3?"border-gray-800":" border-gray-400"}`),b(h,"class","flex justify-end gap-8"),b(f,"class","xl:w-full xl:mx-0 h-12 hidden sm:block bg-white"),b(u,"class","w-full"),b(t,"class","w-full bg-white dark:bg-gray-800 py-5 flex flex-col xl:flex-row items-start xl:items-center justify-between px-5 xl:px-10 shadow rounded-lg"),b(e,"class","container mx-auto pt-4 px-4 sm:px-6 lg:px-8 my-8")},m(je,Ye){oe(je,e,Ye),m(e,t),m(t,n),m(n,s),m(s,o),m(n,a),m(n,l),m(t,c),m(t,u),m(u,f),m(f,h),m(h,d),m(d,p),m(p,g),m(g,w),m(p,_),m(p,k),m(d,A),m(d,C),m(h,D),m(h,Q),m(Q,E),m(E,j),m(j,J),m(E,ne),m(E,G),m(Q,ae),m(Q,q),m(h,L),m(h,Y),m(Y,re),m(re,X),m(X,K),m(re,pe),m(re,be),m(Y,Ne),m(Y,Ae),oe(je,Le,Ye),Re&&Re.m(je,Ye),ve=!0,Xe||(nt=[mn(En.call(null,d)),mn(En.call(null,Q)),mn(En.call(null,Y))],Xe=!0)},p(je,[Ye]){(!ve||Ye&1)&&i!==(i=je[0].placeholder+"")&&rt(o,i),(!ve||Ye&1&&v!==(v=`w-6 h-6 group-hover:bg-gray-800 rounded-full transition flex items-center justify-center ${je[0].step==1?"bg-gray-800":"bg-gray-300"}`))&&b(g,"class",v),(!ve||Ye&1&&N!==(N=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${je[0].step==1?"bg-gray-800":"bg-gray-300"}`))&&b(C,"class",N),(!ve||Ye&1&&T!==(T=je[0].stepOneUrl))&&b(d,"href",T),(!ve||Ye&1&&O!==(O=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer ${je[0].step==1?"border-gray-800":" border-gray-400"}`))&&b(d,"class",O),(!ve||Ye&1&&U!==(U=`w-6 h-6 group-hover:bg-gray-800 rounded-full flex items-center transition justify-center ${je[0].step==2?"bg-gray-800":"bg-gray-300"}`))&&b(j,"class",U),(!ve||Ye&1&&F!==(F=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${je[0].step==2?"bg-gray-800":"bg-gray-300"}`))&&b(q,"class",F),(!ve||Ye&1&&te!==(te=je[0].stepTwoUrl))&&b(Q,"href",te),(!ve||Ye&1&&B!==(B=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer border-gray-400 ${je[0].step==2?"border-gray-800":"border-gray-300"}`))&&b(Q,"class",B),(!ve||Ye&1&&W!==(W=`w-6 h-6 group-hover:bg-gray-800 transition rounded-full flex items-center justify-center ${je[0].step==3?"bg-gray-800":"bg-gray-300"}`))&&b(X,"class",W),(!ve||Ye&1&&qe!==(qe=`w-full h-1 group-hover:bg-gray-800 transition rounded-t-md ${je[0].step==3?"bg-gray-800":"bg-gray-300"}`))&&b(Ae,"class",qe),(!ve||Ye&1&&Me!==(Me=je[0].stepThreeUrl))&&b(Y,"href",Me),(!ve||Ye&1&&Ee!==(Ee=`group hover:border-gray-800 hover:shadow ease-linear transition-all duration-150 text-sm flex flex-col justify-between border pt-3 rounded-t font-normal cursor-pointer ${je[0].step==3?"border-gray-800":" border-gray-400"}`))&&b(Y,"class",Ee),Re&&Re.p&&(!ve||Ye&2)&&Eo(Re,_e,je,je[1],ve?Io(_e,je[1],Ye,null):Po(je[1]),null)},i(je){ve||(R(Re,je),ve=!0)},o(je){z(Re,je),ve=!1},d(je){je&&ie(e),je&&ie(Le),Re&&Re.d(je),Xe=!1,Wr(nt)}}}function gE(r,e,t){let{$$slots:n={},$$scope:s}=e,{step:i}=e;return r.$$set=o=>{"step"in o&&t(0,i=o.step),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class U1 extends It{constructor(e){super(),Ot(this,e,gE,mE,xt,{step:0})}}const bE=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"}));function vE(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Save & Continue",className:"px-8"}}),e.$on("click",r[15]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function yE(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Update & Continue",className:"px-8"}}),e.$on("click",r[16]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function wE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X;const K=[yE,vE],W=[];function pe(Me,Ee){return Me[9]?0:1}l=pe(r),c=W[l]=K[l](r);let be={value:r[10]};w=new Gr({props:be}),r[17](w);let Ne={value:r[12].value,placeholder:r[12].placeholder?r[12].placeholder:"Select an Assessment Type",className:"text-sm py-2.5",isSelected:!!r[12].value,options:r[0]};N=new fr({props:Ne}),r[18](N);let Ae={value:r[13].value,placeholder:r[13].placeholder?r[13].placeholder:"Select Academic Session",className:"text-sm py-2.5",isSelected:!!r[13].value,options:r[1]};j=new fr({props:Ae}),r[19](j);let qe={value:r[14].value,placeholder:r[14].placeholder?r[14].placeholder:"Select Term",className:"text-sm py-2.5",isSelected:!!r[14].value,options:r[2]};return q=new fr({props:qe}),r[20](q),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),i=x("div"),i.innerHTML=`<div class="text-xl font-medium min-w-max text-gray-700">Assessment Details</div> 
                    <div class="text-gray-500 text-sm">Fill in the assessment details below</div>`,o=I(),a=x("div"),c.c(),u=I(),f=x("div"),h=x("div"),d=x("span"),d.textContent="Enter Assessment Title",p=I(),g=x("div"),de(w.$$.fragment),v=I(),_=x("div"),k=x("div"),k.textContent="Select Assessment Type",A=I(),C=x("div"),de(N.$$.fragment),T=I(),O=x("div"),D=x("div"),D.textContent="Select Academic Session",Q=I(),E=x("div"),de(j.$$.fragment),J=I(),U=x("div"),ne=x("div"),ne.textContent="Select Term",G=I(),ae=x("div"),de(q.$$.fragment),F=I(),te=x("div"),B=x("label"),B.textContent="Enter Assessment Description",L=I(),Y=x("textarea"),b(i,"class","space-y-2"),b(a,"class",""),b(s,"class","flex items-center justify-between my-2 border-b border-gray-50 pb-8"),b(d,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),b(g,"class","w-full"),b(h,"class","flex w-full items-center text-sm max-w-4xl"),b(k,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),b(C,"class","w-full"),b(_,"class","flex w-full items-center text-sm max-w-4xl"),b(D,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),b(E,"class","w-full"),b(O,"class","flex w-full items-center text-sm max-w-4xl"),b(ne,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),b(ae,"class","w-full"),b(U,"class","flex w-full items-center text-sm max-w-4xl"),b(B,"class","w-[18rem] flex-shrink-0 text-gray-800 font-semibold"),b(B,"for",""),b(Y,"class","border-0 w-full focus:outline-none ring-1 ring-gray-300 focus:ring-gray-500 rounded-lg resize-none p-4 border-gray-300 text-gray-800 text-sm text-left"),b(Y,"cols","30"),b(Y,"rows","5"),Y.value=re=r[11]??"",b(te,"class","flex w-full items-center text-sm max-w-4xl pt-4"),b(f,"class","my-12 space-y-6 w-full"),b(n,"class","mx-auto max-w-4xl"),b(t,"class","shadow bg-white px-8 py-12 rounded-lg w-full"),b(e,"class","container my-12 space-x-10")},m(Me,Ee){oe(Me,e,Ee),m(e,t),m(t,n),m(n,s),m(s,i),m(s,o),m(s,a),W[l].m(a,null),m(n,u),m(n,f),m(f,h),m(h,d),m(h,p),m(h,g),ue(w,g,null),m(f,v),m(f,_),m(_,k),m(_,A),m(_,C),ue(N,C,null),m(f,T),m(f,O),m(O,D),m(O,Q),m(O,E),ue(j,E,null),m(f,J),m(f,U),m(U,ne),m(U,G),m(U,ae),ue(q,ae,null),m(f,F),m(f,te),m(te,B),m(te,L),m(te,Y),r[21](Y),X=!0},p(Me,[Ee]){let Le=l;l=pe(Me),l===Le?W[l].p(Me,Ee):(ct(),z(W[Le],1,1,()=>{W[Le]=null}),ut(),c=W[l],c?c.p(Me,Ee):(c=W[l]=K[l](Me),c.c()),R(c,1),c.m(a,null));const ve={};Ee&1024&&(ve.value=Me[10]),w.$set(ve);const Xe={};Ee&4096&&(Xe.value=Me[12].value),Ee&4096&&(Xe.placeholder=Me[12].placeholder?Me[12].placeholder:"Select an Assessment Type"),Ee&4096&&(Xe.isSelected=!!Me[12].value),Ee&1&&(Xe.options=Me[0]),N.$set(Xe);const nt={};Ee&8192&&(nt.value=Me[13].value),Ee&8192&&(nt.placeholder=Me[13].placeholder?Me[13].placeholder:"Select Academic Session"),Ee&8192&&(nt.isSelected=!!Me[13].value),Ee&2&&(nt.options=Me[1]),j.$set(nt);const _e={};Ee&16384&&(_e.value=Me[14].value),Ee&16384&&(_e.placeholder=Me[14].placeholder?Me[14].placeholder:"Select Term"),Ee&16384&&(_e.isSelected=!!Me[14].value),Ee&4&&(_e.options=Me[2]),q.$set(_e),(!X||Ee&2048&&re!==(re=Me[11]??""))&&(Y.value=re)},i(Me){X||(R(c),R(w.$$.fragment,Me),R(N.$$.fragment,Me),R(j.$$.fragment,Me),R(q.$$.fragment,Me),X=!0)},o(Me){z(c),z(w.$$.fragment,Me),z(N.$$.fragment,Me),z(j.$$.fragment,Me),z(q.$$.fragment,Me),X=!1},d(Me){Me&&ie(e),W[l].d(),r[17](null),fe(w),r[18](null),fe(N),r[19](null),fe(j),r[20](null),fe(q),r[21](null)}}}function _E(r,e,t){let n=[],s=[],i=[],o,a=!1,l,c,u,f,h,d,p,g,w={},v={},_={};br(()=>{let E=location.href.split("?")[1],j=new URLSearchParams(E);t(9,d=j.get("assessmentId")),d&&ze.get("/api/assessment/"+d,{onSuccess:J=>{o=J.data.assessment,t(10,p=o.title),t(11,g=o.description),t(14,_.value=o.termId,_),t(14,_.placeholder=o.term,_),t(12,w.value=o.assessmentTypeId,w),t(12,w.placeholder=o.assessmentType,w),t(13,v.value=o.academicSessionId,v),t(13,v.placeholder=o.academicSession,v)}}),ze.get("/api/assessment-types",{onSuccess:J=>{t(0,n=J.data.flatMap(U=>[{placeholder:U.type,value:U.id}]))}}),ze.get("/api/sessions",{onSuccess:J=>{t(1,s=J.data.flatMap(U=>[{placeholder:U.session,value:U.id}]))}}),ze.get("/api/terms",{onSuccess:J=>{t(2,i=J.data.flatMap(U=>[{placeholder:U.term,value:U.id}]))}})});const k=()=>{t(3,a=!0);let Q={assessmentTypeId:l.value,title:f.value,description:h.value,step:"create_assessment",isStandalone:!1,schoolTermId:u.value,academicSessionId:c.value};ze.post("/api/assessment/create",Q,{onSuccess:E=>{ze.navigateTo("/assessments/termly/classes/"+E.data.assessmentId)},onError:E=>{t(3,a=!1)}})},A=()=>{t(3,a=!0);let Q={assessmentId:d,assessmentTypeId:l.value,title:f.value,description:h.value,step:"create_assessment",isStandalone:o.isStandalone,schoolTermId:u.value,academicSessionId:c.value};ze.post("/api/assessment/update",Q,{onSuccess:E=>{ze.navigateTo("/assessments/termly/classes/"+E.data.assessmentId)},onError:E=>{t(3,a=!1)}})};function C(Q){zr[Q?"unshift":"push"](()=>{f=Q,t(7,f)})}function N(Q){zr[Q?"unshift":"push"](()=>{l=Q,t(4,l)})}function T(Q){zr[Q?"unshift":"push"](()=>{c=Q,t(5,c)})}function O(Q){zr[Q?"unshift":"push"](()=>{u=Q,t(6,u)})}function D(Q){zr[Q?"unshift":"push"](()=>{h=Q,t(8,h)})}return[n,s,i,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D]}class Kw extends It{constructor(e){super(),Ot(this,e,_E,wE,xt,{})}}const xE=Object.freeze(Object.defineProperty({__proto__:null,default:Kw},Symbol.toStringTag,{value:"Module"}));function kE(r){let e,t;return e=new Kw({}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function SE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d;return n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",fill:"#242121EB",className:"h-4 w-4"}}),h=new U1({props:{step:r[0],$$slots:{default:[kE]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Assessments",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),de(h.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(f,"class","w-full mx-auto h-full")},m(p,g){oe(p,e,g),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(p,u,g),oe(p,f,g),ue(h,f,null),d=!0},p(p,g){const w={};g&2&&(w.$$scope={dirty:g,ctx:p}),h.$set(w)},i(p){d||(R(n.$$.fragment,p),R(a.$$.fragment,p),R(h.$$.fragment,p),d=!0)},o(p){z(n.$$.fragment,p),z(a.$$.fragment,p),z(h.$$.fragment,p),d=!1},d(p){p&&ie(e),fe(n),fe(a),p&&ie(u),p&&ie(f),fe(h)}}}function AE(r){let e,t;return e=new Vn({props:{$$slots:{default:[SE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&2&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function TE(r){return[{step:1,placeholder:"Assessment Details"}]}class NE extends It{constructor(e){super(),Ot(this,e,TE,AE,xt,{})}}const ME=Object.freeze(Object.defineProperty({__proto__:null,default:NE},Symbol.toStringTag,{value:"Module"}));function ab(r,e,t){const n=r.slice();return n[11]=e[t],n}function lb(r){let e,t,n,s,i,o,a,l,c=r[11].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[3](r[11].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[9](r[11])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[3](r[11].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[3](r[11].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[3](r[11].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k&9&&(A.className=`${r[3](r[11].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k&9&&s!==(s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[3](r[11].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k&1)&&c!==(c=r[11].class_name+"")&&rt(u,c),(!p||k&9&&f!==(f=`${r[3](r[11].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k&9&&h!==(h=`flex p-3 border-2 ${r[3](r[11].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function CE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C;l=new ft({props:{disabled:r[2],buttonText:r[4]?"Update & Continue":"Save & Continue",className:"px-6 min-w-max"}}),l.$on("click",r[6]),w=new Tt({props:{icon:"check",className:`${r[1]?"stroke-green-700":"stroke-gray-300"}`}});let N=r[0],T=[];for(let D=0;D<N.length;D+=1)T[D]=lb(ab(r,N,D));const O=D=>z(T[D],1,1,()=>{T[D]=null});return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),i=x("div"),i.innerHTML=`<div class="text-xl font-medium min-w-max text-gray-700">Assessment Classes</div> 
                    <div class="text-gray-400 text-sm">Select the classes to be assessed below</div>`,o=I(),a=x("div"),de(l.$$.fragment),c=I(),u=x("div"),f=x("div"),h=x("span"),h.textContent="Select classes to be assessed",d=I(),p=x("div"),g=x("button"),de(w.$$.fragment),_=I();for(let D=0;D<T.length;D+=1)T[D].c();b(a,"class","ml-72 pt-4 max-w-3xl"),b(s,"class","flex items-center justify-between my-2 border-b border-gray-50 pb-8"),b(h,"class","flex-shrink-0 w-[18rem] text-gray-700"),b(g,"class",v=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[1]?"border-green-700":"border-gray-300"} rounded-lg`),b(p,"class","w-full space-y-3"),b(f,"class","flex w-full text-sm max-w-4xl"),b(u,"class","my-12 space-y-3 w-full"),b(n,"class","mx-auto max-w-4xl"),b(t,"class","shadow bg-white px-8 py-12 rounded-lg w-full"),b(e,"class","container my-12 space-x-10")},m(D,Q){oe(D,e,Q),m(e,t),m(t,n),m(n,s),m(s,i),m(s,o),m(s,a),ue(l,a,null),m(n,c),m(n,u),m(u,f),m(f,h),m(f,d),m(f,p),m(p,g),ue(w,g,null),m(p,_);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(p,null);k=!0,A||(C=ht(g,"click",r[7]),A=!0)},p(D,[Q]){const E={};Q&4&&(E.disabled=D[2]),l.$set(E);const j={};if(Q&2&&(j.className=`${D[1]?"stroke-green-700":"stroke-gray-300"}`),w.$set(j),(!k||Q&2&&v!==(v=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${D[1]?"border-green-700":"border-gray-300"} rounded-lg`))&&b(g,"class",v),Q&41){N=D[0];let J;for(J=0;J<N.length;J+=1){const U=ab(D,N,J);T[J]?(T[J].p(U,Q),R(T[J],1)):(T[J]=lb(U),T[J].c(),R(T[J],1),T[J].m(p,null))}for(ct(),J=N.length;J<T.length;J+=1)O(J);ut()}},i(D){if(!k){R(l.$$.fragment,D),R(w.$$.fragment,D);for(let Q=0;Q<N.length;Q+=1)R(T[Q]);k=!0}},o(D){z(l.$$.fragment,D),z(w.$$.fragment,D),T=T.filter(Boolean);for(let Q=0;Q<T.length;Q+=1)z(T[Q]);k=!1},d(D){D&&ie(e),fe(l),fe(w),gr(T,D),A=!1,C()}}}function LE(r,e,t){let n,s;cn(r,kn,p=>t(10,s=p));let i=[],o=[],a=s.props.assessmentId,l=!1,c=!1;br(()=>{ze.getWithToken("/api/classes",{onSuccess:p=>{t(0,i=p.data)}}),ze.getWithToken("/api/assessment-classes/"+a,{onSuccess:p=>{t(8,o=p.data)}})});const u=p=>{if(n(p.class_code)){t(8,o=o.filter(g=>g.class_code!=p.class_code));return}o.push(p),t(8,o)},f=()=>{t(2,c=!0),ze.postWithToken("/api/assessment/assign-classes",{assessmentId:a,classes:o,step:"add_classes"},{onSuccess:p=>{ze.navigateTo("/assessments/termly/schedule/"+a)},onError:p=>{t(2,c=!1)}})},h=()=>{l?(t(1,l=!1),t(8,o=[])):(t(1,l=!0),t(8,o=i))},d=p=>u(p);return r.$$.update=()=>{r.$$.dirty&256&&t(3,n=p=>o.some(g=>g.class_code==p))},[i,l,c,n,a,u,f,h,o,d]}class Xw extends It{constructor(e){super(),Ot(this,e,LE,CE,xt,{})}}const $E=Object.freeze(Object.defineProperty({__proto__:null,default:Xw},Symbol.toStringTag,{value:"Module"}));function OE(r){let e,t;return e=new Xw({}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d;return n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",fill:"#242121EB",className:"h-4 w-4"}}),h=new U1({props:{step:r[0],$$slots:{default:[OE]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Assessments",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),de(h.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(f,"class","w-full mx-auto h-full")},m(p,g){oe(p,e,g),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(p,u,g),oe(p,f,g),ue(h,f,null),d=!0},p(p,g){const w={};g&1&&(w.step=p[0]),g&8&&(w.$$scope={dirty:g,ctx:p}),h.$set(w)},i(p){d||(R(n.$$.fragment,p),R(a.$$.fragment,p),R(h.$$.fragment,p),d=!0)},o(p){z(n.$$.fragment,p),z(a.$$.fragment,p),z(h.$$.fragment,p),d=!1},d(p){p&&ie(e),fe(n),fe(a),p&&ie(u),p&&ie(f),fe(h)}}}function EE(r){let e,t;return e=new Vn({props:{$$slots:{default:[IE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&9&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function PE(r,e,t){let n;cn(r,kn,o=>t(1,n=o));let s=n.props.assessmentId,i={step:2,stepOneUrl:"/assessments/termly?assessmentId="+s,placeholder:"Class Details"};return br(()=>{s&&n.props.edit&&t(0,i.stepThreeUrl="/assessments/termly/schedule/"+s,i)}),[i]}class DE extends It{constructor(e){super(),Ot(this,e,PE,EE,xt,{})}}const RE=Object.freeze(Object.defineProperty({__proto__:null,default:DE},Symbol.toStringTag,{value:"Module"}));function cb(r,e,t){const n=r.slice();return n[24]=e[t],n[26]=t,n}function ub(r,e,t){const n=r.slice();return n[24]=e[t],n[26]=t,n}function FE(r){let e,t,n=r[3],s=[];for(let o=0;o<n.length;o+=1)s[o]=fb(ub(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a&648){n=o[3];let l;for(l=0;l<n.length;l+=1){const c=ub(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=fb(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function jE(r){let e;return{c(){e=x("p"),e.textContent="No Subject Available",b(e,"class","text-gray-500 italic")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function fb(r){let e,t,n,s,i,o,a,l,c=r[24].subjectName+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[7](r[24].subjectId)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[16](r[24])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[7](r[24].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`text-sm ${r[7](r[24].subjectId)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[7](r[24].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k&136&&(A.className=`${r[7](r[24].subjectId)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k&136&&s!==(s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[7](r[24].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k&8)&&c!==(c=r[24].subjectName+"")&&rt(u,c),(!p||k&136&&f!==(f=`text-sm ${r[7](r[24].subjectId)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k&136&&h!==(h=`flex p-3 border-2 ${r[7](r[24].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function db(r){let e,t,n=r[24].subjectName+"",s,i,o,a,l,c,u,f,h,d,p,g,w;function v(...A){return r[17](r[26],...A)}l=new Gr({props:{value:r[0][r[26]].duration??"",type:"number",pattern:"[0-9]+",label:"Duration",labelStyle:"text-sm text-gray-500"}}),l.$on("input",v);function _(...A){return r[18](r[26],...A)}f=new Uf({props:{value:r[0][r[26]].startDate??"",placeholder:"Enter Start Date",showLabel:!0,label:"Start Date",labelStyling:"text-sm font-normal text-gray-500 pt-[7px]"}}),f.$on("selected",_);function k(...A){return r[19](r[26],...A)}return p=new Uf({props:{value:r[0][r[26]].endDate??"",placeholder:"Enter End Date",showLabel:!0,label:"End Date",labelStyling:"text-sm font-normal text-gray-500 pt-[7px]"}}),p.$on("selected",k),{c(){e=x("div"),t=x("h4"),s=Be(n),i=I(),o=x("div"),a=x("div"),de(l.$$.fragment),c=I(),u=x("div"),de(f.$$.fragment),h=I(),d=x("div"),de(p.$$.fragment),g=I(),b(t,"class","text-gray-800 text-sm pb-4 font-semibold"),b(a,"class","w-24"),b(u,"class","w-[16.25rem]"),b(d,"class","w-[16.25rem]"),b(o,"class","flex items-center space-x-8")},m(A,C){oe(A,e,C),m(e,t),m(t,s),m(e,i),m(e,o),m(o,a),ue(l,a,null),m(o,c),m(o,u),ue(f,u,null),m(o,h),m(o,d),ue(p,d,null),m(e,g),w=!0},p(A,C){r=A,(!w||C&64)&&n!==(n=r[24].subjectName+"")&&rt(s,n);const N={};C&1&&(N.value=r[0][r[26]].duration??""),l.$set(N);const T={};C&1&&(T.value=r[0][r[26]].startDate??""),f.$set(T);const O={};C&1&&(O.value=r[0][r[26]].endDate??""),p.$set(O)},i(A){w||(R(l.$$.fragment,A),R(f.$$.fragment,A),R(p.$$.fragment,A),w=!0)},o(A){z(l.$$.fragment,A),z(f.$$.fragment,A),z(p.$$.fragment,A),w=!1},d(A){A&&ie(e),fe(l),fe(f),fe(p)}}}function hb(r){let e,t,n=r[24].isVisible&&db(r);return{c(){n&&n.c(),e=cr()},m(s,i){n&&n.m(s,i),oe(s,e,i),t=!0},p(s,i){s[24].isVisible?n?(n.p(s,i),i&64&&R(n,1)):(n=db(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(ct(),z(n,1,1,()=>{n=null}),ut())},i(s){t||(R(n),t=!0)},o(s){z(n),t=!1},d(s){n&&n.d(s),s&&ie(e)}}}function BE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A;i=new fr({props:{value:r[1],isSelected:!!r[1],options:r[2],placeholder:r[1]?r[4]:"Select a Class",className:"text-sm py-2.5"}}),i.$on("deselected",r[14]),i.$on("selected",r[15]);const C=[jE,FE],N=[];function T(E,j){return E[3].length==0?0:1}h=T(r),d=N[h]=C[h](r),v=new ft({props:{disabled:r[5],buttonText:"Complete",className:"w-40"}}),v.$on("click",r[13]);let O=r[6](),D=[];for(let E=0;E<O.length;E+=1)D[E]=hb(cb(r,O,E));const Q=E=>z(D[E],1,1,()=>{D[E]=null});return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("div"),l=x("div"),c=x("h3"),c.textContent="Subjects",u=I(),f=x("div"),d.c(),p=I(),g=x("div"),w=x("div"),de(v.$$.fragment),_=I(),k=x("div");for(let E=0;E<D.length;E+=1)D[E].c();b(s,"class","flex items-center w-full px-6 text-sm text-gray-600"),b(c,"class","text-gray-800 font-bold pb-4"),b(f,"class","space-y-2"),b(l,"class","w-full mt-4"),b(a,"class","p-6 w-full"),b(n,"class","w-[24rem] shrink-0 h-full py-8 border-r"),b(w,"class","flex justify-end w-full px-8"),b(k,"class","question z-50 subjects px-8 w-full h-full space-y-6 mt-10"),b(g,"class","relative flex flex-col flex-1 w-full h-full border-l py-8 overflow-auto"),b(t,"class","flex bg-white h-full w-full rounded-lg shadow"),b(e,"class","w-full px-8 pb-20")},m(E,j){oe(E,e,j),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(n,o),m(n,a),m(a,l),m(l,c),m(l,u),m(l,f),N[h].m(f,null),m(t,p),m(t,g),m(g,w),ue(v,w,null),m(g,_),m(g,k);for(let J=0;J<D.length;J+=1)D[J]&&D[J].m(k,null);A=!0},p(E,[j]){const J={};j&2&&(J.value=E[1]),j&2&&(J.isSelected=!!E[1]),j&4&&(J.options=E[2]),j&18&&(J.placeholder=E[1]?E[4]:"Select a Class"),i.$set(J);let U=h;h=T(E),h===U?N[h].p(E,j):(ct(),z(N[U],1,1,()=>{N[U]=null}),ut(),d=N[h],d?d.p(E,j):(d=N[h]=C[h](E),d.c()),R(d,1),d.m(f,null));const ne={};if(j&32&&(ne.disabled=E[5]),v.$set(ne),j&7233){O=E[6]();let G;for(G=0;G<O.length;G+=1){const ae=cb(E,O,G);D[G]?(D[G].p(ae,j),R(D[G],1)):(D[G]=hb(ae),D[G].c(),R(D[G],1),D[G].m(k,null))}for(ct(),G=O.length;G<D.length;G+=1)Q(G);ut()}},i(E){if(!A){R(i.$$.fragment,E),R(d),R(v.$$.fragment,E);for(let j=0;j<O.length;j+=1)R(D[j]);A=!0}},o(E){z(i.$$.fragment,E),z(d),z(v.$$.fragment,E),D=D.filter(Boolean);for(let j=0;j<D.length;j+=1)z(D[j]);A=!1},d(E){E&&ie(e),fe(i),N[h].d(),fe(v),gr(D,E)}}}function zE(r,e,t){let n,s,i;cn(r,kn,D=>t(21,i=D));let o=[],a=[],l=[],c=i.props.assessmentId,u,f,h=!1;br(()=>{ze.getWithToken("/api/assessment-subjects/"+c,{onSuccess:D=>{t(0,l=D.data)}}),ze.getWithToken("/api/assessment-classes/"+c,{onSuccess:D=>{t(2,o=D.data.flatMap(Q=>[{placeholder:Q.class_name,value:Q.id}]))}})});const d=(D,Q)=>{t(1,u=D),t(4,f=Q),sessionStorage.setItem("classId",u),sessionStorage.setItem("className",f),ze.getWithToken("/api/class/subject/"+D,{onSuccess:E=>{t(3,a=E.data);let j=l.filter(J=>J.classId==u);a.forEach(J=>{j=j.filter(U=>U.subjectId!=J.subjectId)}),t(3,a=[...a,...j])},onError:E=>{console.log(E)}})},p=D=>{if(n(D.subjectId)){t(0,l=l.filter(Q=>!(Q.classId==u&&Q.subjectId==D.subjectId)));return}l.push(D),t(0,l)},g=(D,Q)=>{t(0,l[Q].duration=D,l),sessionStorage.setItem("selectedSubjects",JSON.stringify(l))},w=(D,Q)=>{t(0,l[Q].startDate=D,l),sessionStorage.setItem("selectedSubjects",JSON.stringify(l))},v=(D,Q)=>{t(0,l[Q].endDate=D,l),sessionStorage.setItem("selectedSubjects",JSON.stringify(l))},_=()=>{t(5,h=!0),ze.postWithToken("/api/assessment/termly/complete",{assessmentId:c,subjects:l,step:"complete_assessment"},{onSuccess:D=>{sessionStorage.removeItem("selectedSubjects"),ze.navigateTo("/assessments")},onError:D=>{t(5,h=!1)}})},k=()=>t(0,l=[]),A=D=>d(D.detail.value,D.detail.placeholder),C=D=>p(D),N=(D,Q)=>g(Q.detail.input,D),T=(D,Q)=>w(Q.detail.datetime,D),O=(D,Q)=>v(Q.detail.datetime,D);return r.$$.update=()=>{r.$$.dirty&3&&t(7,n=D=>l.some(Q=>Q.subjectId==D&&Q.classId==u)),r.$$.dirty&3&&t(6,s=()=>l.map(D=>(D.classId==u?D.isVisible=!0:D.isVisible=!1,D)))},[l,u,o,a,f,h,s,n,d,p,g,w,v,_,k,A,C,N,T,O]}class Zw extends It{constructor(e){super(),Ot(this,e,zE,BE,xt,{})}}const qE=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"}));function HE(r){let e,t;return e=new Zw({}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function VE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d;return n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",fill:"#242121EB",className:"h-4 w-4"}}),h=new U1({props:{step:r[0],$$slots:{default:[HE]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Assessments",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),de(h.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(f,"class","w-full mx-auto h-full")},m(p,g){oe(p,e,g),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(p,u,g),oe(p,f,g),ue(h,f,null),d=!0},p(p,g){const w={};g&8&&(w.$$scope={dirty:g,ctx:p}),h.$set(w)},i(p){d||(R(n.$$.fragment,p),R(a.$$.fragment,p),R(h.$$.fragment,p),d=!0)},o(p){z(n.$$.fragment,p),z(a.$$.fragment,p),z(h.$$.fragment,p),d=!1},d(p){p&&ie(e),fe(n),fe(a),p&&ie(u),p&&ie(f),fe(h)}}}function UE(r){let e,t;return e=new Vn({props:{$$slots:{default:[VE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&8&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function WE(r,e,t){let n;cn(r,kn,i=>t(1,n=i));let s={step:3,stepOneUrl:"/assessments/termly?assessmentId="+n.props.assessmentId,stepTwoUrl:"/assessments/termly/classes/"+n.props.assessmentId,placeholder:"Assessment Schedule"};return n.props.assessmentId,br(()=>{location.href.split("?")[1]}),[s]}class YE extends It{constructor(e){super(),Ot(this,e,WE,UE,xt,{})}}const QE=Object.freeze(Object.defineProperty({__proto__:null,default:YE},Symbol.toStringTag,{value:"Module"}));function pb(r,e,t){const n=r.slice();return n[3]=e[t],n}function mb(r){let e,t=r[3]+"",n;return{c(){e=x("th"),n=Be(t),b(e,"scope","col"),b(e,"class","px-4 py-3 text-left text-sm font-bold text-gray-500 uppercase")},m(s,i){oe(s,e,i),m(e,n)},p(s,i){i&1&&t!==(t=s[3]+"")&&rt(n,t)},d(s){s&&ie(e)}}}function GE(r){let e,t,n,s,i,o,a,l,c,u,f=r[0],h=[];for(let g=0;g<f.length;g+=1)h[g]=mb(pb(r,f,g));const d=r[2].default,p=Oo(d,r,r[1],null);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),i=x("table"),o=x("thead"),a=x("tr");for(let g=0;g<h.length;g+=1)h[g].c();l=I(),c=x("tbody"),p&&p.c(),b(a,"class",""),b(o,"class","bg-gray-100"),b(c,"class","divide-y divide-gray-200 dark:divide-gray-700"),b(i,"class","min-w-full divide-y divide-gray-200 dark:divide-gray-700"),b(s,"class",""),b(n,"class","p-1.5 min-w-full inline-block align-middle"),b(t,"class","-m-1.5"),b(e,"class","flex flex-col border rounded w-full")},m(g,w){oe(g,e,w),m(e,t),m(t,n),m(n,s),m(s,i),m(i,o),m(o,a);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(a,null);m(i,l),m(i,c),p&&p.m(c,null),u=!0},p(g,[w]){if(w&1){f=g[0];let v;for(v=0;v<f.length;v+=1){const _=pb(g,f,v);h[v]?h[v].p(_,w):(h[v]=mb(_),h[v].c(),h[v].m(a,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=f.length}p&&p.p&&(!u||w&2)&&Eo(p,d,g,g[1],u?Io(d,g[1],w,null):Po(g[1]),null)},i(g){u||(R(p,g),u=!0)},o(g){z(p,g),u=!1},d(g){g&&ie(e),gr(h,g),p&&p.d(g)}}}function JE(r,e,t){let{$$slots:n={},$$scope:s}=e,{headings:i=[]}=e;return r.$$set=o=>{"headings"in o&&t(0,i=o.headings),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}let W1=class extends It{constructor(e){super(),Ot(this,e,JE,GE,xt,{headings:0})}};const KE=Object.freeze(Object.defineProperty({__proto__:null,default:W1},Symbol.toStringTag,{value:"Module"}));function gb(r,e,t){const n=r.slice();return n[13]=e[t],n[15]=t,n}function bb(r,e,t){const n=r.slice();return n[16]=e[t],n}function vb(r){let e,t=r[15]+1+"",n,s,i,o=r[13].subject+"",a,l,c,u=r[13].totalQuestions+"",f,h,d,p,g,w,v=r[13].teacher+"",_,k,A,C,N,T,O,D,Q,E,j,J,U=r[13].classes,ne=[];for(let G=0;G<U.length;G+=1)ne[G]=yb(bb(r,U,G));return{c(){e=x("td"),n=Be(t),s=I(),i=x("td"),a=Be(o),l=I(),c=x("td"),f=Be(u),h=Be(" Questions"),d=I(),p=x("td");for(let G=0;G<ne.length;G+=1)ne[G].c();g=I(),w=x("td"),_=Be(v),k=I(),A=x("td"),C=x("a"),N=Be("View Questions"),O=I(),D=x("a"),Q=Be("Edit"),b(e,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(i,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(c,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(w,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),b(C,"href",T=`/assessment/questions/t/${r[13].questionBankId}`),b(C,"class","text-white bg-gray-800 rounded-lg text-sm p-2.5"),b(D,"href",E=`/assessments/termly/question_bank/edit/${r[13].questionBankId}`),b(D,"class","text-white bg-blue-500 rounded-lg text-sm p-2.5"),b(A,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap")},m(G,ae){oe(G,e,ae),m(e,n),oe(G,s,ae),oe(G,i,ae),m(i,a),oe(G,l,ae),oe(G,c,ae),m(c,f),m(c,h),oe(G,d,ae),oe(G,p,ae);for(let q=0;q<ne.length;q+=1)ne[q]&&ne[q].m(p,null);oe(G,g,ae),oe(G,w,ae),m(w,_),oe(G,k,ae),oe(G,A,ae),m(A,C),m(C,N),m(A,O),m(A,D),m(D,Q),j||(J=[mn(En.call(null,C)),mn(En.call(null,D))],j=!0)},p(G,ae){if(ae&4&&o!==(o=G[13].subject+"")&&rt(a,o),ae&4&&u!==(u=G[13].totalQuestions+"")&&rt(f,u),ae&4){U=G[13].classes;let q;for(q=0;q<U.length;q+=1){const F=bb(G,U,q);ne[q]?ne[q].p(F,ae):(ne[q]=yb(F),ne[q].c(),ne[q].m(p,null))}for(;q<ne.length;q+=1)ne[q].d(1);ne.length=U.length}ae&4&&v!==(v=G[13].teacher+"")&&rt(_,v),ae&4&&T!==(T=`/assessment/questions/t/${G[13].questionBankId}`)&&b(C,"href",T),ae&4&&E!==(E=`/assessments/termly/question_bank/edit/${G[13].questionBankId}`)&&b(D,"href",E)},d(G){G&&ie(e),G&&ie(s),G&&ie(i),G&&ie(l),G&&ie(c),G&&ie(d),G&&ie(p),gr(ne,G),G&&ie(g),G&&ie(w),G&&ie(k),G&&ie(A),j=!1,Wr(J)}}}function yb(r){let e,t=r[16]+"",n;return{c(){e=x("p"),n=Be(t)},m(s,i){oe(s,e,i),m(e,n)},p(s,i){i&4&&t!==(t=s[16]+"")&&rt(n,t)},d(s){s&&ie(e)}}}function wb(r){let e,t,n=r[13].isVisible&&vb(r);return{c(){e=x("tr"),n&&n.c(),t=I()},m(s,i){oe(s,e,i),n&&n.m(e,null),m(e,t)},p(s,i){s[13].isVisible?n?n.p(s,i):(n=vb(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null)},d(s){s&&ie(e),n&&n.d()}}}function XE(r){let e,t=r[2](),n=[];for(let s=0;s<t.length;s+=1)n[s]=wb(gb(r,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=cr()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);oe(s,e,i)},p(s,i){if(i&4){t=s[2]();let o;for(o=0;o<t.length;o+=1){const a=gb(s,t,o);n[o]?n[o].p(a,i):(n[o]=wb(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){gr(n,s),s&&ie(e)}}}function ZE(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w;return i=new Tt({props:{icon:"chart",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"Create New Question Bank",className:"max-w-min min-w-max text-sm"}}),c.$on("click",r[7]),d=new fr({props:{options:r[1],placeholder:"Select Subject",className:"text-sm"}}),d.$on("selected",r[8]),d.$on("deselected",r[9]),g=new W1({props:{headings:r[5],$$slots:{default:[XE]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("span"),a.textContent=`${r[4]}`,l=I(),de(c.$$.fragment),u=I(),f=x("div"),h=x("div"),de(d.$$.fragment),p=I(),de(g.$$.fragment),b(a,"class","mx-2 text-lg font-medium text-gray-800"),b(s,"class","flex space-x-3 items-center"),b(n,"class","flex items-center justify-between"),b(h,"class","w-60 mb-6"),b(f,"class","flex flex-col justify-start min-h-[24rem] w-full bg-white rounded-lg mt-10 border border-gray-300 overflow-hidden p-6"),b(t,"class","my-28"),b(e,"class","container")},m(v,_){oe(v,e,_),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(s,o),m(s,a),m(n,l),ue(c,n,null),m(t,u),m(t,f),m(f,h),ue(d,h,null),m(f,p),ue(g,f,null),w=!0},p(v,_){const k={};_&2&&(k.options=v[1]),d.$set(k);const A={};_&524292&&(A.$$scope={dirty:_,ctx:v}),g.$set(A)},i(v){w||(R(i.$$.fragment,v),R(c.$$.fragment,v),R(d.$$.fragment,v),R(g.$$.fragment,v),w=!0)},o(v){z(i.$$.fragment,v),z(c.$$.fragment,v),z(d.$$.fragment,v),z(g.$$.fragment,v),w=!1},d(v){v&&ie(e),fe(i),fe(c),fe(d),fe(g)}}}function eP(r){let e,t;return e=new Vn({props:{$$slots:{default:[ZE]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&524295&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function tP(r,e,t){let n,s;cn(r,kn,g=>t(10,s=g));let i=s.props.assessmentId,o=s.props.assessmentTitle,a,l=[],c=[],u=["S|N","SUBJECT","TOTAL QUESTIONS","CLASSES","TEACHER","ACTIONS"];br(()=>{ze.getWithToken("/api/assessment/question-banks/"+i,{onSuccess:g=>{t(6,l=g.data)}}),f()});const f=()=>{ze.getWithToken("/api/question-bank-subjects/"+i,{onSuccess:g=>{t(1,c=g.data.flatMap(w=>[{placeholder:w.subjectName,value:w.subjectCode}]))}})},h=()=>ze.navigateTo(`/assessments/termly/question_bank/create/${i}`),d=g=>t(0,a=g.detail.value),p=g=>t(0,a=null);return r.$$.update=()=>{r.$$.dirty&65&&t(2,n=()=>l.map(g=>a?(a===g.subjectCode?g.isVisible=!0:g.isVisible=!1,g):(g.isVisible=!0,g)))},[a,c,n,i,o,u,l,h,d,p]}class rP extends It{constructor(e){super(),Ot(this,e,tP,eP,xt,{})}}const nP=Object.freeze(Object.defineProperty({__proto__:null,default:rP},Symbol.toStringTag,{value:"Module"}));function _b(r,e,t){const n=r.slice();return n[17]=e[t],n}function xb(r){let e,t,n,s,i,o;return t=new Tt({props:{icon:"check",className:`${r[2]?"stroke-green-700":"stroke-gray-300"}`}}),{c(){e=x("button"),de(t.$$.fragment),b(e,"class",n=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[2]?"border-green-700":"border-gray-300"} rounded-lg`)},m(a,l){oe(a,e,l),ue(t,e,null),s=!0,i||(o=ht(e,"click",r[8]),i=!0)},p(a,l){const c={};l&4&&(c.className=`${a[2]?"stroke-green-700":"stroke-gray-300"}`),t.$set(c),(!s||l&4&&n!==(n=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${a[2]?"border-green-700":"border-gray-300"} rounded-lg`))&&b(e,"class",n)},i(a){s||(R(t.$$.fragment,a),s=!0)},o(a){z(t.$$.fragment,a),s=!1},d(a){a&&ie(e),fe(t),i=!1,o()}}}function kb(r){let e,t,n,s,i,o,a,l,c=r[17].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[4](r[17].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[12](r[17])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[4](r[17].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[4](r[17].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[4](r[17].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k&18&&(A.className=`${r[4](r[17].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k&18&&s!==(s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[4](r[17].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k&2)&&c!==(c=r[17].class_name+"")&&rt(u,c),(!p||k&18&&f!==(f=`${r[4](r[17].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k&18&&h!==(h=`flex p-3 border-2 ${r[4](r[17].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function sP(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae;n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),C=new fr({props:{options:r[0],placeholder:"Select Subject",className:"text-sm py-2.5"}}),C.$on("selected",r[11]);let q=r[1].length>0&&xb(r),F=r[1],te=[];for(let L=0;L<F.length;L+=1)te[L]=kb(_b(r,F,L));const B=L=>z(te[L],1,1,()=>{te[L]=null});return G=new ft({props:{disabled:r[3],buttonText:"Continue"}}),G.$on("click",r[9]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Question Bank",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent=`${r[5]}`,u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),p.innerHTML=`<div><div class="text-lg font-semibold min-w-max text-gray-700">Create Question Bank</div> 
                        <div class="text-gray-400 text-sm">Please select relevant details below</div></div>`,g=I(),w=x("div"),v=x("div"),_=x("div"),_.textContent="Select Subject",k=I(),A=x("div"),de(C.$$.fragment),N=I(),T=x("div"),O=x("div"),D=x("span"),D.textContent="Select Classes",Q=I(),E=x("div"),q&&q.c(),j=I();for(let L=0;L<te.length;L+=1)te[L].c();J=I(),U=x("div"),ne=x("div"),de(G.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(_,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),b(A,"class","w-full"),b(v,"class","flex w-full items-center text-sm max-w-4xl"),b(w,"class","mt-12 space-y-6 w-full"),b(D,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),b(E,"class","w-full space-y-2"),b(O,"class","flex w-full text-sm max-w-4xl"),b(T,"class","mt-12 space-y-6 w-full"),b(ne,"class","w-40"),b(U,"class","flex w-full mt-10 justify-end"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(L,Y){oe(L,e,Y),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(L,u,Y),oe(L,f,Y),m(f,h),m(h,d),m(d,p),m(d,g),m(d,w),m(w,v),m(v,_),m(v,k),m(v,A),ue(C,A,null),m(d,N),m(d,T),m(T,O),m(O,D),m(O,Q),m(O,E),q&&q.m(E,null),m(E,j);for(let re=0;re<te.length;re+=1)te[re]&&te[re].m(E,null);m(d,J),m(d,U),m(U,ne),ue(G,ne,null),ae=!0},p(L,Y){const re={};if(Y&1&&(re.options=L[0]),C.$set(re),L[1].length>0?q?(q.p(L,Y),Y&2&&R(q,1)):(q=xb(L),q.c(),R(q,1),q.m(E,j)):q&&(ct(),z(q,1,1,()=>{q=null}),ut()),Y&146){F=L[1];let K;for(K=0;K<F.length;K+=1){const W=_b(L,F,K);te[K]?(te[K].p(W,Y),R(te[K],1)):(te[K]=kb(W),te[K].c(),R(te[K],1),te[K].m(E,null))}for(ct(),K=F.length;K<te.length;K+=1)B(K);ut()}const X={};Y&8&&(X.disabled=L[3]),G.$set(X)},i(L){if(!ae){R(n.$$.fragment,L),R(a.$$.fragment,L),R(C.$$.fragment,L),R(q);for(let Y=0;Y<F.length;Y+=1)R(te[Y]);R(G.$$.fragment,L),ae=!0}},o(L){z(n.$$.fragment,L),z(a.$$.fragment,L),z(C.$$.fragment,L),z(q),te=te.filter(Boolean);for(let Y=0;Y<te.length;Y+=1)z(te[Y]);z(G.$$.fragment,L),ae=!1},d(L){L&&ie(e),fe(n),fe(a),L&&ie(u),L&&ie(f),fe(C),q&&q.d(),gr(te,L),fe(G)}}}function iP(r){let e,t;return e=new Vn({props:{$$slots:{default:[sP]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&1048607&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function oP(r,e,t){let n,s;cn(r,kn,A=>t(14,s=A));let i=s.props.assessmentTitle,o=s.props.assessmentId,a,l=[],c=[],u=[],f=!1,h=!1;br(()=>{d()});const d=()=>{ze.getWithToken("/api/question-bank-subjects/"+o,{onSuccess:A=>{t(0,l=A.data.flatMap(C=>[{placeholder:C.subjectName,value:C.subjectId}]))}})},p=A=>{a=A,ze.getWithToken(`/api/question-bank-classes/${o}/${A}`,{onSuccess:C=>{t(1,c=C.data)}})},g=A=>{if(n(A.class_code)){t(10,u=u.filter(C=>C.class_code!=A.class_code));return}u.push(A),t(10,u)},w=()=>{f?(t(2,f=!1),t(10,u=[])):(t(2,f=!0),t(10,u=c))},v=()=>{t(3,h=!0);let A=u.flatMap(C=>[C.class_code]);ze.postWithToken("/api/question-bank-create",{assessmentId:o,classes:A,subjectId:a},{onSuccess:C=>{ze.navigateTo(`/assessments/termly/question_bank/sections/${C.data.questionBankId}`)},onError:C=>{t(3,h=!1)}})},_=A=>p(A.detail.value),k=A=>g(A);return r.$$.update=()=>{r.$$.dirty&1024&&t(4,n=A=>u.some(C=>C.class_code==A))},[l,c,f,h,n,i,p,g,w,v,u,_,k]}let aP=class extends It{constructor(e){super(),Ot(this,e,oP,iP,xt,{})}};const lP=Object.freeze(Object.defineProperty({__proto__:null,default:aP},Symbol.toStringTag,{value:"Module"}));function Sb(r,e,t){const n=r.slice();return n[29]=e[t],n[31]=t,n}function Ab(r){let e,t,n=r[31]+1+"",s,i,o,a=r[29].sectionTitle+"",l,c,u,f=r[29].sectionDescription+"",h,d,p,g,w,v,_,k;function A(){return r[18](r[29])}g=new ft({props:{buttonText:"Edit",className:"text-xs"}}),g.$on("click",A);function C(){return r[19](r[29])}return v=new ft({props:{buttonText:"Delete",className:"text-xs bg-red-500 focus:ring-red-200 hover:bg-red-600 focus:bg-red-500"}}),v.$on("click",C),{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=I(),p=x("td"),de(g.$$.fragment),w=I(),de(v.$$.fragment),_=I(),b(t,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(o,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(u,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 flex space-x-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap")},m(N,T){oe(N,e,T),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),ue(g,p,null),m(p,w),ue(v,p,null),m(e,_),k=!0},p(N,T){r=N,(!k||T[0]&2)&&a!==(a=r[29].sectionTitle+"")&&rt(l,a),(!k||T[0]&2)&&f!==(f=r[29].sectionDescription+"")&&rt(h,f)},i(N){k||(R(g.$$.fragment,N),R(v.$$.fragment,N),k=!0)},o(N){z(g.$$.fragment,N),z(v.$$.fragment,N),k=!1},d(N){N&&ie(e),fe(g),fe(v)}}}function cP(r){let e,t,n=r[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=Ab(Sb(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&20482){n=o[1];let l;for(l=0;l<n.length;l+=1){const c=Sb(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=Ab(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function uP(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D;return n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),v=new ft({props:{buttonText:"Add New Section",className:"max-w-min min-w-max"}}),v.$on("click",r[17]),A=new W1({props:{headings:r[8],$$slots:{default:[cP]},$$scope:{ctx:r}}}),O=new ft({props:{buttonText:"Continue"}}),O.$on("click",r[10]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Question Bank",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent=`${r[9]}`,u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),g=x("div"),g.innerHTML=`<div class="text-lg font-semibold min-w-max text-gray-700">Add Sections</div> 
                        <div class="text-gray-400 text-sm">Please add relevant sections below</div>`,w=I(),de(v.$$.fragment),_=I(),k=x("div"),de(A.$$.fragment),C=I(),N=x("div"),T=x("div"),de(O.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(k,"class","mt-12 space-y-6 w-full"),b(T,"class","w-40"),b(N,"class","flex w-full mt-10 justify-end"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(Q,E){oe(Q,e,E),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(Q,u,E),oe(Q,f,E),m(f,h),m(h,d),m(d,p),m(p,g),m(p,w),ue(v,p,null),m(d,_),m(d,k),ue(A,k,null),m(d,C),m(d,N),m(N,T),ue(O,T,null),D=!0},p(Q,E){const j={};E[0]&2|E[1]&2&&(j.$$scope={dirty:E,ctx:Q}),A.$set(j)},i(Q){D||(R(n.$$.fragment,Q),R(a.$$.fragment,Q),R(v.$$.fragment,Q),R(A.$$.fragment,Q),R(O.$$.fragment,Q),D=!0)},o(Q){z(n.$$.fragment,Q),z(a.$$.fragment,Q),z(v.$$.fragment,Q),z(A.$$.fragment,Q),z(O.$$.fragment,Q),D=!1},d(Q){Q&&ie(e),fe(n),fe(a),Q&&ie(u),Q&&ie(f),fe(v),fe(A),fe(O)}}}function fP(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Add Section",className:"min-w-max max-w-min"}}),e.$on("click",r[11]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function dP(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Update",className:"min-w-max max-w-min"}}),e.$on("click",r[13]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function hP(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p;n=new Gr({props:{value:r[6].sectionTitle,label:"Enter Section Title",labelStyle:"font-semibold"}}),n.$on("input",r[20]),o=new fr({props:{value:r[6].questionType,options:r[2],className:"text-sm",optionsStyling:"text-sm",placeholder:"Select Question Type",label:"Select Question Type",labelStyle:"font-semibold"}}),o.$on("selected",r[21]),o.$on("deselected",r[22]),c=new Gr({props:{value:r[6].sectionDescription,label:"Enter Section Description",labelStyle:"font-semibold"}}),c.$on("input",r[23]);const g=[dP,fP],w=[];function v(_,k){return _[3]==_[7].edit?0:1}return h=v(r),d=w[h]=g[h](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("div"),de(c.$$.fragment),u=I(),f=x("div"),d.c(),b(f,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),ue(c,l,null),m(e,u),m(e,f),w[h].m(f,null),p=!0},p(_,k){const A={};k[0]&64&&(A.value=_[6].sectionTitle),n.$set(A);const C={};k[0]&64&&(C.value=_[6].questionType),k[0]&4&&(C.options=_[2]),o.$set(C);const N={};k[0]&64&&(N.value=_[6].sectionDescription),c.$set(N);let T=h;h=v(_),h===T?w[h].p(_,k):(ct(),z(w[T],1,1,()=>{w[T]=null}),ut(),d=w[h],d?d.p(_,k):(d=w[h]=g[h](_),d.c()),R(d,1),d.m(f,null))},i(_){p||(R(n.$$.fragment,_),R(o.$$.fragment,_),R(c.$$.fragment,_),R(d),p=!0)},o(_){z(n.$$.fragment,_),z(o.$$.fragment,_),z(c.$$.fragment,_),z(d),p=!1},d(_){_&&ie(e),fe(n),fe(o),fe(c),w[h].d()}}}function pP(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[uP]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[5],showSheet:r[0],$$slots:{default:[hP]},$$scope:{ctx:r}}}),n.$on("close-button",r[15]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&2|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&32&&(l.title=i[5]),o[0]&1&&(l.showSheet=i[0]),o[0]&92|o[1]&2&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function mP(r,e,t){let n;cn(r,kn,G=>t(24,n=G));let s=!1,i=[],o=[],a,l=!1;const c={createSection:"Add New Section",edit:"Edit Section"};let u,f={sectionTitle:"",sectionDescription:"",sectionId:"",questionType:""},h=JSON.stringify(f),d=["S|N","Title","Description","Action"],p=n.props.questionBankId,g=n.props.assessmentTitle;br(()=>{v(),w()});const w=()=>{ze.getWithToken("/api/question-types",{onSuccess:G=>{t(2,o=G.data.flatMap(ae=>[{placeholder:ae.toUpperCase(),value:ae}]))}})},v=()=>{ze.getWithToken(`/api/question-bank/sections/${p}`,{onSuccess:G=>{t(1,i=G.data)}})},_=()=>{ze.navigateTo(`http://localhost/assessment/questions/t/${p}`)},k=()=>{t(4,l=!0),ze.postWithToken("/api/question-bank/create/section",{questionBankId:p,title:f.sectionTitle,description:f.sectionDescription,questionType:f.questionType},{onSuccess:G=>{v(),T(),t(4,l=!1)},onError:G=>{t(4,l=!1)}})},A=G=>{t(6,f=G),O(c.edit)},C=()=>{t(4,l=!0),ze.postWithToken(`/api/question-bank/update/section/${f.sectionId}`,{sectionTitle:f.sectionTitle,sectionDescription:f.sectionDescription,questionType:f.questionType},{onSuccess:G=>{v(),T(),t(4,l=!1)},onError:G=>{t(4,l=!1)}})},N=G=>{ze.postWithToken(`/api/question-bank/delete/section/${G}`,{questionBankId:p},{onSuccess:ae=>{v()}})},T=()=>{t(6,f=JSON.parse(h)),t(0,s=!1)},O=G=>{t(3,a=G),t(5,u=G),t(0,s=!0)};return[s,i,o,a,l,u,f,c,d,g,_,k,A,C,N,T,O,()=>O(c.createSection),G=>A(G),G=>N(G.sectionId),G=>t(6,f.sectionTitle=G.detail.input,f),G=>t(6,f.questionType=G.detail.value,f),G=>t(6,f.questionType="",f),G=>t(6,f.sectionDescription=G.detail.input,f)]}class gP extends It{constructor(e){super(),Ot(this,e,mP,pP,xt,{},null,[-1,-1])}}const bP=Object.freeze(Object.defineProperty({__proto__:null,default:gP},Symbol.toStringTag,{value:"Module"}));function Tb(r,e,t){const n=r.slice();return n[15]=e[t],n}function Nb(r){let e,t,n,s,i,o;return t=new Tt({props:{icon:"check",className:`${r[1]?"stroke-green-700":"stroke-gray-300"}`}}),{c(){e=x("button"),de(t.$$.fragment),b(e,"class",n=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[1]?"border-green-700":"border-gray-300"} rounded-lg`)},m(a,l){oe(a,e,l),ue(t,e,null),s=!0,i||(o=ht(e,"click",r[6]),i=!0)},p(a,l){const c={};l&2&&(c.className=`${a[1]?"stroke-green-700":"stroke-gray-300"}`),t.$set(c),(!s||l&2&&n!==(n=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${a[1]?"border-green-700":"border-gray-300"} rounded-lg`))&&b(e,"class",n)},i(a){s||(R(t.$$.fragment,a),s=!0)},o(a){z(t.$$.fragment,a),s=!1},d(a){a&&ie(e),fe(t),i=!1,o()}}}function Mb(r){let e,t,n,s,i,o,a,l,c=r[15].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[2](r[15].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[9](r[15])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[2](r[15].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[2](r[15].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[2](r[15].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k&5&&(A.className=`${r[2](r[15].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k&5&&s!==(s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[2](r[15].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k&1)&&c!==(c=r[15].class_name+"")&&rt(u,c),(!p||k&5&&f!==(f=`${r[2](r[15].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k&5&&h!==(h=`flex p-3 border-2 ${r[2](r[15].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function vP(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G;n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}});let ae=r[0].length>0&&Nb(r),q=r[0],F=[];for(let B=0;B<q.length;B+=1)F[B]=Mb(Tb(r,q,B));const te=B=>z(F[B],1,1,()=>{F[B]=null});return D=new ft({props:{disabled:wP,buttonText:"Update"}}),D.$on("click",r[7]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Question Bank",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent=`${r[3]}`,u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),p.innerHTML=`<div><div class="text-lg font-semibold min-w-max text-gray-700">Edit Question Bank</div> 
                        <div class="text-gray-400 text-sm">Please select relevant details below</div></div>`,g=I(),w=x("div"),v=x("div"),_=x("span"),_.textContent="Select Classes",k=I(),A=x("div"),ae&&ae.c(),C=I();for(let B=0;B<F.length;B+=1)F[B].c();N=I(),T=x("div"),O=x("div"),de(D.$$.fragment),Q=I(),E=x("div"),j=x("a"),J=Be("Sections"),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(_,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),b(A,"class","w-full space-y-2"),b(v,"class","flex w-full text-sm max-w-4xl"),b(w,"class","mt-12 space-y-6 w-full"),b(O,"class","w-40"),b(j,"class","border-2 border-blue-600 p-2.5 text-blue-600 rounded-lg"),b(j,"href",`/assessments/termly/question_bank/sections/${r[4]}`),b(T,"class","flex w-full mt-10 justify-end space-x-4 items-center"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(B,L){oe(B,e,L),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(B,u,L),oe(B,f,L),m(f,h),m(h,d),m(d,p),m(d,g),m(d,w),m(w,v),m(v,_),m(v,k),m(v,A),ae&&ae.m(A,null),m(A,C);for(let Y=0;Y<F.length;Y+=1)F[Y]&&F[Y].m(A,null);m(d,N),m(d,T),m(T,O),ue(D,O,null),m(T,Q),m(T,E),m(E,j),m(j,J),U=!0,ne||(G=mn(En.call(null,j)),ne=!0)},p(B,L){if(B[0].length>0?ae?(ae.p(B,L),L&1&&R(ae,1)):(ae=Nb(B),ae.c(),R(ae,1),ae.m(A,C)):ae&&(ct(),z(ae,1,1,()=>{ae=null}),ut()),L&37){q=B[0];let Y;for(Y=0;Y<q.length;Y+=1){const re=Tb(B,q,Y);F[Y]?(F[Y].p(re,L),R(F[Y],1)):(F[Y]=Mb(re),F[Y].c(),R(F[Y],1),F[Y].m(A,null))}for(ct(),Y=q.length;Y<F.length;Y+=1)te(Y);ut()}},i(B){if(!U){R(n.$$.fragment,B),R(a.$$.fragment,B),R(ae);for(let L=0;L<q.length;L+=1)R(F[L]);R(D.$$.fragment,B),U=!0}},o(B){z(n.$$.fragment,B),z(a.$$.fragment,B),z(ae),F=F.filter(Boolean);for(let L=0;L<F.length;L+=1)z(F[L]);z(D.$$.fragment,B),U=!1},d(B){B&&ie(e),fe(n),fe(a),B&&ie(u),B&&ie(f),ae&&ae.d(),gr(F,B),fe(D),ne=!1,G()}}}function yP(r){let e,t;return e=new Vn({props:{$$slots:{default:[vP]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&262151&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}let wP=!1;function _P(r,e,t){let n,s;cn(r,kn,_=>t(10,s=_));let i=s.props.assessmentTitle,o=s.props.assessmentId,a=s.props.subjectId,l=s.props.questionBankId,c=[],u=[],f=!1;br(()=>{h(),d()});const h=()=>{ze.getWithToken(`/api/question-bank-classes/${o}/${a}`,{onSuccess:_=>{t(0,c=_.data)}})},d=()=>{ze.getWithToken(`/api/question-bank/classes/${l}`,{onSuccess:_=>{t(8,u=_.data)}})},p=_=>{if(n(_.class_code)){t(8,u=u.filter(k=>k.class_code!=_.class_code));return}u.push(_),t(8,u)},g=()=>{f?(t(1,f=!1),t(8,u=[])):(t(1,f=!0),t(8,u=c))},w=()=>{let _=u.flatMap(k=>[k.class_code]);ze.postWithToken("/api/question-bank-update",{questionBankId:l,classes:_},{onSuccess:k=>{}})},v=_=>p(_);return r.$$.update=()=>{r.$$.dirty&256&&t(2,n=_=>u.some(k=>k.class_code==_))},[c,f,n,i,l,p,g,w,u,v]}class xP extends It{constructor(e){super(),Ot(this,e,_P,yP,xt,{})}}const kP=Object.freeze(Object.defineProperty({__proto__:null,default:xP},Symbol.toStringTag,{value:"Module"}));function Cb(r){let e,t,n,s;const i=r[2].default,o=Oo(i,r,r[1],null);return{c(){e=x("div"),t=x("div"),o&&o.c(),b(t,"class","bg-white min-h-[20rem] min-w-[20rem] rounded-lg p-8"),b(e,"class","fixed flex flex-col items-center justify-center min-h-screen w-full left-20 inset-y-0 right-0 bg-gray-800/10 z-40 backdrop-blur-sm")},m(a,l){oe(a,e,l),m(e,t),o&&o.m(t,null),s=!0},p(a,l){o&&o.p&&(!s||l&2)&&Eo(o,i,a,a[1],s?Io(i,a[1],l,null):Po(a[1]),null)},i(a){s||(R(o,a),n||so(()=>{n=ld(e,Ff,{delay:50,duration:100}),n.start()}),s=!0)},o(a){z(o,a),s=!1},d(a){a&&ie(e),o&&o.d(a)}}}function SP(r){let e,t,n=r[0]&&Cb(r);return{c(){n&&n.c(),e=cr()},m(s,i){n&&n.m(s,i),oe(s,e,i),t=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&R(n,1)):(n=Cb(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(ct(),z(n,1,1,()=>{n=null}),ut())},i(s){t||(R(n),t=!0)},o(s){z(n),t=!1},d(s){n&&n.d(s),s&&ie(e)}}}function AP(r,e,t){let{$$slots:n={},$$scope:s}=e,{show:i=!1}=e;return r.$$set=o=>{"show"in o&&t(0,i=o.show),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class r1 extends It{constructor(e){super(),Ot(this,e,AP,SP,xt,{show:0})}}const TP=Object.freeze(Object.defineProperty({__proto__:null,default:r1},Symbol.toStringTag,{value:"Module"}));function NP(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_;return i=new Tt({props:{icon:"chart",className:"h-6 w-6"}}),d=new fr({props:{options:r[5],optionsStyling:"text-sm text-gray-800",placeholder:"Select Course",className:"w-full text-sm text-gray-400 py-2.5"}}),d.$on("selected",r[8]),d.$on("deselected",r[9]),g=new fr({props:{options:r[6],optionsStyling:"text-sm text-gray-800",placeholder:"Select Level",className:"w-full text-sm text-gray-400 py-2.5"}}),g.$on("selected",r[10]),g.$on("deselected",r[11]),v=new ft({props:{disabled:r[2],buttonText:"Get Results",className:"w-40 text-sm py-3 min-w-fit max-w-fit"}}),v.$on("click",r[7]),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("span"),a.textContent="Results",l=I(),c=x("div"),u=x("span"),u.textContent="Filters",f=I(),h=x("div"),de(d.$$.fragment),p=I(),de(g.$$.fragment),w=I(),de(v.$$.fragment),b(a,"class","mx-2 text-lg font-medium text-gray-800"),b(s,"class","flex space-x-3 items-center"),b(n,"class","flex items-center justify-between"),b(u,"class","text-base text-gray-700"),b(h,"class","flex items-center mt-3 space-x-3 w-full"),b(c,"class","flex flex-col border border-gray-100 rounded-lg w-full h-full bg-white mt-8 pt-4 pb-8 px-4"),b(t,"class","my-28"),b(e,"class","container")},m(k,A){oe(k,e,A),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(s,o),m(s,a),m(t,l),m(t,c),m(c,u),m(c,f),m(c,h),ue(d,h,null),m(h,p),ue(g,h,null),m(h,w),ue(v,h,null),_=!0},p(k,A){const C={};A&32&&(C.options=k[5]),d.$set(C);const N={};A&64&&(N.options=k[6]),g.$set(N);const T={};A&4&&(T.disabled=k[2]),v.$set(T)},i(k){_||(R(i.$$.fragment,k),R(d.$$.fragment,k),R(g.$$.fragment,k),R(v.$$.fragment,k),_=!0)},o(k){z(i.$$.fragment,k),z(d.$$.fragment,k),z(g.$$.fragment,k),z(v.$$.fragment,k),_=!1},d(k){k&&ie(e),fe(i),fe(d),fe(g),fe(v)}}}function MP(r){let e,t,n,s,i,o,a,l,c,u,f,h;return f=new ft({props:{buttonText:"Close",className:"text-sm"}}),f.$on("click",r[12]),{c(){e=x("div"),t=x("div"),t.innerHTML='<svg class="h-28 w-28" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="782.04441" height="701.88002" viewBox="0 0 782.04441 701.88002" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M609.48783,100.59015l-25.44631,6.56209L270.53735,187.9987,245.091,194.56079A48.17927,48.17927,0,0,0,210.508,253.17865L320.849,681.05606a48.17924,48.17924,0,0,0,58.61776,34.58317l.06572-.01695,364.26536-93.93675.06572-.01695a48.17923,48.17923,0,0,0,34.58309-58.6178l-110.341-427.87741A48.17928,48.17928,0,0,0,609.48783,100.59015Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M612.94784,114.00532l-30.13945,7.77236L278.68955,200.20385l-30.139,7.77223a34.30949,34.30949,0,0,0-24.6275,41.74308l110.341,427.87741a34.30946,34.30946,0,0,0,41.7431,24.62736l.06572-.01695,364.26536-93.93674.06619-.01707a34.30935,34.30935,0,0,0,24.627-41.7429l-110.341-427.87741A34.30938,34.30938,0,0,0,612.94784,114.00532Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M590.19,252.56327,405.917,300.08359a8.01411,8.01411,0,0,1-4.00241-15.52046l184.273-47.52033A8.01412,8.01412,0,0,1,590.19,252.56327Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M628.955,270.49906,412.671,326.27437a8.01411,8.01411,0,1,1-4.00241-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M620.45825,369.93676l-184.273,47.52032a8.01411,8.01411,0,1,1-4.00242-15.52046l184.273-47.52032a8.01411,8.01411,0,1,1,4.00241,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M659.22329,387.87255l-216.284,55.77531a8.01411,8.01411,0,1,1-4.00242-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M650.72653,487.31025l-184.273,47.52033a8.01412,8.01412,0,0,1-4.00242-15.52047l184.273-47.52032a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M689.49156,505.246l-216.284,55.77532a8.01412,8.01412,0,1,1-4.00241-15.52047l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M374.45884,348.80871l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76146L289.5963,304.81607a3.847,3.847,0,0,1,2.76145-4.68061l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76145l14.96947,58.04817A3.847,3.847,0,0,1,374.45884,348.80871Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M404.72712,466.1822l-65.21247,16.817a3.847,3.847,0,0,1-4.68062-2.76146l-14.96946-58.04816A3.847,3.847,0,0,1,322.626,417.509l65.21246-16.817a3.847,3.847,0,0,1,4.68062,2.76145l14.96946,58.04817A3.847,3.847,0,0,1,404.72712,466.1822Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M434.99539,583.55569l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76145l-14.96946-58.04817a3.847,3.847,0,0,1,2.76145-4.68062l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76146l14.96947,58.04816A3.847,3.847,0,0,1,434.99539,583.55569Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.63647,209.0517H487.31811a48.17928,48.17928,0,0,0-48.125,48.12512V699.05261a48.17924,48.17924,0,0,0,48.125,48.12507H863.63647a48.17924,48.17924,0,0,0,48.125-48.12507V257.17682A48.17928,48.17928,0,0,0,863.63647,209.0517Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.637,222.90589H487.31811a34.30948,34.30948,0,0,0-34.271,34.27093V699.05261a34.30947,34.30947,0,0,0,34.271,34.27088H863.637a34.30936,34.30936,0,0,0,34.27051-34.27088V257.17682A34.30937,34.30937,0,0,0,863.637,222.90589Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><circle cx="694.19401" cy="614.02963" r="87.85039" fill="#6c63ff"></circle><path d="M945.18722,701.63087H914.63056V671.07421a11.45875,11.45875,0,0,0-22.9175,0v30.55666H861.1564a11.45875,11.45875,0,0,0,0,22.9175h30.55666V755.105a11.45875,11.45875,0,1,0,22.9175,0V724.54837h30.55666a11.45875,11.45875,0,0,0,0-22.9175Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M807.00068,465.71551H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01412,8.01412,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,492.76314H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01411,8.01411,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.00068,586.929H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,613.97661H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01412,8.01412,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,505.04162H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V441.25158a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,505.04162Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,626.25509H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V562.46505a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,626.25509Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.21185,330.781H666.91017a8.01411,8.01411,0,0,1,0-16.02823H807.21185a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M840.27007,357.82862H666.91017a8.01411,8.01411,0,1,1,0-16.02822h173.3599a8.01411,8.01411,0,0,1,0,16.02822Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M635.85911,390.6071H506.51316a3.847,3.847,0,0,1-3.84277-3.84277V285.81706a3.847,3.847,0,0,1,3.84277-3.84277H635.85911a3.847,3.847,0,0,1,3.84277,3.84277V386.76433A3.847,3.847,0,0,1,635.85911,390.6071Z" transform="translate(-208.9778 -99.05999)" fill="#6c63ff"></path></svg>',n=I(),s=x("div"),i=x("p"),i.textContent="Download Results",o=I(),a=x("a"),l=Be("Click to Download"),c=I(),u=x("div"),de(f.$$.fragment),b(t,"class",""),b(i,"class","font-bold text-gray-800 text-lg"),b(a,"class","text-blue-500 text-sm"),b(a,"href",r[1]),b(s,"class","flex flex-col items-center space-y-6"),b(u,"class","pt-3"),b(e,"class","flex flex-col justify-center items-center h-full p-6 space-y-5")},m(d,p){oe(d,e,p),m(e,t),m(e,n),m(e,s),m(s,i),m(s,o),m(s,a),m(a,l),m(e,c),m(e,u),ue(f,u,null),h=!0},p(d,p){(!h||p&2)&&b(a,"href",d[1])},i(d){h||(R(f.$$.fragment,d),h=!0)},o(d){z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(f)}}}function CP(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[NP]},$$scope:{ctx:r}}}),n=new r1({props:{show:r[0],$$slots:{default:[MP]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,[o]){const a={};o&131196&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o&1&&(l.show=i[0]),o&131075&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function LP(r,e,t){let n;cn(r,kn,_=>t(13,n=_));let s=n.props.assessmentId;n.props.assessmentTitle;let i=!1,o="",a=!1,l,c,u=[],f=[];return br(()=>{ze.getWithToken("/api/assessment-subjects/"+s,{onSuccess:_=>{t(5,u=_.data.flatMap(k=>[{placeholder:`${k.subjectName} (${k.subjectCode})`,value:k.subjectId}]))}}),ze.getWithToken("/api/assessment-classes/"+s,{onSuccess:_=>{t(6,f=_.data.flatMap(k=>[{placeholder:k.class_name,value:k.id}]))}})}),[i,o,a,l,c,u,f,()=>{t(2,a=!0),ze.post("/api/assessment/t/results",{assessmentId:s,subjectId:l,classId:c},{onSuccess:_=>{_.data.path&&(t(1,o=_.data.path),t(0,i=!0)),t(2,a=!1)},onError:()=>{t(2,a=!1)}})},_=>t(3,l=_.detail.value),()=>t(3,l=""),_=>t(4,c=_.detail.value),()=>t(4,c=""),()=>t(0,i=!1)]}let $P=class extends It{constructor(e){super(),Ot(this,e,LP,CP,xt,{})}};const OP=Object.freeze(Object.defineProperty({__proto__:null,default:$P},Symbol.toStringTag,{value:"Module"}));function Xr(r){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(r)}var oi=Uint8Array,ai=Uint16Array,Wf=Uint32Array,Y1=new oi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q1=new oi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b2=new oi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e9=function(r,e){for(var t=new ai(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new Wf(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)s[i]=i-t[n]<<5|n;return[t,s]},t9=e9(Y1,2),r9=t9[0],v2=t9[1];r9[28]=258,v2[258]=28;var n9=e9(Q1,0),IP=n9[0],Lb=n9[1],y2=new ai(32768);for(var wn=0;wn<32768;++wn){var Nl=(wn&43690)>>>1|(wn&21845)<<1;Nl=(Nl&52428)>>>2|(Nl&13107)<<2,Nl=(Nl&61680)>>>4|(Nl&3855)<<4,y2[wn]=((Nl&65280)>>>8|(Nl&255)<<8)>>>1}var ca=function(r,e,t){for(var n=r.length,s=0,i=new ai(e);s<n;++s)++i[r[s]-1];var o=new ai(e);for(s=0;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(t){a=new ai(1<<e);var l=15-e;for(s=0;s<n;++s)if(r[s])for(var c=s<<4|r[s],u=e-r[s],f=o[r[s]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[y2[f]>>>l]=c}else for(a=new ai(n),s=0;s<n;++s)a[s]=y2[o[r[s]-1]++]>>>15-r[s];return a},Xl=new oi(288);for(var wn=0;wn<144;++wn)Xl[wn]=8;for(var wn=144;wn<256;++wn)Xl[wn]=9;for(var wn=256;wn<280;++wn)Xl[wn]=7;for(var wn=280;wn<288;++wn)Xl[wn]=8;var Yf=new oi(32);for(var wn=0;wn<32;++wn)Yf[wn]=5;var EP=ca(Xl,9,0),PP=ca(Xl,9,1),DP=ca(Yf,5,0),RP=ca(Yf,5,1),nm=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},xo=function(r,e,t){var n=e/8>>0;return(r[n]|r[n+1]<<8)>>>(e&7)&t},sm=function(r,e){var t=e/8>>0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>>(e&7)},Qg=function(r){return(r/8>>0)+(r&7&&1)},s9=function(r,e,t){(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var n=new(r instanceof ai?ai:r instanceof Wf?Wf:oi)(t-e);return n.set(r.subarray(e,t)),n},FP=function(r,e,t){var n=r.length,s=!e||t,i=!t||t.i;t||(t={}),e||(e=new oi(n*3));var o=function(K){var W=e.length;if(K>W){var pe=new oi(Math.max(W*2,K));pe.set(e),e=pe}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,h=t.m,d=t.n,p=n*8;do{if(!u){t.f=a=xo(r,l,1);var g=xo(r,l+1,3);if(l+=3,g)if(g==1)u=PP,f=RP,h=9,d=5;else if(g==2){var k=xo(r,l,31)+257,A=xo(r,l+10,15)+4,C=k+xo(r,l+5,31)+1;l+=14;for(var N=new oi(C),T=new oi(19),O=0;O<A;++O)T[b2[O]]=xo(r,l+O*3,7);l+=A*3;var D=nm(T),Q=(1<<D)-1;if(!i&&l+C*(D+7)>p)break;for(var E=ca(T,D,1),O=0;O<C;){var j=E[xo(r,l,Q)];l+=j&15;var w=j>>>4;if(w<16)N[O++]=w;else{var J=0,U=0;for(w==16?(U=3+xo(r,l,3),l+=2,J=N[O-1]):w==17?(U=3+xo(r,l,7),l+=3):w==18&&(U=11+xo(r,l,127),l+=7);U--;)N[O++]=J}}var ne=N.subarray(0,k),G=N.subarray(k);h=nm(ne),d=nm(G),u=ca(ne,h,1),f=ca(G,d,1)}else throw"invalid block type";else{var w=Qg(l)+4,v=r[w-4]|r[w-3]<<8,_=w+v;if(_>n){if(i)throw"unexpected EOF";break}s&&o(c+v),e.set(r.subarray(w,_),c),t.b=c+=v,t.p=l=_*8;continue}if(l>p)throw"unexpected EOF"}s&&o(c+131072);for(var ae=(1<<h)-1,q=(1<<d)-1,F=h+d+18;i||l+F<p;){var J=u[sm(r,l)&ae],te=J>>>4;if(l+=J&15,l>p)throw"unexpected EOF";if(!J)throw"invalid length/literal";if(te<256)e[c++]=te;else if(te==256){u=null;break}else{var B=te-254;if(te>264){var O=te-257,L=Y1[O];B=xo(r,l,(1<<L)-1)+r9[O],l+=L}var Y=f[sm(r,l)&q],re=Y>>>4;if(!Y)throw"invalid distance";l+=Y&15;var G=IP[re];if(re>3){var L=Q1[re];G+=sm(r,l)&(1<<L)-1,l+=L}if(l>p)throw"unexpected EOF";s&&o(c+131072);for(var X=c+B;c<X;c+=4)e[c]=e[c-G],e[c+1]=e[c+1-G],e[c+2]=e[c+2-G],e[c+3]=e[c+3-G];c=X}}t.l=u,t.p=l,t.b=c,u&&(a=1,t.m=h,t.d=f,t.n=d)}while(!a);return c==e.length?e:s9(e,0,c)},Da=function(r,e,t){t<<=e&7;var n=e/8>>0;r[n]|=t,r[n+1]|=t>>>8},bf=function(r,e,t){t<<=e&7;var n=e/8>>0;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},im=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,i=t.slice();if(!s)return[new oi(0),0];if(s==1){var o=new oi(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(C,N){return C.f-N.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=u&&t[c].f<t[f].f?c++:f++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=i[0].s,n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var d=new ai(h+1),p=w2(t[u-1],d,0);if(p>e){var n=0,g=0,w=p-e,v=1<<w;for(i.sort(function(N,T){return d[T.s]-d[N.s]||N.f-T.f});n<s;++n){var _=i[n].s;if(d[_]>e)g+=v-(1<<p-d[_]),d[_]=e;else break}for(g>>>=w;g>0;){var k=i[n].s;d[k]<e?g-=1<<e-d[k]++-1:++n}for(;n>=0&&g;--n){var A=i[n].s;d[A]==e&&(--d[A],++g)}p=e}return[new oi(d),p]},w2=function(r,e,t){return r.s==-1?Math.max(w2(r.l,e,t+1),w2(r.r,e,t+1)):e[r.s]=t},$b=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ai(++e),n=0,s=r[0],i=1,o=function(l){t[n++]=l},a=1;a<=e;++a)if(r[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=r[a]}return[t.subarray(0,n),e]},vf=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Ch=function(r,e,t){var n=t.length,s=Qg(e+2);r[s]=n&255,r[s+1]=n>>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=t[i];return(s+4+n)*8},Ob=function(r,e,t,n,s,i,o,a,l,c,u){Da(e,u++,t),++s[256];for(var f=im(s,15),h=f[0],d=f[1],p=im(i,15),g=p[0],w=p[1],v=$b(h),_=v[0],k=v[1],A=$b(g),C=A[0],N=A[1],T=new ai(19),O=0;O<_.length;++O)T[_[O]&31]++;for(var O=0;O<C.length;++O)T[C[O]&31]++;for(var D=im(T,7),Q=D[0],E=D[1],j=19;j>4&&!Q[b2[j-1]];--j);var J=c+5<<3,U=vf(s,Xl)+vf(i,Yf)+o,ne=vf(s,h)+vf(i,g)+o+14+3*j+vf(T,Q)+(2*T[16]+3*T[17]+7*T[18]);if(J<=U&&J<=ne)return Ch(e,u,r.subarray(l,l+c));var G,ae,q,F;if(Da(e,u,1+(ne<U)),u+=2,ne<U){G=ca(h,d,0),ae=h,q=ca(g,w,0),F=g;var te=ca(Q,E,0);Da(e,u,k-257),Da(e,u+5,N-1),Da(e,u+10,j-4),u+=14;for(var O=0;O<j;++O)Da(e,u+3*O,Q[b2[O]]);u+=3*j;for(var B=[_,C],L=0;L<2;++L)for(var Y=B[L],O=0;O<Y.length;++O){var re=Y[O]&31;Da(e,u,te[re]),u+=Q[re],re>15&&(Da(e,u,Y[O]>>>5&127),u+=Y[O]>>>12)}}else G=EP,ae=Xl,q=DP,F=Yf;for(var O=0;O<a;++O)if(n[O]>255){var re=n[O]>>>18&31;bf(e,u,G[re+257]),u+=ae[re+257],re>7&&(Da(e,u,n[O]>>>23&31),u+=Y1[re]);var X=n[O]&31;bf(e,u,q[X]),u+=F[X],X>3&&(bf(e,u,n[O]>>>5&8191),u+=Q1[X])}else bf(e,u,G[n[O]]),u+=ae[n[O]];return bf(e,u,G[256]),u+ae[256]},jP=new Wf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),BP=new oi(0),zP=function(r,e,t,n,s,i){var o=r.length,a=new oi(n+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(n,a.length-s),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var f=u+65535;f<o?c=Ch(l,c,r.subarray(u,f)):(l[u]=i,c=Ch(l,c,r.subarray(u,o)))}else{for(var h=jP[e-1],d=h>>>13,p=h&8191,g=(1<<t)-1,w=new ai(32768),v=new ai(g+1),_=Math.ceil(t/3),k=2*_,A=function(Ee){return(r[Ee]^r[Ee+1]<<_^r[Ee+2]<<k)&g},C=new Wf(25e3),N=new ai(288),T=new ai(32),O=0,D=0,u=0,Q=0,E=0,j=0;u<o;++u){var J=A(u),U=u&32767,ne=v[J];if(w[U]=ne,v[J]=U,E<=u){var G=o-u;if((O>7e3||Q>24576)&&G>423){c=Ob(r,l,0,C,N,T,D,Q,j,u-j,c),Q=O=D=0,j=u;for(var ae=0;ae<286;++ae)N[ae]=0;for(var ae=0;ae<30;++ae)T[ae]=0}var q=2,F=0,te=p,B=U-ne&32767;if(G>2&&J==A(u-B))for(var L=Math.min(d,G)-1,Y=Math.min(32767,u),re=Math.min(258,G);B<=Y&&--te&&U!=ne;){if(r[u+q]==r[u+q-B]){for(var X=0;X<re&&r[u+X]==r[u+X-B];++X);if(X>q){if(q=X,F=B,X>L)break;for(var K=Math.min(B,X-2),W=0,ae=0;ae<K;++ae){var pe=u-B+ae+32768&32767,be=w[pe],Ne=pe-be+32768&32767;Ne>W&&(W=Ne,ne=pe)}}}U=ne,ne=w[U],B+=U-ne+32768&32767}if(F){C[Q++]=268435456|v2[q]<<18|Lb[F];var Ae=v2[q]&31,qe=Lb[F]&31;D+=Y1[Ae]+Q1[qe],++N[257+Ae],++T[qe],E=u+q,++O}else C[Q++]=r[u],++N[r[u]]}}c=Ob(r,l,i,C,N,T,D,Q,j,u-j,c),i||(c=Ch(l,c,BP))}return s9(a,0,n+Qg(c)+s)},qP=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,i=t.length,o=0;o!=i;){for(var a=Math.min(o+5552,i);o<a;++o)n+=t[o],s+=n;n%=65521,s%=65521}r=n,e=s},d:function(){return(r>>>8<<16|(e&255)<<8|e>>>8)+((r&255)<<23)*2}}},HP=function(r,e,t,n,s){return zP(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,n,!s)},VP=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},UP=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)},WP=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function _2(r,e){e===void 0&&(e={});var t=qP();t.p(r);var n=HP(r,e,2,4);return UP(n,e),VP(n,n.length-4,t.d()),n}function YP(r,e){return FP((WP(r),r.subarray(2,-4)),e)}var sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function om(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var an={log:om,warn:function(r){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):om.call(null,arguments))},error:function(r){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):om(r))}};function am(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Tc(n.response,e,t)},n.onerror=function(){an.error("could not download file")},n.send()}function Ib(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Lf,x2,Tc=sr.saveAs||((typeof window>"u"?"undefined":Xr(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=sr.URL||sr.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?Ib(s.href)?am(r,e,t):Zd(s,s.target="_blank"):Zd(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Zd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Ib(r))am(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Zd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Xr(i)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return am(r,e,t);var s=r.type==="application/octet-stream",i=/constructor/i.test(sr.HTMLElement)||sr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Xr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(r)}else{var l=sr.URL||sr.webkitURL,c=l.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function i9(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,i=t[n].process,o=s.exec(r);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lm(r,e){var t=r[0],n=r[1],s=r[2],i=r[3];t=zs(t,n,s,i,e[0],7,-680876936),i=zs(i,t,n,s,e[1],12,-389564586),s=zs(s,i,t,n,e[2],17,606105819),n=zs(n,s,i,t,e[3],22,-1044525330),t=zs(t,n,s,i,e[4],7,-176418897),i=zs(i,t,n,s,e[5],12,1200080426),s=zs(s,i,t,n,e[6],17,-1473231341),n=zs(n,s,i,t,e[7],22,-45705983),t=zs(t,n,s,i,e[8],7,1770035416),i=zs(i,t,n,s,e[9],12,-1958414417),s=zs(s,i,t,n,e[10],17,-42063),n=zs(n,s,i,t,e[11],22,-1990404162),t=zs(t,n,s,i,e[12],7,1804603682),i=zs(i,t,n,s,e[13],12,-40341101),s=zs(s,i,t,n,e[14],17,-1502002290),t=qs(t,n=zs(n,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=qs(i,t,n,s,e[6],9,-1069501632),s=qs(s,i,t,n,e[11],14,643717713),n=qs(n,s,i,t,e[0],20,-373897302),t=qs(t,n,s,i,e[5],5,-701558691),i=qs(i,t,n,s,e[10],9,38016083),s=qs(s,i,t,n,e[15],14,-660478335),n=qs(n,s,i,t,e[4],20,-405537848),t=qs(t,n,s,i,e[9],5,568446438),i=qs(i,t,n,s,e[14],9,-1019803690),s=qs(s,i,t,n,e[3],14,-187363961),n=qs(n,s,i,t,e[8],20,1163531501),t=qs(t,n,s,i,e[13],5,-1444681467),i=qs(i,t,n,s,e[2],9,-51403784),s=qs(s,i,t,n,e[7],14,1735328473),t=Hs(t,n=qs(n,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Hs(i,t,n,s,e[8],11,-2022574463),s=Hs(s,i,t,n,e[11],16,1839030562),n=Hs(n,s,i,t,e[14],23,-35309556),t=Hs(t,n,s,i,e[1],4,-1530992060),i=Hs(i,t,n,s,e[4],11,1272893353),s=Hs(s,i,t,n,e[7],16,-155497632),n=Hs(n,s,i,t,e[10],23,-1094730640),t=Hs(t,n,s,i,e[13],4,681279174),i=Hs(i,t,n,s,e[0],11,-358537222),s=Hs(s,i,t,n,e[3],16,-722521979),n=Hs(n,s,i,t,e[6],23,76029189),t=Hs(t,n,s,i,e[9],4,-640364487),i=Hs(i,t,n,s,e[12],11,-421815835),s=Hs(s,i,t,n,e[15],16,530742520),t=Vs(t,n=Hs(n,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Vs(i,t,n,s,e[7],10,1126891415),s=Vs(s,i,t,n,e[14],15,-1416354905),n=Vs(n,s,i,t,e[5],21,-57434055),t=Vs(t,n,s,i,e[12],6,1700485571),i=Vs(i,t,n,s,e[3],10,-1894986606),s=Vs(s,i,t,n,e[10],15,-1051523),n=Vs(n,s,i,t,e[1],21,-2054922799),t=Vs(t,n,s,i,e[8],6,1873313359),i=Vs(i,t,n,s,e[15],10,-30611744),s=Vs(s,i,t,n,e[6],15,-1560198380),n=Vs(n,s,i,t,e[13],21,1309151649),t=Vs(t,n,s,i,e[4],6,-145523070),i=Vs(i,t,n,s,e[11],10,-1120210379),s=Vs(s,i,t,n,e[2],15,718787259),n=Vs(n,s,i,t,e[9],21,-343485551),r[0]=ql(t,r[0]),r[1]=ql(n,r[1]),r[2]=ql(s,r[2]),r[3]=ql(i,r[3])}function G1(r,e,t,n,s,i){return e=ql(ql(e,r),ql(n,i)),ql(e<<s|e>>>32-s,t)}function zs(r,e,t,n,s,i,o){return G1(e&t|~e&n,r,e,s,i,o)}function qs(r,e,t,n,s,i,o){return G1(e&n|t&~n,r,e,s,i,o)}function Hs(r,e,t,n,s,i,o){return G1(e^t^n,r,e,s,i,o)}function Vs(r,e,t,n,s,i,o){return G1(t^(e|~n),r,e,s,i,o)}function o9(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)lm(n,QP(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(lm(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,lm(n,s),n}function QP(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Lf=sr.atob.bind(sr),x2=sr.btoa.bind(sr);var Eb="0123456789abcdef".split("");function GP(r){for(var e="",t=0;t<4;t++)e+=Eb[r>>8*t+4&15]+Eb[r>>8*t&15];return e}function JP(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function k2(r){return o9(r).map(JP).join("")}var KP=function(r){for(var e=0;e<r.length;e++)r[e]=GP(r[e]);return r.join("")}(o9("hello"))!="5d41402abc4b2a76b9719d911017c592";function ql(r,e){if(KP){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function S2(r,e){var t,n,s,i;if(r!==t){for(var o=(s=r,i=1+(256/r.length>>0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=r,n=a}else a=n;var f=e.length,h=0,d=0,p="";for(l=0;l<f;l++)d=(d+(u=a[h=(h+1)%256]))%256,a[h]=a[d],a[d]=u,o=a[(a[h]+a[d])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Pb={print:4,modify:8,copy:16,"annot-forms":32};function Fu(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(a){if(Pb.perm!==void 0)throw new Error("Invalid permission: "+a);s+=Pb[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=k2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=S2(this.encryptionKey,this.padding)}function ju(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function Db(r){if(Xr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!s],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var o=e[t][i];try{o[0].apply(r,n)}catch(a){sr.console&&an.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function n1(r){if(!(this instanceof n1))return new n1(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function a9(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Mc(r,e,t,n,s){if(!(this instanceof Mc))return new Mc(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,a9.call(this,n,s)}function Uu(r,e,t,n,s){if(!(this instanceof Uu))return new Uu(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,a9.call(this,n,s)}function nr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",u=null;Xr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),o=r.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=Db;var p="1.3",g=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(M){p=M};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return w};var v=d.__private__.getPageFormat=function(M){return w[M]};s=s||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},k=_.COMPAT;function A(){this.saveGraphicsState(),ve(new Wt(st,0,0,-st,0,dl()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",k=_.ADVANCED}function C(){this.restoreGraphicsState(),c="S",k=_.COMPAT}var N=d.__private__.combineFontStyleAndFontWeight=function(M,ee){if(M=="bold"&&ee=="normal"||M=="bold"&&ee==400||M=="normal"&&ee=="italic"||M=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(M=ee==400||ee==="normal"?M==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||M!=="normal"?(ee==700?"bold":ee)+""+M:"bold"),M};d.advancedAPI=function(M){var ee=k===_.COMPAT;return ee&&A.call(this),typeof M!="function"||(M(this),ee&&C.call(this)),this},d.compatAPI=function(M){var ee=k===_.ADVANCED;return ee&&C.call(this),typeof M!="function"||(M(this),ee&&A.call(this)),this},d.isAdvancedAPI=function(){return k===_.ADVANCED};var T,O=function(M){if(k!==_.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=d.roundToPrecision=d.__private__.roundToPrecision=function(M,ee){var xe=e||ee;if(isNaN(M)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(xe).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,16)};var Q=d.f2=d.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return D(M,2)},E=d.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return D(M,3)},j=d.scale=d.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return k===_.COMPAT?M*st:k===_.ADVANCED?M:void 0},J=function(M){return k===_.COMPAT?dl()-M:k===_.ADVANCED?M:void 0},U=function(M){return j(J(M))};d.__private__.setPrecision=d.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ne,G="00000000000000000000000000000000",ae=d.__private__.getFileId=function(){return G},q=d.__private__.setFileId=function(M){return G=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ws=new Fu(u.userPermissions,u.userPassword,u.ownerPassword,G)),G};d.setFileId=function(M){return q(M),this},d.getFileId=function(){return ae()};var F=d.__private__.convertDateToPDFDate=function(M){var ee=M.getTimezoneOffset(),xe=ee<0?"+":"-",Te=Math.floor(Math.abs(ee/60)),Fe=Math.abs(ee%60),Qe=[xe,re(Te),"'",re(Fe),"'"].join("");return["D:",M.getFullYear(),re(M.getMonth()+1),re(M.getDate()),re(M.getHours()),re(M.getMinutes()),re(M.getSeconds()),Qe].join("")},te=d.__private__.convertPDFDateToDate=function(M){var ee=parseInt(M.substr(2,4),10),xe=parseInt(M.substr(6,2),10)-1,Te=parseInt(M.substr(8,2),10),Fe=parseInt(M.substr(10,2),10),Qe=parseInt(M.substr(12,2),10),dt=parseInt(M.substr(14,2),10);return new Date(ee,xe,Te,Fe,Qe,dt,0)},B=d.__private__.setCreationDate=function(M){var ee;if(M===void 0&&(M=new Date),M instanceof Date)ee=F(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=M}return ne=ee},L=d.__private__.getCreationDate=function(M){var ee=ne;return M==="jsDate"&&(ee=te(ne)),ee};d.setCreationDate=function(M){return B(M),this},d.getCreationDate=function(M){return L(M)};var Y,re=d.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},X=d.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},K=0,W=[],pe=[],be=0,Ne=[],Ae=[],qe=!1,Me=pe,Ee=function(){K=0,be=0,pe=[],W=[],Ne=[],Wn=Vr(),bn=Vr()};d.__private__.setCustomOutputDestination=function(M){qe=!0,Me=M};var Le=function(M){qe||(Me=M)};d.__private__.resetCustomOutputDestination=function(){qe=!1,Me=pe};var ve=d.__private__.out=function(M){return M=M.toString(),be+=M.length+1,Me.push(M),Me},Xe=d.__private__.write=function(M){return ve(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},nt=d.__private__.getArrayBuffer=function(M){for(var ee=M.length,xe=new ArrayBuffer(ee),Te=new Uint8Array(xe);ee--;)Te[ee]=M.charCodeAt(ee);return xe},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return _e};var Re=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(M){return Re=k===_.ADVANCED?M/st:M,this};var je,Ye=d.__private__.getFontSize=d.getFontSize=function(){return k===_.COMPAT?Re:Re*st},yt=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(M){return yt=M,this},d.__private__.getR2L=d.getR2L=function(){return yt};var wt,Mt=d.__private__.setZoomMode=function(M){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))je=M;else if(isNaN(M)){if(ee.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');je=M}else je=parseInt(M,10)};d.__private__.getZoomMode=function(){return je};var at,bt=d.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');wt=M};d.__private__.getPageMode=function(){return wt};var Ht=d.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');at=M};d.__private__.getLayoutMode=function(){return at},d.__private__.setDisplayMode=d.setDisplayMode=function(M,ee,xe){return Mt(M),Ht(ee),bt(xe),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(M){if(Object.keys(Pt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[M]},d.__private__.getDocumentProperties=function(){return Pt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(M){for(var ee in Pt)Pt.hasOwnProperty(ee)&&M[ee]&&(Pt[ee]=M[ee]);return this},d.__private__.setDocumentProperty=function(M,ee){if(Object.keys(Pt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[M]=ee};var Ft,st,Cr,rr,fs,kr={},Er={},Mn=[],pr={},rs={},Lr={},bs={},ns=null,Tr=0,Yt=[],vr=new Db(d),Ds=r.hotfixes||[],Yr={},un={},$s=[],Wt=function M(ee,xe,Te,Fe,Qe,dt){if(!(this instanceof M))return new M(ee,xe,Te,Fe,Qe,dt);isNaN(ee)&&(ee=1),isNaN(xe)&&(xe=0),isNaN(Te)&&(Te=0),isNaN(Fe)&&(Fe=1),isNaN(Qe)&&(Qe=0),isNaN(dt)&&(dt=0),this._matrix=[ee,xe,Te,Fe,Qe,dt]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(M)},Wt.prototype.multiply=function(M){var ee=M.sx*this.sx+M.shy*this.shx,xe=M.sx*this.shy+M.shy*this.sy,Te=M.shx*this.sx+M.sy*this.shx,Fe=M.shx*this.shy+M.sy*this.sy,Qe=M.tx*this.sx+M.ty*this.shx+this.tx,dt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Wt(ee,xe,Te,Fe,Qe,dt)},Wt.prototype.decompose=function(){var M=this.sx,ee=this.shy,xe=this.shx,Te=this.sy,Fe=this.tx,Qe=this.ty,dt=Math.sqrt(M*M+ee*ee),Et=(M/=dt)*xe+(ee/=dt)*Te;xe-=M*Et,Te-=ee*Et;var Gt=Math.sqrt(xe*xe+Te*Te);return Et/=Gt,M*(Te/=Gt)<ee*(xe/=Gt)&&(M=-M,ee=-ee,Et=-Et,dt=-dt),{scale:new Wt(dt,0,0,Gt,0,0),translate:new Wt(1,0,0,1,Fe,Qe),rotate:new Wt(M,ee,-ee,M,0,0),skew:new Wt(1,0,Et,1,0,0)}},Wt.prototype.toString=function(M){return this.join(" ")},Wt.prototype.inversed=function(){var M=this.sx,ee=this.shy,xe=this.shx,Te=this.sy,Fe=this.tx,Qe=this.ty,dt=1/(M*Te-ee*xe),Et=Te*dt,Gt=-ee*dt,hr=-xe*dt,xr=M*dt;return new Wt(Et,Gt,hr,xr,-Et*Fe-hr*Qe,-Gt*Fe-xr*Qe)},Wt.prototype.applyToPoint=function(M){var ee=M.x*this.sx+M.y*this.shx+this.tx,xe=M.x*this.shy+M.y*this.sy+this.ty;return new uu(ee,xe)},Wt.prototype.applyToRectangle=function(M){var ee=this.applyToPoint(M),xe=this.applyToPoint(new uu(M.x+M.w,M.y+M.h));return new q0(ee.x,ee.y,xe.x-ee.x,xe.y-ee.y)},Wt.prototype.clone=function(){var M=this.sx,ee=this.shy,xe=this.shx,Te=this.sy,Fe=this.tx,Qe=this.ty;return new Wt(M,ee,xe,Te,Fe,Qe)},d.Matrix=Wt;var vs=d.matrixMult=function(M,ee){return ee.multiply(M)},Un=new Wt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Un;var fn=function(M,ee){if(!rs[M]){var xe=(ee instanceof Mc?"Sh":"P")+(Object.keys(pr).length+1).toString(10);ee.id=xe,rs[M]=xe,pr[xe]=ee,vr.publish("addPattern",ee)}};d.ShadingPattern=Mc,d.TilingPattern=Uu,d.addShadingPattern=function(M,ee){return O("addShadingPattern()"),fn(M,ee),this},d.beginTilingPattern=function(M){O("beginTilingPattern()"),xd(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},d.endTilingPattern=function(M,ee){O("endTilingPattern()"),ee.stream=Ae[Y].join(`
`),fn(M,ee),vr.publish("endTilingPattern",ee),$s.pop().restore()};var nn=d.__private__.newObject=function(){var M=Vr();return dn(M,!0),M},Vr=d.__private__.newObjectDeferred=function(){return K++,W[K]=function(){return be},K},dn=function(M,ee){return ee=typeof ee=="boolean"&&ee,W[M]=be,ee&&ve(M+" 0 obj"),M},ti=d.__private__.newAdditionalObject=function(){var M={objId:Vr(),content:""};return Ne.push(M),M},Wn=Vr(),bn=Vr(),Yn=d.__private__.decodeColorString=function(M){var ee=M.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var xe=parseFloat(ee[0]);ee=[xe,xe,xe,"r"]}for(var Te="#",Fe=0;Fe<3;Fe++)Te+=("0"+Math.floor(255*parseFloat(ee[Fe])).toString(16)).slice(-2);return Te},ys=d.__private__.encodeColorString=function(M){var ee;typeof M=="string"&&(M={ch1:M});var xe=M.ch1,Te=M.ch2,Fe=M.ch3,Qe=M.ch4,dt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var Et=new i9(xe);if(Et.ok)xe=Et.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var Gt=parseInt(xe.substr(1),16);xe=Gt>>16&255,Te=Gt>>8&255,Fe=255&Gt}if(Te===void 0||Qe===void 0&&xe===Te&&Te===Fe)if(typeof xe=="string")ee=xe+" "+dt[0];else switch(M.precision){case 2:ee=Q(xe/255)+" "+dt[0];break;case 3:default:ee=E(xe/255)+" "+dt[0]}else if(Qe===void 0||Xr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return ee=["1.","1.","1.",dt[1]].join(" ");if(typeof xe=="string")ee=[xe,Te,Fe,dt[1]].join(" ");else switch(M.precision){case 2:ee=[Q(xe/255),Q(Te/255),Q(Fe/255),dt[1]].join(" ");break;default:case 3:ee=[E(xe/255),E(Te/255),E(Fe/255),dt[1]].join(" ")}}else if(typeof xe=="string")ee=[xe,Te,Fe,Qe,dt[2]].join(" ");else switch(M.precision){case 2:ee=[Q(xe),Q(Te),Q(Fe),Q(Qe),dt[2]].join(" ");break;case 3:default:ee=[E(xe),E(Te),E(Fe),E(Qe),dt[2]].join(" ")}return ee},Qr=d.__private__.getFilters=function(){return o},Sr=d.__private__.putStream=function(M){var ee=(M=M||{}).data||"",xe=M.filters||Qr(),Te=M.alreadyAppliedFilters||[],Fe=M.addLength1||!1,Qe=ee.length,dt=M.objectId,Et=function(Bs){return Bs};if(u!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Et=ws.encryptor(dt,0));var Gt={};xe===!0&&(xe=["FlateEncode"]);var hr=M.additionalKeyValues||[],xr=(Gt=nr.API.processDataByFilters!==void 0?nr.API.processDataByFilters(ee,xe):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(Gt.data.length!==0&&(hr.push({key:"Length",value:Gt.data.length}),Fe===!0&&hr.push({key:"Length1",value:Qe})),xr.length!=0)if(xr.split("/").length-1==1)hr.push({key:"Filter",value:xr});else{hr.push({key:"Filter",value:"["+xr+"]"});for(var $r=0;$r<hr.length;$r+=1)if(hr[$r].key==="DecodeParms"){for(var On=[],Fn=0;Fn<Gt.reverseChain.split("/").length-1;Fn+=1)On.push("null");On.push(hr[$r].value),hr[$r].value="["+On.join(" ")+"]"}}ve("<<");for(var ss=0;ss<hr.length;ss++)ve("/"+hr[ss].key+" "+hr[ss].value);ve(">>"),Gt.data.length!==0&&(ve("stream"),ve(Et(Gt.data)),ve("endstream"))},Rs=d.__private__.putPage=function(M){var ee=M.number,xe=M.data,Te=M.objId,Fe=M.contentsObjId;dn(Te,!0),ve("<</Type /Page"),ve("/Parent "+M.rootDictionaryObjId+" 0 R"),ve("/Resources "+M.resourceDictionaryObjId+" 0 R"),ve("/MediaBox ["+parseFloat(T(M.mediaBox.bottomLeftX))+" "+parseFloat(T(M.mediaBox.bottomLeftY))+" "+T(M.mediaBox.topRightX)+" "+T(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&ve("/CropBox ["+T(M.cropBox.bottomLeftX)+" "+T(M.cropBox.bottomLeftY)+" "+T(M.cropBox.topRightX)+" "+T(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&ve("/BleedBox ["+T(M.bleedBox.bottomLeftX)+" "+T(M.bleedBox.bottomLeftY)+" "+T(M.bleedBox.topRightX)+" "+T(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&ve("/TrimBox ["+T(M.trimBox.bottomLeftX)+" "+T(M.trimBox.bottomLeftY)+" "+T(M.trimBox.topRightX)+" "+T(M.trimBox.topRightY)+"]"),M.artBox!==null&&ve("/ArtBox ["+T(M.artBox.bottomLeftX)+" "+T(M.artBox.bottomLeftY)+" "+T(M.artBox.topRightX)+" "+T(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&ve("/UserUnit "+M.userUnit),vr.publish("putPage",{objId:Te,pageContext:Yt[ee],pageNumber:ee,page:xe}),ve("/Contents "+Fe+" 0 R"),ve(">>"),ve("endobj");var Qe=xe.join(`
`);return k===_.ADVANCED&&(Qe+=`
Q`),dn(Fe,!0),Sr({data:Qe,filters:Qr(),objectId:Fe}),ve("endobj"),Te},hi=d.__private__.putPages=function(){var M,ee,xe=[];for(M=1;M<=Tr;M++)Yt[M].objId=Vr(),Yt[M].contentsObjId=Vr();for(M=1;M<=Tr;M++)xe.push(Rs({number:M,data:Ae[M],objId:Yt[M].objId,contentsObjId:Yt[M].contentsObjId,mediaBox:Yt[M].mediaBox,cropBox:Yt[M].cropBox,bleedBox:Yt[M].bleedBox,trimBox:Yt[M].trimBox,artBox:Yt[M].artBox,userUnit:Yt[M].userUnit,rootDictionaryObjId:Wn,resourceDictionaryObjId:bn}));dn(Wn,!0),ve("<</Type /Pages");var Te="/Kids [";for(ee=0;ee<Tr;ee++)Te+=xe[ee]+" 0 R ";ve(Te+"]"),ve("/Count "+Tr),ve(">>"),ve("endobj"),vr.publish("postPutPages")},kt=function(M){vr.publish("putFont",{font:M,out:ve,newObject:nn,putStream:Sr}),M.isAlreadyPutted!==!0&&(M.objectNumber=nn(),ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+ju(M.postScriptName)),ve("/Subtype /Type1"),typeof M.encoding=="string"&&ve("/Encoding /"+M.encoding),ve("/FirstChar 32"),ve("/LastChar 255"),ve(">>"),ve("endobj"))},Jt=function(){for(var M in kr)kr.hasOwnProperty(M)&&(f===!1||f===!0&&h.hasOwnProperty(M))&&kt(kr[M])},jr=function(M){M.objectNumber=nn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[T(M.x),T(M.y),T(M.x+M.width),T(M.y+M.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var xe=M.pages[1].join(`
`);Sr({data:xe,additionalKeyValues:ee,objectId:M.objectNumber}),ve("endobj")},$i=function(){for(var M in Yr)Yr.hasOwnProperty(M)&&jr(Yr[M])},co=function(M,ee){var xe,Te=[],Fe=1/(ee-1);for(xe=0;xe<1;xe+=Fe)Te.push(xe);if(Te.push(1),M[0].offset!=0){var Qe={offset:0,color:M[0].color};M.unshift(Qe)}if(M[M.length-1].offset!=1){var dt={offset:1,color:M[M.length-1].color};M.push(dt)}for(var Et="",Gt=0,hr=0;hr<Te.length;hr++){for(xe=Te[hr];xe>M[Gt+1].offset;)Gt++;var xr=M[Gt].offset,$r=(xe-xr)/(M[Gt+1].offset-xr),On=M[Gt].color,Fn=M[Gt+1].color;Et+=X(Math.round((1-$r)*On[0]+$r*Fn[0]).toString(16))+X(Math.round((1-$r)*On[1]+$r*Fn[1]).toString(16))+X(Math.round((1-$r)*On[2]+$r*Fn[2]).toString(16))}return Et.trim()},Ho=function(M,ee){ee||(ee=21);var xe=nn(),Te=co(M.colors,ee),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+ee+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sr({data:Te,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),ve("endobj"),M.objectNumber=nn(),ve("<< /ShadingType "+M.type),ve("/ColorSpace /DeviceRGB");var Qe="/Coords ["+T(parseFloat(M.coords[0]))+" "+T(parseFloat(M.coords[1]))+" ";M.type===2?Qe+=T(parseFloat(M.coords[2]))+" "+T(parseFloat(M.coords[3])):Qe+=T(parseFloat(M.coords[2]))+" "+T(parseFloat(M.coords[3]))+" "+T(parseFloat(M.coords[4]))+" "+T(parseFloat(M.coords[5])),ve(Qe+="]"),M.matrix&&ve("/Matrix ["+M.matrix.toString()+"]"),ve("/Function "+xe+" 0 R"),ve("/Extend [true true]"),ve(">>"),ve("endobj")},Ge=function(M,ee){var xe=Vr(),Te=nn();ee.push({resourcesOid:xe,objectOid:Te}),M.objectNumber=Te;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+M.boundingBox.map(T).join(" ")+"]"}),Fe.push({key:"XStep",value:T(M.xStep)}),Fe.push({key:"YStep",value:T(M.yStep)}),Fe.push({key:"Resources",value:xe+" 0 R"}),M.matrix&&Fe.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Sr({data:M.stream,additionalKeyValues:Fe,objectId:M.objectNumber}),ve("endobj")},Vt=function(M){var ee;for(ee in pr)pr.hasOwnProperty(ee)&&(pr[ee]instanceof Mc?Ho(pr[ee]):pr[ee]instanceof Uu&&Ge(pr[ee],M))},Qn=function(M){for(var ee in M.objectNumber=nn(),ve("<<"),M)switch(ee){case"opacity":ve("/ca "+Q(M[ee]));break;case"stroke-opacity":ve("/CA "+Q(M[ee]))}ve(">>"),ve("endobj")},pi=function(){var M;for(M in Lr)Lr.hasOwnProperty(M)&&Qn(Lr[M])},Cn=function(){for(var M in ve("/XObject <<"),Yr)Yr.hasOwnProperty(M)&&Yr[M].objectNumber>=0&&ve("/"+M+" "+Yr[M].objectNumber+" 0 R");vr.publish("putXobjectDict"),ve(">>")},ri=function(){ws.oid=nn(),ve("<<"),ve("/Filter /Standard"),ve("/V "+ws.v),ve("/R "+ws.r),ve("/U <"+ws.toHexString(ws.U)+">"),ve("/O <"+ws.toHexString(ws.O)+">"),ve("/P "+ws.P),ve(">>"),ve("endobj")},Zc=function(){for(var M in ve("/Font <<"),kr)kr.hasOwnProperty(M)&&(f===!1||f===!0&&h.hasOwnProperty(M))&&ve("/"+M+" "+kr[M].objectNumber+" 0 R");ve(">>")},P0=function(){if(Object.keys(pr).length>0){for(var M in ve("/Shading <<"),pr)pr.hasOwnProperty(M)&&pr[M]instanceof Mc&&pr[M].objectNumber>=0&&ve("/"+M+" "+pr[M].objectNumber+" 0 R");vr.publish("putShadingPatternDict"),ve(">>")}},il=function(M){if(Object.keys(pr).length>0){for(var ee in ve("/Pattern <<"),pr)pr.hasOwnProperty(ee)&&pr[ee]instanceof d.TilingPattern&&pr[ee].objectNumber>=0&&pr[ee].objectNumber<M&&ve("/"+ee+" "+pr[ee].objectNumber+" 0 R");vr.publish("putTilingPatternDict"),ve(">>")}},D0=function(){if(Object.keys(Lr).length>0){var M;for(M in ve("/ExtGState <<"),Lr)Lr.hasOwnProperty(M)&&Lr[M].objectNumber>=0&&ve("/"+M+" "+Lr[M].objectNumber+" 0 R");vr.publish("putGStateDict"),ve(">>")}},Ln=function(M){dn(M.resourcesOid,!0),ve("<<"),ve("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zc(),P0(),il(M.objectOid),D0(),Cn(),ve(">>"),ve("endobj")},eu=function(){var M=[];Jt(),pi(),$i(),Vt(M),vr.publish("putResources"),M.forEach(Ln),Ln({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),vr.publish("postPutResources")},ka=function(){vr.publish("putAdditionalObjects");for(var M=0;M<Ne.length;M++){var ee=Ne[M];dn(ee.objId,!0),ve(ee.content),ve("endobj")}vr.publish("postPutAdditionalObjects")},tu=function(M){Er[M.fontName]=Er[M.fontName]||{},Er[M.fontName][M.fontStyle]=M.id},uo=function(M,ee,xe,Te,Fe){var Qe={id:"F"+(Object.keys(kr).length+1).toString(10),postScriptName:M,fontName:ee,fontStyle:xe,encoding:Te,isStandardFont:Fe||!1,metadata:{}};return vr.publish("addFont",{font:Qe,instance:this}),kr[Qe.id]=Qe,tu(Qe),Qe.id},ru=function(M){for(var ee=0,xe=_e.length;ee<xe;ee++){var Te=uo.call(this,M[ee][0],M[ee][1],M[ee][2],_e[ee][3],!0);f===!1&&(h[Te]=!0);var Fe=M[ee][0].split("-");tu({id:Te,fontName:Fe[0],fontStyle:Fe[1]||""})}vr.publish("addFonts",{fonts:kr,dictionary:Er})},mi=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Te){var ee=Te.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var xe="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Te.message;if(!sr.console)throw new Error(xe);sr.console.error(xe,Te),sr.alert&&alert(xe)}},M.foo.bar=M,M.foo},ol=function(M,ee){var xe,Te,Fe,Qe,dt,Et,Gt,hr,xr;if(Fe=(ee=ee||{}).sourceEncoding||"Unicode",dt=ee.outputEncoding,(ee.autoencode||dt)&&kr[Ft].metadata&&kr[Ft].metadata[Fe]&&kr[Ft].metadata[Fe].encoding&&(Qe=kr[Ft].metadata[Fe].encoding,!dt&&kr[Ft].encoding&&(dt=kr[Ft].encoding),!dt&&Qe.codePages&&(dt=Qe.codePages[0]),typeof dt=="string"&&(dt=Qe[dt]),dt)){for(Gt=!1,Et=[],xe=0,Te=M.length;xe<Te;xe++)(hr=dt[M.charCodeAt(xe)])?Et.push(String.fromCharCode(hr)):Et.push(M[xe]),Et[xe].charCodeAt(0)>>8&&(Gt=!0);M=Et.join("")}for(xe=M.length;Gt===void 0&&xe!==0;)M.charCodeAt(xe-1)>>8&&(Gt=!0),xe--;if(!Gt)return M;for(Et=ee.noBOM?[]:[254,255],xe=0,Te=M.length;xe<Te;xe++){if((xr=(hr=M.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(xr),Et.push(hr-(xr<<8))}return String.fromCharCode.apply(void 0,Et)},Fs=d.__private__.pdfEscape=d.pdfEscape=function(M,ee){return ol(M,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fc=d.__private__.beginPage=function(M){Ae[++Tr]=[],Yt[Tr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},iu(Tr),Le(Ae[Y])},nu=function(M,ee){var xe,Te,Fe;switch(t=ee||t,typeof M=="string"&&(xe=v(M.toLowerCase()),Array.isArray(xe)&&(Te=xe[0],Fe=xe[1])),Array.isArray(M)&&(Te=M[0]*st,Fe=M[1]*st),isNaN(Te)&&(Te=s[0],Fe=s[1]),(Te>14400||Fe>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Fe=Math.min(14400,Fe)),s=[Te,Fe],t.substr(0,1)){case"l":Fe>Te&&(s=[Fe,Te]);break;case"p":Te>Fe&&(s=[Fe,Te])}fc(s),lr(Lt),ve(An),Vo!==0&&ve(Vo+" J"),Uo!==0&&ve(Uo+" j"),vr.publish("addPage",{pageNumber:Tr})},su=function(M){M>0&&M<=Tr&&(Ae.splice(M,1),Yt.splice(M,1),Tr--,Y>Tr&&(Y=Tr),this.setPage(Y))},iu=function(M){M>0&&M<=Tr&&(Y=M)},R0=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ae.length-1},dc=function(M,ee,xe){var Te,Fe=void 0;return xe=xe||{},M=M!==void 0?M:kr[Ft].fontName,ee=ee!==void 0?ee:kr[Ft].fontStyle,Te=M.toLowerCase(),Er[Te]!==void 0&&Er[Te][ee]!==void 0?Fe=Er[Te][ee]:Er[M]!==void 0&&Er[M][ee]!==void 0?Fe=Er[M][ee]:xe.disableWarning===!1&&an.warn("Unable to look up font label for font '"+M+"', '"+ee+"'. Refer to getFontList() for available fonts."),Fe||xe.noFallback||(Fe=Er.times[ee])==null&&(Fe=Er.times.normal),Fe},al=d.__private__.putInfo=function(){var M=nn(),ee=function(Te){return Te};for(var xe in u!==null&&(ee=ws.encryptor(M,0)),ve("<<"),ve("/Producer ("+Fs(ee("jsPDF "+nr.version))+")"),Pt)Pt.hasOwnProperty(xe)&&Pt[xe]&&ve("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+Fs(ee(Pt[xe]))+")");ve("/CreationDate ("+Fs(ee(ne))+")"),ve(">>"),ve("endobj")},Vi=d.__private__.putCatalog=function(M){var ee=(M=M||{}).rootDictionaryObjId||Wn;switch(nn(),ve("<<"),ve("/Type /Catalog"),ve("/Pages "+ee+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":ve("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ve("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ve("/OpenAction [3 0 R /Fit]");break;case"original":ve("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+je;xe.substr(xe.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&ve("/OpenAction [3 0 R /XYZ null null "+Q(je)+"]")}switch(at||(at="continuous"),at){case"continuous":ve("/PageLayout /OneColumn");break;case"single":ve("/PageLayout /SinglePage");break;case"two":case"twoleft":ve("/PageLayout /TwoColumnLeft");break;case"tworight":ve("/PageLayout /TwoColumnRight")}wt&&ve("/PageMode /"+wt),vr.publish("putCatalog"),ve(">>"),ve("endobj")},F0=d.__private__.putTrailer=function(){ve("trailer"),ve("<<"),ve("/Size "+(K+1)),ve("/Root "+K+" 0 R"),ve("/Info "+(K-1)+" 0 R"),u!==null&&ve("/Encrypt "+ws.oid+" 0 R"),ve("/ID [ <"+G+"> <"+G+"> ]"),ve(">>")},j0=d.__private__.putHeader=function(){ve("%PDF-"+p),ve("%ºß¬à")},Ui=d.__private__.putXRef=function(){var M="0000000000";ve("xref"),ve("0 "+(K+1)),ve("0000000000 65535 f ");for(var ee=1;ee<=K;ee++)typeof W[ee]=="function"?ve((M+W[ee]()).slice(-10)+" 00000 n "):W[ee]!==void 0?ve((M+W[ee]).slice(-10)+" 00000 n "):ve("0000000000 00000 n ")},fo=d.__private__.buildDocument=function(){Ee(),Le(pe),vr.publish("buildDocument"),j0(),hi(),ka(),eu(),u!==null&&ri(),al(),Vi();var M=be;return Ui(),F0(),ve("startxref"),ve(""+M),ve("%%EOF"),Le(Ae[Y]),pe.join(`
`)},ll=d.__private__.getBlob=function(M){return new Blob([nt(M)],{type:"application/pdf"})},cl=d.output=d.__private__.output=mi(function(M,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",M){case void 0:return fo();case"save":d.save(ee.filename);break;case"arraybuffer":return nt(fo());case"blob":return ll(fo());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(ll(fo()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Te=fo();try{xe=x2(Te)}catch{xe=x2(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ee.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Fe=ee.pdfObjectUrl,Qe="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Et=sr.open();return Et!==null&&Et.document.write(dt),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',hr=sr.open();if(hr!==null){hr.document.write(Gt);var xr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=ee.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',On=sr.open();if(On!==null&&(On.document.write($r),On.document.title=ee.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",ee);default:return null}}),ou=function(M){return Array.isArray(Ds)===!0&&Ds.indexOf(M)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=ou("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var ws=null;B(),q();var ho=function(M){return u!==null?ws.encryptor(M,0):function(ee){return ee}},hc=d.__private__.getPageInfo=d.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[M].objId,pageNumber:M,pageContext:Yt[M]}},ar=d.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Yt)if(Yt[ee].objId===M)break;return hc(ee)},ul=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Yt[Y].objId,pageNumber:Y,pageContext:Yt[Y]}};d.addPage=function(){return nu.apply(this,arguments),this},d.setPage=function(){return iu.apply(this,arguments),Le.call(this,Ae[Y]),this},d.insertPage=function(M){return this.addPage(),this.movePage(Y,M),this},d.movePage=function(M,ee){var xe,Te;if(M>ee){xe=Ae[M],Te=Yt[M];for(var Fe=M;Fe>ee;Fe--)Ae[Fe]=Ae[Fe-1],Yt[Fe]=Yt[Fe-1];Ae[ee]=xe,Yt[ee]=Te,this.setPage(ee)}else if(M<ee){xe=Ae[M],Te=Yt[M];for(var Qe=M;Qe<ee;Qe++)Ae[Qe]=Ae[Qe+1],Yt[Qe]=Yt[Qe+1];Ae[ee]=xe,Yt[ee]=Te,this.setPage(ee)}return this},d.deletePage=function(){return su.apply(this,arguments),this},d.__private__.text=d.text=function(M,ee,xe,Te,Fe){var Qe,dt,Et,Gt,hr,xr,$r,On,Fn,ss=(Te=Te||{}).scope||this;if(typeof M=="number"&&typeof ee=="number"&&(typeof xe=="string"||Array.isArray(xe))){var Bs=xe;xe=ee,ee=M,M=Bs}if(arguments[3]instanceof Wt?(O("The transform parameter of text() with a Matrix value"),Fn=Fe):(Et=arguments[4],Gt=arguments[5],Xr($r=arguments[3])==="object"&&$r!==null||(typeof Et=="string"&&(Gt=Et,Et=null),typeof $r=="string"&&(Gt=$r,$r=null),typeof $r=="number"&&(Et=$r,$r=null),Te={flags:$r,angle:Et,align:Gt})),isNaN(ee)||isNaN(xe)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return ss;var xs="",po=!1,Ii=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Ze,Na=ss.internal.scaleFactor;function kd(hn){return hn=hn.split("	").join(Array(Te.TabLen||9).join(" ")),Fs(hn,$r)}function W0(hn){for(var pn,Gn=hn.concat(),ds=[],$a=Gn.length;$a--;)typeof(pn=Gn.shift())=="string"?ds.push(pn):Array.isArray(hn)&&(pn.length===1||pn[1]===void 0&&pn[2]===void 0)?ds.push(pn[0]):ds.push([pn[0],pn[1],pn[2]]);return ds}function Y0(hn,pn){var Gn;if(typeof hn=="string")Gn=pn(hn)[0];else if(Array.isArray(hn)){for(var ds,$a,bl=hn.concat(),wu=[],Ad=bl.length;Ad--;)typeof(ds=bl.shift())=="string"?wu.push(pn(ds)[0]):Array.isArray(ds)&&typeof ds[0]=="string"&&($a=pn(ds[0],ds[1],ds[2]),wu.push([$a[0],$a[1],$a[2]]));Gn=wu}return Gn}var du=!1,Q0=!0;if(typeof M=="string")du=!0;else if(Array.isArray(M)){var G0=M.concat();dt=[];for(var hu,vi=G0.length;vi--;)(typeof(hu=G0.shift())!="string"||Array.isArray(hu)&&typeof hu[0]!="string")&&(Q0=!1);du=Q0}if(du===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var pu=Re/ss.internal.scaleFactor,mu=pu*(Ii-1);switch(Te.baseline){case"bottom":xe-=mu;break;case"top":xe+=pu-mu;break;case"hanging":xe+=pu-2*mu;break;case"middle":xe+=pu/2-mu}if((xr=Te.maxWidth||0)>0&&(typeof M=="string"?M=ss.splitTextToSize(M,xr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(hn,pn){return hn.concat(ss.splitTextToSize(pn,xr))},[]))),Qe={text:M,x:ee,y:xe,options:Te,mutex:{pdfEscape:Fs,activeFontKey:Ft,fonts:kr,activeFontSize:Re}},vr.publish("preProcessText",Qe),M=Qe.text,Et=(Te=Qe.options).angle,!(Fn instanceof Wt)&&Et&&typeof Et=="number"){Et*=Math.PI/180,Te.rotationDirection===0&&(Et=-Et),k===_.ADVANCED&&(Et=-Et);var gu=Math.cos(Et),J0=Math.sin(Et);Fn=new Wt(gu,J0,-J0,gu,0,0)}else Et&&Et instanceof Wt&&(Fn=Et);k!==_.ADVANCED||Fn||(Fn=Un),(hr=Te.charSpace||bi)!==void 0&&(xs+=T(j(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=Te.horizontalScale)!==void 0&&(xs+=T(100*On)+` Tz
`),Te.lang;var yi=-1,bp=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,K0=ss.internal.getCurrentPageInfo().pageContext;switch(bp){case 0:case!1:case"fill":yi=0;break;case 1:case!0:case"stroke":yi=1;break;case 2:case"fillThenStroke":yi=2;break;case 3:case"invisible":yi=3;break;case 4:case"fillAndAddForClipping":yi=4;break;case 5:case"strokeAndAddPathForClipping":yi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":yi=6;break;case 7:case"addToPathForClipping":yi=7}var Sd=K0.usedRenderingMode!==void 0?K0.usedRenderingMode:-1;yi!==-1?xs+=yi+` Tr
`:Sd!==-1&&(xs+=`0 Tr
`),yi!==-1&&(K0.usedRenderingMode=yi),Gt=Te.align||"left";var mo,X0=Re*Ii,vp=ss.internal.pageSize.getWidth(),yp=kr[Ft];hr=Te.charSpace||bi,xr=Te.maxWidth||0,$r=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var hl=[];if(Object.prototype.toString.call(M)==="[object Array]"){var Wi;dt=W0(M),Gt!=="left"&&(mo=dt.map(function(hn){return ss.getStringUnitWidth(hn,{font:yp,charSpace:hr,fontSize:Re,doKerning:!1})*Re/Na}));var go,pl=0;if(Gt==="right"){ee-=mo[0],M=[],vi=dt.length;for(var Wo=0;Wo<vi;Wo++)Wo===0?(go=Pr(ee),Wi=Rn(xe)):(go=j(pl-mo[Wo]),Wi=-X0),M.push([dt[Wo],go,Wi]),pl=mo[Wo]}else if(Gt==="center"){ee-=mo[0]/2,M=[],vi=dt.length;for(var Ma=0;Ma<vi;Ma++)Ma===0?(go=Pr(ee),Wi=Rn(xe)):(go=j((pl-mo[Ma])/2),Wi=-X0),M.push([dt[Ma],go,Wi]),pl=mo[Ma]}else if(Gt==="left"){M=[],vi=dt.length;for(var bu=0;bu<vi;bu++)M.push(dt[bu])}else{if(Gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');M=[],vi=dt.length,xr=xr!==0?xr:vp;for(var bo=0;bo<vi;bo++)Wi=bo===0?Rn(xe):-X0,go=bo===0?Pr(ee):0,bo<vi-1?hl.push(T(j((xr-mo[bo])/(dt[bo].split(" ").length-1)))):hl.push(0),M.push([dt[bo],go,Wi])}}var vu=typeof Te.R2L=="boolean"?Te.R2L:yt;vu===!0&&(M=Y0(M,function(hn,pn,Gn){return[hn.split("").reverse().join(""),pn,Gn]})),Qe={text:M,x:ee,y:xe,options:Te,mutex:{pdfEscape:Fs,activeFontKey:Ft,fonts:kr,activeFontSize:Re}},vr.publish("postProcessText",Qe),M=Qe.text,po=Qe.mutex.isHex||!1;var Z0=kr[Ft].encoding;Z0!=="WinAnsiEncoding"&&Z0!=="StandardEncoding"||(M=Y0(M,function(hn,pn,Gn){return[kd(hn),pn,Gn]})),dt=W0(M),M=[];for(var ml,vo,Ca,bc=0,yu=1,vc=Array.isArray(dt[0])?yu:bc,gl="",ef=function(hn,pn,Gn){var ds="";return Gn instanceof Wt?(Gn=typeof Te.angle=="number"?vs(Gn,new Wt(1,0,0,1,hn,pn)):vs(new Wt(1,0,0,1,hn,pn),Gn),k===_.ADVANCED&&(Gn=vs(new Wt(1,0,0,-1,0,0),Gn)),ds=Gn.join(" ")+` Tm
`):ds=T(hn)+" "+T(pn)+` Td
`,ds},Yi=0;Yi<dt.length;Yi++){switch(gl="",vc){case yu:Ca=(po?"<":"(")+dt[Yi][0]+(po?">":")"),ml=parseFloat(dt[Yi][1]),vo=parseFloat(dt[Yi][2]);break;case bc:Ca=(po?"<":"(")+dt[Yi]+(po?">":")"),ml=Pr(ee),vo=Rn(xe)}hl!==void 0&&hl[Yi]!==void 0&&(gl=hl[Yi]+` Tw
`),Yi===0?M.push(gl+ef(ml,vo,Fn)+Ca):vc===bc?M.push(gl+Ca):vc===yu&&M.push(gl+ef(ml,vo,Fn)+Ca)}M=vc===bc?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var La=`BT
/`;return La+=Ft+" "+Re+` Tf
`,La+=T(Re*Ii)+` TL
`,La+=js+`
`,La+=xs,La+=M,ve(La+="ET"),h[Ft]=!0,ss};var B0=d.__private__.clip=d.clip=function(M){return ve(M==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return B0("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ve("n"),this};var gi=d.__private__.isValidStyle=function(M){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ee=!0),ee};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(M){return gi(M)&&(c=M),this};var au=d.__private__.getStyle=d.getStyle=function(M){var ee=c;switch(M){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=M}return ee},pc=d.close=function(){return ve("h"),this};d.stroke=function(){return ve("S"),this},d.fill=function(M){return Sa("f",M),this},d.fillEvenOdd=function(M){return Sa("f*",M),this},d.fillStroke=function(M){return Sa("B",M),this},d.fillStrokeEvenOdd=function(M){return Sa("B*",M),this};var Sa=function(M,ee){Xr(ee)==="object"?lu(ee,M):ve(M)},fl=function(M){M===null||k===_.ADVANCED&&M===void 0||(M=au(M),ve(M))};function Aa(M,ee,xe,Te,Fe){var Qe=new Uu(ee||this.boundingBox,xe||this.xStep,Te||this.yStep,this.gState,Fe||this.matrix);Qe.stream=this.stream;var dt=M+"$$"+this.cloneIndex+++"$$";return fn(dt,Qe),Qe}var lu=function(M,ee){var xe=rs[M.key],Te=pr[xe];if(Te instanceof Mc)ve("q"),ve(z0(ee)),Te.gState&&d.setGState(Te.gState),ve(M.matrix.toString()+" cm"),ve("/"+xe+" sh"),ve("Q");else if(Te instanceof Uu){var Fe=new Wt(1,0,0,-1,0,dl());M.matrix&&(Fe=Fe.multiply(M.matrix||Un),xe=Aa.call(Te,M.key,M.boundingBox,M.xStep,M.yStep,Fe).id),ve("q"),ve("/Pattern cs"),ve("/"+xe+" scn"),Te.gState&&d.setGState(Te.gState),ve(ee),ve("Q")}},z0=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mc=d.moveTo=function(M,ee){return ve(T(j(M))+" "+T(U(ee))+" m"),this},Ta=d.lineTo=function(M,ee){return ve(T(j(M))+" "+T(U(ee))+" l"),this},we=d.curveTo=function(M,ee,xe,Te,Fe,Qe){return ve([T(j(M)),T(U(ee)),T(j(xe)),T(U(Te)),T(j(Fe)),T(U(Qe)),"c"].join(" ")),this};d.__private__.line=d.line=function(M,ee,xe,Te,Fe){if(isNaN(M)||isNaN(ee)||isNaN(xe)||isNaN(Te)||!gi(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return k===_.COMPAT?this.lines([[xe-M,Te-ee]],M,ee,[1,1],Fe||"S"):this.lines([[xe-M,Te-ee]],M,ee,[1,1]).stroke()},d.__private__.lines=d.lines=function(M,ee,xe,Te,Fe,Qe){var dt,Et,Gt,hr,xr,$r,On,Fn,ss,Bs,xs,po;if(typeof M=="number"&&(po=xe,xe=ee,ee=M,M=po),Te=Te||[1,1],Qe=Qe||!1,isNaN(ee)||isNaN(xe)||!Array.isArray(M)||!Array.isArray(Te)||!gi(Fe)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mc(ee,xe),dt=Te[0],Et=Te[1],hr=M.length,Bs=ee,xs=xe,Gt=0;Gt<hr;Gt++)(xr=M[Gt]).length===2?(Bs=xr[0]*dt+Bs,xs=xr[1]*Et+xs,Ta(Bs,xs)):($r=xr[0]*dt+Bs,On=xr[1]*Et+xs,Fn=xr[2]*dt+Bs,ss=xr[3]*Et+xs,Bs=xr[4]*dt+Bs,xs=xr[5]*Et+xs,we($r,On,Fn,ss,Bs,xs));return Qe&&pc(),fl(Fe),this},d.path=function(M){for(var ee=0;ee<M.length;ee++){var xe=M[ee],Te=xe.c;switch(xe.op){case"m":mc(Te[0],Te[1]);break;case"l":Ta(Te[0],Te[1]);break;case"c":we.apply(this,Te);break;case"h":pc()}}return this},d.__private__.rect=d.rect=function(M,ee,xe,Te,Fe){if(isNaN(M)||isNaN(ee)||isNaN(xe)||isNaN(Te)||!gi(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===_.COMPAT&&(Te=-Te),ve([T(j(M)),T(U(ee)),T(j(xe)),T(j(Te)),"re"].join(" ")),fl(Fe),this},d.__private__.triangle=d.triangle=function(M,ee,xe,Te,Fe,Qe,dt){if(isNaN(M)||isNaN(ee)||isNaN(xe)||isNaN(Te)||isNaN(Fe)||isNaN(Qe)||!gi(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-M,Te-ee],[Fe-xe,Qe-Te],[M-Fe,ee-Qe]],M,ee,[1,1],dt,!0),this},d.__private__.roundedRect=d.roundedRect=function(M,ee,xe,Te,Fe,Qe,dt){if(isNaN(M)||isNaN(ee)||isNaN(xe)||isNaN(Te)||isNaN(Fe)||isNaN(Qe)||!gi(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*xe),Qe=Math.min(Qe,.5*Te),this.lines([[xe-2*Fe,0],[Fe*Et,0,Fe,Qe-Qe*Et,Fe,Qe],[0,Te-2*Qe],[0,Qe*Et,-Fe*Et,Qe,-Fe,Qe],[2*Fe-xe,0],[-Fe*Et,0,-Fe,-Qe*Et,-Fe,-Qe],[0,2*Qe-Te],[0,-Qe*Et,Fe*Et,-Qe,Fe,-Qe]],M+Fe,ee,[1,1],dt,!0),this},d.__private__.ellipse=d.ellipse=function(M,ee,xe,Te,Fe){if(isNaN(M)||isNaN(ee)||isNaN(xe)||isNaN(Te)||!gi(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*xe,dt=4/3*(Math.SQRT2-1)*Te;return mc(M+xe,ee),we(M+xe,ee-dt,M+Qe,ee-Te,M,ee-Te),we(M-Qe,ee-Te,M-xe,ee-dt,M-xe,ee),we(M-xe,ee+dt,M-Qe,ee+Te,M,ee+Te),we(M+Qe,ee+Te,M+xe,ee+dt,M+xe,ee),fl(Fe),this},d.__private__.circle=d.circle=function(M,ee,xe,Te){if(isNaN(M)||isNaN(ee)||isNaN(xe)||!gi(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ee,xe,xe,Te)},d.setFont=function(M,ee,xe){return xe&&(ee=N(ee,xe)),Ft=dc(M,ee,{disableWarning:!1}),this};var Pe=d.__private__.getFont=d.getFont=function(){return kr[dc.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var M,ee,xe={};for(M in Er)if(Er.hasOwnProperty(M))for(ee in xe[M]=[],Er[M])Er[M].hasOwnProperty(ee)&&xe[M].push(ee);return xe},d.addFont=function(M,ee,xe,Te,Fe){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(xe=N(xe,Te)),Fe=Fe||"Identity-H",uo.call(this,M,ee,xe,Fe)};var Ze,Lt=r.lineWidth||.200025,Br=d.__private__.getLineWidth=d.getLineWidth=function(){return Lt},lr=d.__private__.setLineWidth=d.setLineWidth=function(M){return Lt=M,ve(T(j(M))+" w"),this};d.__private__.setLineDash=nr.API.setLineDash=nr.API.setLineDashPattern=function(M,ee){if(M=M||[],ee=ee||0,isNaN(ee)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(xe){return T(j(xe))}).join(" "),ee=T(j(ee)),ve("["+M+"] "+ee+" d"),this};var sn=d.__private__.getLineHeight=d.getLineHeight=function(){return Re*Ze};d.__private__.getLineHeight=d.getLineHeight=function(){return Re*Ze};var $n=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Ze=M),this},Dn=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ze};$n(r.lineHeight);var Pr=d.__private__.getHorizontalCoordinate=function(M){return j(M)},Rn=d.__private__.getVerticalCoordinate=function(M){return k===_.ADVANCED?M:Yt[Y].mediaBox.topRightY-Yt[Y].mediaBox.bottomLeftY-j(M)},ni=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(M){return T(Pr(M))},vn=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(M){return T(Rn(M))},An=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Yn(An)},d.__private__.setStrokeColor=d.setDrawColor=function(M,ee,xe,Te){return An=ys({ch1:M,ch2:ee,ch3:xe,ch4:Te,pdfColorType:"draw",precision:2}),ve(An),this};var _s=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Yn(_s)},d.__private__.setFillColor=d.setFillColor=function(M,ee,xe,Te){return _s=ys({ch1:M,ch2:ee,ch3:xe,ch4:Te,pdfColorType:"fill",precision:2}),ve(_s),this};var js=r.textColor||"0 g",Oi=d.__private__.getTextColor=d.getTextColor=function(){return Yn(js)};d.__private__.setTextColor=d.setTextColor=function(M,ee,xe,Te){return js=ys({ch1:M,ch2:ee,ch3:xe,ch4:Te,pdfColorType:"text",precision:3}),this};var bi=r.charSpace,cu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(bi||0)};d.__private__.setCharSpace=d.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bi=M,this};var Vo=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(M){var ee=d.CapJoinStyles[M];if(ee===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=ee,ve(ee+" J"),this};var Uo=0;d.__private__.setLineJoin=d.setLineJoin=function(M){var ee=d.CapJoinStyles[M];if(ee===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uo=ee,ve(ee+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ve(T(j(M))+" M"),this},d.GState=n1,d.setGState=function(M){(M=typeof M=="string"?Lr[bs[M]]:_d(null,M)).equals(ns)||(ve("/"+M.id+" gs"),ns=M)};var _d=function(M,ee){if(!M||!bs[M]){var xe=!1;for(var Te in Lr)if(Lr.hasOwnProperty(Te)&&Lr[Te].equals(ee)){xe=!0;break}if(xe)ee=Lr[Te];else{var Fe="GS"+(Object.keys(Lr).length+1).toString(10);Lr[Fe]=ee,ee.id=Fe}return M&&(bs[M]=ee.id),vr.publish("addGState",ee),ee}};d.addGState=function(M,ee){return _d(M,ee),this},d.saveGraphicsState=function(){return ve("q"),Mn.push({key:Ft,size:Re,color:js}),this},d.restoreGraphicsState=function(){ve("Q");var M=Mn.pop();return Ft=M.key,Re=M.size,js=M.color,ns=null,this},d.setCurrentTransformationMatrix=function(M){return ve(M.toString()+" cm"),this},d.comment=function(M){return ve("#"+M),this};var uu=function(M,ee){var xe=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Qe){isNaN(Qe)||(xe=parseFloat(Qe))}});var Te=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Qe){isNaN(Qe)||(Te=parseFloat(Qe))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Qe){Fe=Qe.toString()}}),this},q0=function(M,ee,xe,Te){uu.call(this,M,ee),this.type="rect";var Fe=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(dt){isNaN(dt)||(Fe=parseFloat(dt))}});var Qe=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(dt){isNaN(dt)||(Qe=parseFloat(dt))}}),this},H0=function(){this.page=Tr,this.currentPage=Y,this.pages=Ae.slice(0),this.pagesContext=Yt.slice(0),this.x=Cr,this.y=rr,this.matrix=fs,this.width=gc(Y),this.height=dl(Y),this.outputDestination=Me,this.id="",this.objectNumber=-1};H0.prototype.restore=function(){Tr=this.page,Y=this.currentPage,Yt=this.pagesContext,Ae=this.pages,Cr=this.x,rr=this.y,fs=this.matrix,V0(Y,this.width),U0(Y,this.height),Me=this.outputDestination};var xd=function(M,ee,xe,Te,Fe){$s.push(new H0),Tr=Y=0,Ae=[],Cr=M,rr=ee,fs=Fe,fc([xe,Te])},gp=function(M){if(un[M])$s.pop().restore();else{var ee=new H0,xe="Xo"+(Object.keys(Yr).length+1).toString(10);ee.id=xe,un[M]=xe,Yr[xe]=ee,vr.publish("addFormObject",ee),$s.pop().restore()}};for(var fu in d.beginFormObject=function(M,ee,xe,Te,Fe){return xd(M,ee,xe,Te,Fe),this},d.endFormObject=function(M){return gp(M),this},d.doFormObject=function(M,ee){var xe=Yr[un[M]];return ve("q"),ve(ee.toString()+" cm"),ve("/"+xe.id+" Do"),ve("Q"),this},d.getFormObject=function(M){var ee=Yr[un[M]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},d.save=function(M,ee){return M=M||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(Tc(ll(fo()),M),typeof Tc.unload=="function"&&sr.setTimeout&&setTimeout(Tc.unload,911),this):new Promise(function(xe,Te){try{var Fe=Tc(ll(fo()),M);typeof Tc.unload=="function"&&sr.setTimeout&&setTimeout(Tc.unload,911),xe(Fe)}catch(Qe){Te(Qe.message)}})},nr.API)nr.API.hasOwnProperty(fu)&&(fu==="events"&&nr.API.events.length?function(M,ee){var xe,Te,Fe;for(Fe=ee.length-1;Fe!==-1;Fe--)xe=ee[Fe][0],Te=ee[Fe][1],M.subscribe.apply(M,[xe].concat(typeof Te=="function"?[Te]:Te))}(vr,nr.API.events):d[fu]=nr.API[fu]);var gc=d.getPageWidth=function(M){return(Yt[M=M||Y].mediaBox.topRightX-Yt[M].mediaBox.bottomLeftX)/st},V0=d.setPageWidth=function(M,ee){Yt[M].mediaBox.topRightX=ee*st+Yt[M].mediaBox.bottomLeftX},dl=d.getPageHeight=function(M){return(Yt[M=M||Y].mediaBox.topRightY-Yt[M].mediaBox.bottomLeftY)/st},U0=d.setPageHeight=function(M,ee){Yt[M].mediaBox.topRightY=ee*st+Yt[M].mediaBox.bottomLeftY};return d.internal={pdfEscape:Fs,getStyle:au,getFont:Pe,getFontSize:Ye,getCharSpace:cu,getTextColor:Oi,getLineHeight:sn,getLineHeightFactor:Dn,getLineWidth:Br,write:Xe,getHorizontalCoordinate:Pr,getVerticalCoordinate:Rn,getCoordinateString:ni,getVerticalCoordinateString:vn,collections:{},newObject:nn,newAdditionalObject:ti,newObjectDeferred:Vr,newObjectDeferredBegin:dn,getFilters:Qr,putStream:Sr,events:vr,scaleFactor:st,pageSize:{getWidth:function(){return gc(Y)},setWidth:function(M){V0(Y,M)},getHeight:function(){return dl(Y)},setHeight:function(M){U0(Y,M)}},encryptionOptions:u,encryption:ws,getEncryptor:ho,output:cl,getNumberOfPages:R0,pages:Ae,out:ve,f2:Q,f3:E,getPageInfo:hc,getPageInfoByObjId:ar,getCurrentPageInfo:ul,getPDFVersion:g,Point:uu,Rectangle:q0,Matrix:Wt,hasHotfix:ou},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return gc(Y)},set:function(M){V0(Y,M)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return dl(Y)},set:function(M){U0(Y,M)},enumerable:!0,configurable:!0}),ru.call(d,_e),Ft="F1",nu(s,t),vr.publish("initialized"),d}Fu.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Fu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Fu.prototype.processOwnerPassword=function(r,e){return S2(k2(e).substr(0,5),r)},Fu.prototype.encryptor=function(r,e){var t=k2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return S2(t,n)}},n1.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Xr(r)!==Xr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},nr.API={events:[]},nr.version="2.5.1";var Bn=nr.API,Gg=1,Kc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(r){return r.toFixed(2)},Ml=function(r){return r.toFixed(5)};Bn.__acroform__={};var Mi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Rb=function(r){return r*Gg},Go=function(r){var e=new c9,t=zt.internal.getHeight(r)||0,n=zt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(dr(n)),Number(dr(t))],e},XP=Bn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},ZP=Bn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},eD=Bn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Xn=Bn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eD(r,e-1)},Zn=Bn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XP(r,e-1)},es=Bn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZP(r,e-1)},tD=Bn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],i=r[1],o=r[2],a=r[3],l={};return l.lowerLeft_X=t(s)||0,l.lowerLeft_Y=n(i+a)||0,l.upperRight_X=t(s+o)||0,l.upperRight_Y=n(i)||0,[Number(dr(l.lowerLeft_X)),Number(dr(l.lowerLeft_Y)),Number(dr(l.upperRight_X)),Number(dr(l.upperRight_Y))]},rD=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=A2(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+dr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Go(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},A2=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=t,o=zt.internal.getHeight(r)||0;o=o<0?-o:o;var a=zt.internal.getWidth(r)||0;a=a<0?-a:a;var l=function(E,j,J){if(E+1<s.length){var U=j+" "+s[E+1][0];return eh(U,r,J).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,f=eh("3",r,i).height,h=r.multiline?o-i:(o-f)/2,d=h+=2,p=0,g=0,w=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+eh(e,r,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",_=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var A=!1;if(s[k].length!==1&&w!==s[k].length-1){if((f+2)*(_+2)+2>o)continue e;v+=s[k][w],A=!0,g=k,k--}else{v=(v+=s[k][w]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(k),N=l(C,v,i),T=k>=s.length-1;if(N&&!T){v+=" ",w=0;continue}if(N||T){if(T)g=C;else if(r.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!r.multiline||(f+2)*(_+2)+2>o)continue e;g=C}}for(var O="",D=p;D<=g;D++){var Q=s[D];if(r.multiline){if(D===g){O+=Q[w]+" ",w=(w+1)%Q.length;continue}if(D===p){O+=Q[Q.length-1]+" ";continue}}O+=Q[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,u=eh(O,r,i).width,r.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=dr(c)+" "+dr(d)+` Td
`,e+="("+Kc(O)+`) Tj
`,e+=-dr(c)+` 0 Td
`,d=-(i+2),u=0,p=A?g:g+1,_++,v=""}break}return n.text=e,n.fontSize=i,n},eh=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},nD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sD=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},iD=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),Xr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},oD=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(jo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(nD)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gg=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new u9,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&sD(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tD(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=zt.createDefaultAppearanceStream(a),Xr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=rD(a);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var f="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var d=a.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var p=d[o];typeof p=="function"&&(p=p.call(s,a)),f+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=d)=="function"&&(p=p.call(s,a)),f+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&iD(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},l9=Bn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(o){return o};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),Xr(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+Kc(n(r[i].toString()))+")"):s+=r[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cm=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+Kc(n(r))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:l9(s,this.objId,this.scope)}):s instanceof sa?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var c9=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Mi(c9,sa);var u9=function(){sa.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Kc(t(r))+")"}},set:function(t){r=t}})};Mi(u9,sa);var jo=function r(){sa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(e,3)},set:function(v){v?this.F=Zn(e,3):this.F=es(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof s1)return;i="FieldObject"+r.FieldNum++}var v=function(_){return _};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Kc(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Gg:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof s1||this instanceof jc))return cm(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ns?h:cm(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Ns?v:v.substr(0,1)==="("?Lu(v.substr(1,v.length-2)):Lu(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ns?Lu(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Ns?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ns?d:cm(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof Ns?v:v.substr(0,1)==="("?Lu(v.substr(1,v.length-2)):Lu(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ns?Lu(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Ns?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(v){v?this.Ff=Zn(this.Ff,1):this.Ff=es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(v){v?this.Ff=Zn(this.Ff,2):this.Ff=es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(v){v?this.Ff=Zn(this.Ff,3):this.Ff=es(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');w=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(w){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Mi(jo,sa);var e0=function(){jo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return l9(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(t){t?this.Ff=Zn(this.Ff,18):this.Ff=es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zn(this.Ff,19):this.Ff=es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(t){t?(this.Ff=Zn(this.Ff,20),e.sort()):this.Ff=es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(t){t?this.Ff=Zn(this.Ff,22):this.Ff=es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Zn(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(t){t?this.Ff=Zn(this.Ff,27):this.Ff=es(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi(e0,jo);var t0=function(){e0.call(this),this.fontName="helvetica",this.combo=!1};Mi(t0,e0);var r0=function(){t0.call(this),this.combo=!0};Mi(r0,t0);var Lh=function(){r0.call(this),this.edit=!0};Mi(Lh,r0);var Ns=function(){jo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(t){t?this.Ff=Zn(this.Ff,15):this.Ff=es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(t){t?this.Ff=Zn(this.Ff,16):this.Ff=es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(t){t?this.Ff=Zn(this.Ff,17):this.Ff=es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Zn(this.Ff,26):this.Ff=es(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Kc(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Xr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Mi(Ns,jo);var $h=function(){Ns.call(this),this.pushButton=!0};Mi($h,Ns);var n0=function(){Ns.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Mi(n0,Ns);var s1=function(){var r,e;jo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Kc(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Xr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(s1,jo),n0.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},n0.prototype.createOption=function(r){var e=new s1;return e.Parent=this,e.optionName=r,this.Kids.push(e),aD.call(this.scope,e),e};var Oh=function(){Ns.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Mi(Oh,Ns);var jc=function(){jo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(e){e?this.Ff=Zn(this.Ff,13):this.Ff=es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(e){e?this.Ff=Zn(this.Ff,21):this.Ff=es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(e){e?this.Ff=Zn(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(e){e?this.Ff=Zn(this.Ff,24):this.Ff=es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(e){e?this.Ff=Zn(this.Ff,25):this.Ff=es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(e){e?this.Ff=Zn(this.Ff,26):this.Ff=es(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(jc,jo);var Ih=function(){jc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(r){r?this.Ff=Zn(this.Ff,14):this.Ff=es(this.Ff,14)}}),this.password=!0};Mi(Ih,jc);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=A2(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+dr(zt.internal.getWidth(r))+" "+dr(zt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+dr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Go(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=zt.internal.getHeight(r),o=zt.internal.getWidth(r),a=A2(r,r.caption);return s.push("1 g"),s.push("0 0 "+dr(o)+" "+dr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+dr(o-1)+" "+dr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+dr(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dr(zt.internal.getWidth(r))+" "+dr(zt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=zt.RadioButton.Circle.YesNormal,e.D[r]=zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Go(r);e.scope=r.scope;var t=[],n=zt.internal.getWidth(r)<=zt.internal.getHeight(r)?zt.internal.getWidth(r)/4:zt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=zt.internal.Bezier_C,i=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ml(zt.internal.getWidth(r)/2)+" "+Ml(zt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=[],n=zt.internal.getWidth(r)<=zt.internal.getHeight(r)?zt.internal.getWidth(r)/4:zt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*zt.internal.Bezier_C).toFixed(5)),o=Number((n*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ml(zt.internal.getWidth(r)/2)+" "+Ml(zt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ml(zt.internal.getWidth(r)/2)+" "+Ml(zt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=[],n=zt.internal.getWidth(r)<=zt.internal.getHeight(r)?zt.internal.getWidth(r)/4:zt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ml(zt.internal.getWidth(r)/2)+" "+Ml(zt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=zt.RadioButton.Cross.YesNormal,e.D[r]=zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Go(r);e.scope=r.scope;var t=[],n=zt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+dr(zt.internal.getWidth(r)-2)+" "+dr(zt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(dr(n.x1.x)+" "+dr(n.x1.y)+" m"),t.push(dr(n.x2.x)+" "+dr(n.x2.y)+" l"),t.push(dr(n.x4.x)+" "+dr(n.x4.y)+" m"),t.push(dr(n.x3.x)+" "+dr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=zt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(zt.internal.getWidth(r))+" "+dr(zt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dr(zt.internal.getWidth(r)-2)+" "+dr(zt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(dr(t.x1.x)+" "+dr(t.x1.y)+" m"),n.push(dr(t.x2.x)+" "+dr(t.x2.y)+" l"),n.push(dr(t.x4.x)+" "+dr(t.x4.y)+" m"),n.push(dr(t.x3.x)+" "+dr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Go(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dr(zt.internal.getWidth(r))+" "+dr(zt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};zt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=zt.internal.getWidth(r),t=zt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},zt.internal.getWidth=function(r){var e=0;return Xr(r)==="object"&&(e=Rb(r.Rect[2])),e},zt.internal.getHeight=function(r){var e=0;return Xr(r)==="object"&&(e=Rb(r.Rect[3])),e};var aD=Bn.addField=function(r){if(oD(this,r),!(r instanceof jo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=e0,Bn.AcroFormListBox=t0,Bn.AcroFormComboBox=r0,Bn.AcroFormEditBox=Lh,Bn.AcroFormButton=Ns,Bn.AcroFormPushButton=$h,Bn.AcroFormRadioButton=n0,Bn.AcroFormCheckBox=Oh,Bn.AcroFormTextField=jc,Bn.AcroFormPasswordField=Ih,Bn.AcroFormAppearance=zt,Bn.AcroForm={ChoiceField:e0,ListBox:t0,ComboBox:r0,EditBox:Lh,Button:Ns,PushButton:$h,RadioButton:n0,CheckBox:Oh,TextField:jc,PasswordField:Ih,Appearance:zt},nr.AcroForm={ChoiceField:e0,ListBox:t0,ComboBox:r0,EditBox:Lh,Button:Ns,PushButton:$h,RadioButton:n0,CheckBox:Oh,TextField:jc,PasswordField:Ih,Appearance:zt};function f9(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(E,j){var J,U,ne,G,ae,q=e;if((j=j||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(N(E))for(ae in t)for(ne=t[ae],J=0;J<ne.length;J+=1){for(G=!0,U=0;U<ne[J].length;U+=1)if(ne[J][U]!==void 0&&ne[J][U]!==E[U]){G=!1;break}if(G===!0){q=ae;break}}else for(ae in t)for(ne=t[ae],J=0;J<ne.length;J+=1){for(G=!0,U=0;U<ne[J].length;U+=1)if(ne[J][U]!==void 0&&ne[J][U]!==E.charCodeAt(U)){G=!1;break}if(G===!0){q=ae;break}}return q===e&&j!==e&&(q=j),q},s=function E(j){for(var J=this.internal.write,U=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:j.width}),G.push({key:"Height",value:j.height}),j.colorSpace===w.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===w.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var ae="",q=0,F=j.transparency.length;q<F;q++)ae+=j.transparency[q]+" "+j.transparency[q]+" ";G.push({key:"Mask",value:"["+ae+"]"})}j.sMask!==void 0&&G.push({key:"SMask",value:j.objectId+1+" 0 R"});var te=j.filter!==void 0?["/"+j.filter]:void 0;if(U({data:j.data,additionalKeyValues:G,alreadyAppliedFilters:te,objectId:j.objectId}),J("endobj"),"sMask"in j&&j.sMask!==void 0){var B="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,L={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:B,data:j.sMask};"filter"in j&&(L.filter=j.filter),E.call(this,L)}if(j.colorSpace===w.INDEXED){var Y=this.internal.newObject();U({data:O(new Uint8Array(j.palette)),objectId:Y}),J("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var j in E)s.call(this,E[j])},o=function(){var E,j=this.internal.collections.addImage_images,J=this.internal.write;for(var U in j)J("/I"+(E=j[U]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof r["process"+E.toUpperCase()]=="function"},f=function(E){return Xr(E)==="object"&&E.nodeType===1},h=function(E,j){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var J=""+E.getAttribute("src");if(J.indexOf("data:image/")===0)return Lf(unescape(J).split("base64,").pop());var U=r.loadFile(J,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ne;switch(j){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return Lf(E.toDataURL(ne,1).split("base64,").pop())}},d=function(E){var j=this.internal.collections.addImage_images;if(j){for(var J in j)if(E===j[J].alias)return j[J]}},p=function(E,j,J){return E||j||(E=-96,j=-96),E<0&&(E=-1*J.width*72/E/this.internal.scaleFactor),j<0&&(j=-1*J.height*72/j/this.internal.scaleFactor),E===0&&(E=j*J.width/J.height),j===0&&(j=E*J.height/J.width),[E,j]},g=function(E,j,J,U,ne,G){var ae=p.call(this,J,U,ne),q=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,te=l.call(this);if(J=ae[0],U=ae[1],te[ne.index]=ne,G){G*=Math.PI/180;var B=Math.cos(G),L=Math.sin(G),Y=function(X){return X.toFixed(4)},re=[Y(B),Y(L),Y(-1*L),Y(B),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,q(E),F(j+U),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([q(J),"0","0",q(U),"0","0","cm"].join(" "))):this.internal.write([q(J),"0","0",q(U),q(E),F(j+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},w=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=r.__addimage__.sHashCode=function(E){var j,J,U=0;if(typeof E=="string")for(J=E.length,j=0;j<J;j++)U=(U<<5)-U+E.charCodeAt(j),U|=0;else if(N(E))for(J=E.byteLength/2,j=0;j<J;j++)U=(U<<5)-U+E[j],U|=0;return U},k=r.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var j=!0;return E.length===0&&(j=!1),E.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(j=!1),j},A=r.__addimage__.extractImageFromDataUrl=function(E){var j=(E=E||"").split("base64,"),J=null;if(j.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(U)&&(J={mimeType:U[1],charset:U[2],data:j[1]})}return J},C=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(E){return C()&&E instanceof ArrayBuffer};var N=r.__addimage__.isArrayBufferView=function(E){return C()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=r.__addimage__.binaryStringToUint8Array=function(E){for(var j=E.length,J=new Uint8Array(j),U=0;U<j;U++)J[U]=E.charCodeAt(U);return J},O=r.__addimage__.arrayBufferToBinaryString=function(E){for(var j="",J=N(E)?E:new Uint8Array(E),U=0;U<J.length;U+=8192)j+=String.fromCharCode.apply(null,J.subarray(U,U+8192));return j};r.addImage=function(){var E,j,J,U,ne,G,ae,q,F;if(typeof arguments[1]=="number"?(j=e,J=arguments[1],U=arguments[2],ne=arguments[3],G=arguments[4],ae=arguments[5],q=arguments[6],F=arguments[7]):(j=arguments[1],J=arguments[2],U=arguments[3],ne=arguments[4],G=arguments[5],ae=arguments[6],q=arguments[7],F=arguments[8]),Xr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var te=E;E=te.imageData,j=te.format||j||e,J=te.x||J||0,U=te.y||U||0,ne=te.w||te.width||ne,G=te.h||te.height||G,ae=te.alias||ae,q=te.compression||q,F=te.rotation||te.angle||F}var B=this.internal.getFilters();if(q===void 0&&B.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(J)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var L=D.call(this,E,j,ae,q);return g.call(this,J,U,ne,G,L,F),this};var D=function(E,j,J,U){var ne,G,ae;if(typeof E=="string"&&n(E)===e){E=unescape(E);var q=Q(E,!1);(q!==""||(q=r.loadFile(E,!0))!==void 0)&&(E=q)}if(f(E)&&(E=h(E,j)),j=n(E,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ae=J)==null||ae.length===0)&&(J=function(F){return typeof F=="string"||N(F)?_(F):N(F.data)?_(F.data):null}(E)),(ne=d.call(this,J))||(C()&&(E instanceof Uint8Array||j==="RGBA"||(G=E,E=T(E))),ne=this["process"+j.toUpperCase()](E,c.call(this),J,function(F){return F&&typeof F=="string"&&(F=F.toUpperCase()),F in r.image_compression?F:v.NONE}(U),G)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Q=r.__addimage__.convertBase64ToBinaryString=function(E,j){var J;j=typeof j!="boolean"||j;var U,ne="";if(typeof E=="string"){U=(J=A(E))!==null?J.data:E;try{ne=Lf(U)}catch(G){if(j)throw k(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};r.getImageProperties=function(E){var j,J,U="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===e&&((U=Q(E,!1))===""&&(U=r.loadFile(E)||""),E=U),J=n(E),!u(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!C()||E instanceof Uint8Array||(E=T(E)),!(j=this["process"+J.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=J,j}})(nr.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};nr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(v(_))+") >>",g.content=i;var k=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(g.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+d(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+s),h:c(n+i)},options:o,type:"link"})},r.textWithLink=function(t,n,s,i){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,a,o,i),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(nr.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=r.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&e[g.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(g){var w=0,v=t,_="",k=0;for(w=0;w<g.length;w+=1)v[g.charCodeAt(w)]!==void 0?(k++,typeof(v=v[g.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(v),v=t,k=0),w===g.length-1&&(v=t,_+=g.charAt(w-(k-1)),w-=k-1,k=0)):(v=t,_+=g.charAt(w-k),w-=k,k=0);return _};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(g,w,v){return o(g)?i(g)===!1?-1:!c(g)||!o(w)&&!o(v)||!o(v)&&a(w)||a(g)&&!o(w)||a(g)&&l(w)||a(g)&&a(w)?0:u(g)&&o(w)&&!a(w)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},d=function(g){var w=0,v=0,_=0,k="",A="",C="",N=(g=g||"").split("\\s+"),T=[];for(w=0;w<N.length;w+=1){for(T.push(""),v=0;v<N[w].length;v+=1)k=N[w][v],A=N[w][v-1],C=N[w][v+1],o(k)?(_=h(k,A,C),T[w]+=_!==-1?String.fromCharCode(e[k.charCodeAt(0)][_]):k):T[w]+=k;T[w]=f(T[w])}return T.join(" ")},p=r.__arabicParser__.processArabic=r.processArabic=function(){var g,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(w)){var _=0;for(v=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?v.push([d(w[_][0]),w[_][1],w[_][2]]):v.push([d(w[_])]);g=v}else g=d(w);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",p])}(nr.API),nr.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(nr.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,p=0,g=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,A){return k.concat(w.splitTextToSize(A,v))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)d<(g=this.getStringUnitWidth(l[_],{font:f})*u)&&(d=g);return d!==0&&(p=l.length),{w:d/=h,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,p,g,w,v=[],_=[],k=[],A={},C={},N=[],T=[],O=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,Q=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},e),j=typeof h.padding=="number"?h.padding:3,J=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=U,this.setFontSize(Q),f==null)_=v=Object.keys(u[0]),k=v.map(function(){return"left"});else if(Array.isArray(f)&&Xr(f[0])==="object")for(v=f.map(function(te){return te.name}),_=f.map(function(te){return te.prompt||te.name||""}),k=f.map(function(te){return te.align||"left"}),d=0;d<f.length;d+=1)C[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=v=f,k=v.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<v.length;d+=1){for(A[w=v[d]]=u.map(function(te){return te[w]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(_[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=A[w],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)N.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,N)+j+j,N=[]}if(D){var ne={};for(d=0;d<v.length;d+=1)ne[v[d]]={},ne[v[d]].text=_[d],ne[v[d]].align=k[d];var G=a.call(this,ne,C);T=v.map(function(te){return new i(l,c,C[te],G,ne[te].text,void 0,ne[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ae=f.reduce(function(te,B){return te[B.name]=B.align,te},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var q=a.call(this,u[d],C);for(g=0;g<v.length;g+=1){var F=u[d][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:g,data:F},this),o.call(this,new i(l,c,C[v[g]],q,F,d+2,ae[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var p=l[d];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,p){return Math.max(d,p)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(nr.API);var d9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},h9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T2=f9(h9),p9=[100,200,300,400,500,600,700,800,900],lD=f9(p9);function N2(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return d9[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(i){return typeof T2[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function Fb(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var cD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bb(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function uD(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},cD,t.genericFontFamilies||{}),i=null,o=null,a=0;a<e.length;++a)if(s[(i=N2(e[a])).family]&&(i.family=s[i.family]),r.hasOwnProperty(i.family)){o=r[i.family];break}if(!(o=o||r[n]))throw new Error("Could not find a font-family for the rule '"+Bb(i)+"' and default family '"+n+"'.");if(o=function(l,c){if(c[l])return c[l];var u=T2[l],f=u<=T2.normal?-1:1,h=Fb(c,h9,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=d9[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=lD[l],f=Fb(c,p9,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Bb(i)+"'.");return o}function zb(r){return r.trimLeft()}function fD(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function dD(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var th,qb,Hb,um=["times"];(function(r){var e,t,n,s,i,o,a,l,c,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Le){re=!!Le}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Le){X=!!Le}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(Le){isNaN(Le)||(K=Le)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(Le){isNaN(Le)||(W=Le)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Le){var ve;typeof Le=="number"?ve=[Le,Le,Le,Le]:((ve=new Array(4))[0]=Le[0],ve[1]=Le.length>=2?Le[1]:ve[0],ve[2]=Le.length>=3?Le[2]:ve[0],ve[3]=Le.length>=4?Le[3]:ve[1]),c.margin=ve}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Le){pe=Le}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(Le){be=Le}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Le){Ne=Le}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Le){Le instanceof u&&(c=Le)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Le){c.path=Le}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(Le){Ae=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var ve;ve=h(Le),this.ctx.fillStyle=ve.style,this.ctx.isFillTransparent=ve.a===0,this.ctx.fillOpacity=ve.a,this.pdf.setFillColor(ve.r,ve.g,ve.b,{a:ve.a}),this.pdf.setTextColor(ve.r,ve.g,ve.b,{a:ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var ve=h(Le);this.ctx.strokeStyle=ve.style,this.ctx.isStrokeTransparent=ve.a===0,this.ctx.strokeOpacity=ve.a,ve.a===0?this.pdf.setDrawColor(255,255,255):(ve.a,this.pdf.setDrawColor(ve.r,ve.g,ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var qe=null;function Me(Le,ve){if(qe===null){var Xe=function(nt){var _e=[];return Object.keys(nt).forEach(function(Re){nt[Re].forEach(function(je){var Ye=null;switch(je){case"bold":Ye={family:Re,weight:"bold"};break;case"italic":Ye={family:Re,style:"italic"};break;case"bolditalic":Ye={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Re}}Ye!==null&&(Ye.ref={name:Re,style:je},_e.push(Ye))})}),_e}(Le.getFontList());qe=function(nt){for(var _e={},Re=0;Re<nt.length;++Re){var je=N2(nt[Re]),Ye=je.family,yt=je.stretch,wt=je.style,Mt=je.weight;_e[Ye]=_e[Ye]||{},_e[Ye][yt]=_e[Ye][yt]||{},_e[Ye][yt][wt]=_e[Ye][yt][wt]||{},_e[Ye][yt][wt][Mt]=je}return _e}(Xe.concat(ve))}return qe}var Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(Le){qe=null,Ee=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var ve;if(this.ctx.font=Le,(ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var Xe=ve[1],nt=(ve[2],ve[3]),_e=ve[4],Re=(ve[5],ve[6]),je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(je==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Ye=function(Pt){var Ft,st,Cr=[],rr=Pt.trim();if(rr==="")return um;if(rr in jb)return[jb[rr]];for(;rr!=="";){switch(st=null,Ft=(rr=zb(rr)).charAt(0)){case'"':case"'":st=fD(rr.substring(1),Ft);break;default:st=dD(rr)}if(st===null||(Cr.push(st[0]),(rr=zb(st[1]))!==""&&rr.charAt(0)!==","))return um;rr=rr.replace(/^,/,"")}return Cr}(Re);if(this.fontFaces){var yt=uD(Me(this.pdf,this.fontFaces),Ye.map(function(Pt){return{family:Pt,stretch:"normal",weight:nt,style:Xe}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var wt="";(nt==="bold"||parseInt(nt,10)>=700||Xe==="bold")&&(wt="bold"),Xe==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Mt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Ye.length;bt++){if(this.pdf.internal.getFont(Ye[bt],wt,{noFallback:!0,disableWarning:!0})!==void 0){Mt=Ye[bt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Ye[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=Ye[bt],wt="bold";else if(this.pdf.internal.getFont(Ye[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=Ye[bt],wt="normal";break}}if(Mt===""){for(var Ht=0;Ht<Ye.length;Ht++)if(at[Ye[Ht]]){Mt=at[Ye[Ht]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(L,Y));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(L,Y)},f.prototype.closePath=function(){var L=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xr(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(L,Y));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,Y,re,X){if(isNaN(re)||isNaN(X)||isNaN(L)||isNaN(Y))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new o(re,X)),W=this.ctx.transform.applyToPoint(new o(L,Y));this.path.push({type:"qct",x1:W.x,y1:W.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.bezierCurveTo=function(L,Y,re,X,K,W){if(isNaN(K)||isNaN(W)||isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(K,W)),be=this.ctx.transform.applyToPoint(new o(L,Y)),Ne=this.ctx.transform.applyToPoint(new o(re,X));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Ne.x,y2:Ne.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},f.prototype.arc=function(L,Y,re,X,K,W){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X)||isNaN(K))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(L,Y));L=pe.x,Y=pe.y;var be=this.ctx.transform.applyToPoint(new o(0,re)),Ne=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(be.x-Ne.x,2)+Math.pow(be.y-Ne.y,2))}Math.abs(K-X)>=2*Math.PI&&(X=0,K=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:re,startAngle:X,endAngle:K,counterclockwise:W})},f.prototype.arcTo=function(L,Y,re,X,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,Y,re,X){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+re,Y),this.lineTo(L+re,Y+X),this.lineTo(L,Y+X),this.lineTo(L,Y),this.lineTo(L+re,Y),this.lineTo(L,Y)},f.prototype.fillRect=function(L,Y,re,X){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,re,X),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(L,Y,re,X){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(L,Y,re,X),this.stroke())},f.prototype.clearRect=function(L,Y,re,X){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,re,X))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var Y,re,X,K;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,re=0,X=0,K=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(W!==null)Y=parseInt(W[1]),re=parseInt(W[2]),X=parseInt(W[3]),K=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(W[1]),re=parseInt(W[2]),X=parseInt(W[3]),K=parseFloat(W[4]);else{if(K=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new i9(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,re=L.substring(2,3),re+=re,X=L.substring(3,4),X+=X):(Y=L.substring(1,3),re=L.substring(3,5),X=L.substring(5,7)),Y=parseInt(Y,16),re=parseInt(re,16),X=parseInt(X,16)}}return{r:Y,g:re,b:X,a:K,style:L}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,Y,re,X){if(isNaN(Y)||isNaN(re)||typeof L!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!d.call(this)){var K=q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;j.call(this,{text:L,x:Y,y:re,scale:W,angle:K,align:this.textAlign,maxWidth:X})}},f.prototype.strokeText=function(L,Y,re,X){if(isNaN(Y)||isNaN(re)||typeof L!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){X=isNaN(X)?void 0:X;var K=q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;j.call(this,{text:L,x:Y,y:re,scale:W,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:X})}},f.prototype.measureText=function(L){if(typeof L!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,re=this.pdf.internal.scaleFactor,X=Y.internal.getFontSize(),K=Y.getStringUnitWidth(L)*X/Y.internal.scaleFactor,W=function(pe){var be=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new W({width:K*=Math.round(96*re/72*1e4)/1e4})},f.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.rotate=function(L){if(isNaN(L))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.transform=function(L,Y,re,X,K,W){if(isNaN(L)||isNaN(Y)||isNaN(re)||isNaN(X)||isNaN(K)||isNaN(W))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(L,Y,re,X,K,W);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(L,Y,re,X,K,W){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,re=isNaN(re)?0:re,X=isNaN(X)?1:X,K=isNaN(K)?0:K,W=isNaN(W)?0:W,this.ctx.transform=new l(L,Y,re,X,K,W)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,Y,re,X,K,W,pe,be,Ne){var Ae=this.pdf.getImageProperties(L),qe=1,Me=1,Ee=1,Le=1;X!==void 0&&be!==void 0&&(Ee=be/X,Le=Ne/K,qe=Ae.width/X*be/X,Me=Ae.height/K*Ne/K),W===void 0&&(W=Y,pe=re,Y=0,re=0),X!==void 0&&be===void 0&&(be=X,Ne=K),X===void 0&&be===void 0&&(be=Ae.width,Ne=Ae.height);for(var ve,Xe=this.ctx.transform.decompose(),nt=q(Xe.rotate.shx),_e=new l,Re=(_e=(_e=(_e=_e.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new a(W-Y*Ee,pe-re*Le,X*qe,K*Me)),je=w.call(this,Re),Ye=[],yt=0;yt<je.length;yt+=1)Ye.indexOf(je[yt])===-1&&Ye.push(je[yt]);if(k(Ye),this.autoPaging)for(var wt=Ye[0],Mt=Ye[Ye.length-1],at=wt;at<Mt+1;at++){this.pdf.setPage(at);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=at===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=at===1?0:Pt+(at-2)*Ft;if(this.ctx.clip_path.length!==0){var Cr=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ve,this.posX+this.margin[3],-st+Ht+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Cr}var rr=JSON.parse(JSON.stringify(Re));rr=_([rr],this.posX+this.margin[3],-st+Ht+this.ctx.prevPageLastElemOffset)[0];var fs=(at>wt||at<Mt)&&g.call(this);fs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ft,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",rr.x,rr.y,rr.w,rr.h,null,null,nt),fs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,nt)};var w=function(L,Y,re){var X=[];Y=Y||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":X.push(Math.floor((L.y+K)/re)+1);break;case"arc":X.push(Math.floor((L.y+K-L.radius)/re)+1),X.push(Math.floor((L.y+K+L.radius)/re)+1);break;case"qct":var W=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);X.push(Math.floor((W.y+K)/re)+1),X.push(Math.floor((W.y+W.h+K)/re)+1);break;case"bct":var pe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);X.push(Math.floor((pe.y+K)/re)+1),X.push(Math.floor((pe.y+pe.h+K)/re)+1);break;case"rect":X.push(Math.floor((L.y+K)/re)+1),X.push(Math.floor((L.y+L.h+K)/re)+1)}for(var be=0;be<X.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<X[be];)v.call(this);return X},v=function(){var L=this.fillStyle,Y=this.strokeStyle,re=this.font,X=this.lineCap,K=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=re,this.lineCap=X,this.lineWidth=K,this.lineJoin=W},_=function(L,Y,re){for(var X=0;X<L.length;X++)switch(L[X].type){case"bct":L[X].x2+=Y,L[X].y2+=re;case"qct":L[X].x1+=Y,L[X].y1+=re;case"mt":case"lt":case"arc":default:L[X].x+=Y,L[X].y+=re}return L},k=function(L){return L.sort(function(Y,re){return Y-re})},A=function(L,Y){for(var re,X,K=this.fillStyle,W=this.strokeStyle,pe=this.lineCap,be=this.lineWidth,Ne=Math.abs(be*this.ctx.transform.scaleX),Ae=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Ee=[],Le=0;Le<Me.length;Le++)if(Me[Le].x!==void 0)for(var ve=w.call(this,Me[Le]),Xe=0;Xe<ve.length;Xe+=1)Ee.indexOf(ve[Xe])===-1&&Ee.push(ve[Xe]);for(var nt=0;nt<Ee.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Ee[nt];)v.call(this);if(k(Ee),this.autoPaging)for(var _e=Ee[0],Re=Ee[Ee.length-1],je=_e;je<Re+1;je++){this.pdf.setPage(je),this.fillStyle=K,this.strokeStyle=W,this.lineCap=pe,this.lineWidth=Ne,this.lineJoin=Ae;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=je===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=je===1?0:wt+(je-2)*Mt;if(this.ctx.clip_path.length!==0){var bt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(re,this.posX+this.margin[3],-at+yt+this.ctx.prevPageLastElemOffset),C.call(this,L,!0),this.path=bt}if(X=JSON.parse(JSON.stringify(qe)),this.path=_(X,this.posX+this.margin[3],-at+yt+this.ctx.prevPageLastElemOffset),Y===!1||je===0){var Ht=(je>_e||je<Re)&&g.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Mt,null).clip().discardPath()),C.call(this,L,Y),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=Ne,C.call(this,L,Y),this.lineWidth=be;this.path=qe},C=function(L,Y){if((L!=="stroke"||Y||!p.call(this))&&(L==="stroke"||Y||!d.call(this))){for(var re,X,K=[],W=this.path,pe=0;pe<W.length;pe++){var be=W[pe];switch(be.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:be,deltas:[],abs:[]});break;case"lt":var Ne=K.length;if(W[pe-1]&&!isNaN(W[pe-1].x)&&(re=[be.x-W[pe-1].x,be.y-W[pe-1].y],Ne>0)){for(;Ne>=0;Ne--)if(K[Ne-1].close!==!0&&K[Ne-1].begin!==!0){K[Ne-1].deltas.push(re),K[Ne-1].abs.push(be);break}}break;case"bct":re=[be.x1-W[pe-1].x,be.y1-W[pe-1].y,be.x2-W[pe-1].x,be.y2-W[pe-1].y,be.x-W[pe-1].x,be.y-W[pe-1].y],K[K.length-1].deltas.push(re);break;case"qct":var Ae=W[pe-1].x+2/3*(be.x1-W[pe-1].x),qe=W[pe-1].y+2/3*(be.y1-W[pe-1].y),Me=be.x+2/3*(be.x1-be.x),Ee=be.y+2/3*(be.y1-be.y),Le=be.x,ve=be.y;re=[Ae-W[pe-1].x,qe-W[pe-1].y,Me-W[pe-1].x,Ee-W[pe-1].y,Le-W[pe-1].x,ve-W[pe-1].y],K[K.length-1].deltas.push(re);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(be)}}X=Y?null:L==="stroke"?"stroke":"fill";for(var Xe=!1,nt=0;nt<K.length;nt++)if(K[nt].arc)for(var _e=K[nt].abs,Re=0;Re<_e.length;Re++){var je=_e[Re];je.type==="arc"?O.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,Y,!Xe):J.call(this,je.x,je.y),Xe=!0}else if(K[nt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(K[nt].begin!==!0){var Ye=K[nt].start.x,yt=K[nt].start.y;U.call(this,K[nt].deltas,Ye,yt),Xe=!0}X&&D.call(this,X),Y&&Q.call(this)}},N=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-re;case"top":return L+Y-re;case"hanging":return L+Y-2*re;case"middle":return L+Y/2-re;case"ideographic":return L;case"alphabetic":default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,re){this.colorStops.push([Y,re])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(L,Y,re,X,K,W,pe,be,Ne){for(var Ae=G.call(this,re,X,K,W),qe=0;qe<Ae.length;qe++){var Me=Ae[qe];qe===0&&(Ne?E.call(this,Me.x1+L,Me.y1+Y):J.call(this,Me.x1+L,Me.y1+Y)),ne.call(this,L,Y,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}be?Q.call(this):D.call(this,pe)},D=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(L,Y){this.pdf.internal.out(t(L)+" "+n(Y)+" m")},j=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var re=this.pdf.getTextDimensions(L.text),X=N.call(this,L.y),K=T.call(this,X)-re.h,W=this.ctx.transform.applyToPoint(new o(L.x,X)),pe=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Ne,Ae,qe,Me=this.ctx.transform.applyToRectangle(new a(L.x,X,re.w,re.h)),Ee=be.applyToRectangle(new a(L.x,K,re.w,re.h)),Le=w.call(this,Ee),ve=[],Xe=0;Xe<Le.length;Xe+=1)ve.indexOf(Le[Xe])===-1&&ve.push(Le[Xe]);if(k(ve),this.autoPaging)for(var nt=ve[0],_e=ve[ve.length-1],Re=nt;Re<_e+1;Re++){this.pdf.setPage(Re);var je=Re===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],wt=yt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],at=Mt-this.margin[3],bt=Re===1?0:Ye+(Re-2)*wt;if(this.ctx.clip_path.length!==0){var Ht=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ne,this.posX+this.margin[3],-1*bt+je),C.call(this,"fill",!0),this.path=Ht}var Pt=_([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-bt+je+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*L.scale),qe=this.lineWidth,this.lineWidth=qe*L.scale);var Ft=this.autoPaging!=="text";if(Ft||Pt.y+Pt.h<=yt){if(Ft||Pt.y>=je&&Pt.x<=Mt){var st=Ft?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Mt-Pt.x)[0],Cr=_([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-bt+je+this.ctx.prevPageLastElemOffset)[0],rr=Ft&&(Re>nt||Re<_e)&&g.call(this);rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,wt,null).clip().discardPath()),this.pdf.text(st,Cr.x,Cr.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),rr&&this.pdf.restoreGraphicsState()}}else Pt.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-Pt.y);L.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=qe)}else L.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*L.scale),qe=this.lineWidth,this.lineWidth=qe*L.scale),this.pdf.text(L.text,W.x+this.posX,W.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=qe)},J=function(L,Y,re,X){re=re||0,X=X||0,this.pdf.internal.out(t(L+re)+" "+n(Y+X)+" l")},U=function(L,Y,re){return this.pdf.lines(L,Y,re,null,null)},ne=function(L,Y,re,X,K,W,pe,be){this.pdf.internal.out([e(s(re+L)),e(i(X+Y)),e(s(K+L)),e(i(W+Y)),e(s(pe+L)),e(i(be+Y)),"c"].join(" "))},G=function(L,Y,re,X){for(var K=2*Math.PI,W=Math.PI/2;Y>re;)Y-=K;var pe=Math.abs(re-Y);pe<K&&X&&(pe=K-pe);for(var be=[],Ne=X?-1:1,Ae=Y;pe>1e-5;){var qe=Ae+Ne*Math.min(pe,W);be.push(ae.call(this,L,Ae,qe)),pe-=Math.abs(qe-Ae),Ae=qe}return be},ae=function(L,Y,re){var X=(re-Y)/2,K=L*Math.cos(X),W=L*Math.sin(X),pe=K,be=-W,Ne=pe*pe+be*be,Ae=Ne+pe*K+be*W,qe=4/3*(Math.sqrt(2*Ne*Ae)-Ae)/(pe*W-be*K),Me=pe-qe*be,Ee=be+qe*pe,Le=Me,ve=-Ee,Xe=X+Y,nt=Math.cos(Xe),_e=Math.sin(Xe);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:Me*nt-Ee*_e,y2:Me*_e+Ee*nt,x3:Le*nt-ve*_e,y3:Le*_e+ve*nt,x4:L*Math.cos(re),y4:L*Math.sin(re)}},q=function(L){return 180*L/Math.PI},F=function(L,Y,re,X,K,W){var pe=L+.5*(re-L),be=Y+.5*(X-Y),Ne=K+.5*(re-K),Ae=W+.5*(X-W),qe=Math.min(L,K,pe,Ne),Me=Math.max(L,K,pe,Ne),Ee=Math.min(Y,W,be,Ae),Le=Math.max(Y,W,be,Ae);return new a(qe,Ee,Me-qe,Le-Ee)},te=function(L,Y,re,X,K,W,pe,be){var Ne,Ae,qe,Me,Ee,Le,ve,Xe,nt,_e,Re,je,Ye,yt,wt=re-L,Mt=X-Y,at=K-re,bt=W-X,Ht=pe-K,Pt=be-W;for(Ae=0;Ae<41;Ae++)nt=(ve=(qe=L+(Ne=Ae/40)*wt)+Ne*((Ee=re+Ne*at)-qe))+Ne*(Ee+Ne*(K+Ne*Ht-Ee)-ve),_e=(Xe=(Me=Y+Ne*Mt)+Ne*((Le=X+Ne*bt)-Me))+Ne*(Le+Ne*(W+Ne*Pt-Le)-Xe),Ae==0?(Re=nt,je=_e,Ye=nt,yt=_e):(Re=Math.min(Re,nt),je=Math.min(je,_e),Ye=Math.max(Ye,nt),yt=Math.max(yt,_e));return new a(Math.round(Re),Math.round(je),Math.round(Ye-Re),Math.round(yt-je))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,re=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(nr.API),function(r){var e=function(i){var o,a,l,c,u,f,h,d,p,g;for(a=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(p=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,a.push(f+33,h+33,d+33,p+33,g+33)):a.push(122);return function(w,v){for(var _=v;_>0;_--)w.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(i){var o,a,l,c,u,f=String,h="length",d=255,p="charCodeAt",g="slice",w="replace";for(i[g](-2),i=i[g](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],c=0,u=(i+=o="uuuuu"[g](i[h]%5||5))[h];u>c;c+=5)a=52200625*(i[p](c)-33)+614125*(i[p](c+1)-33)+7225*(i[p](c+2)-33)+85*(i[p](c+3)-33)+(i[p](c+4)-33),l.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(v,_){for(var k=_;k>0;k--)v.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var a="",l=0;l<i.length;l+=2)a+=String.fromCharCode("0x"+(i[l]+i[l+1]));return a},s=function(i){for(var o=new Uint8Array(i.length),a=i.length;a--;)o[a]=i.charCodeAt(a);return i=(o=_2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};r.processDataByFilters=function(i,o){var a=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(nr.API),function(r){r.loadFile=function(e,t,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(p){var g=p.length,w=[],v=String.fromCharCode;for(h=0;h<g;h+=1)w.push(v(255&p.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(s,i,o)}catch{}return a}(e,t,n)},r.loadImageFile=r.loadFile}(nr.API),function(r){function e(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):c0(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):c0(()=>import("./purify.es-cf254a40.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=Xr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},i=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,a){return o.__proto__=a||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:s("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],p=d.src.find(function(g){return g.format==="truetype"});p&&l.addFont(p.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},i.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(o,a){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},i.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},i.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return i.convert(a,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,nr.getPageSize=function(o,a,l){if(Xr(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var d,p=0,g=0;if(h.hasOwnProperty(f))p=h[f][1]/u,g=h[f][0]/u;else try{p=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>p&&(d=g,g=p,p=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>g&&(d=g,g=p,p=d)}return{width:g,height:p,unit:a,k:u,orientation:o}},r.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(N2):null;var l=new i(a);return a.worker?l:l.from(o).doCallback()}}(nr.API),nr.API.addJS=function(r){return Hb=r,this.internal.events.subscribe("postPutResources",function(){th=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(th+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Hb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){th!==void 0&&qb!==void 0&&this.internal.out("/Names <</JavaScript "+th+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=n.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=t.internal.newObject();u.push(f);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<u.length;i++)t.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(nr.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,i,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),p=f.length,g={width:0,height:0,numcomponents:1},w=4;w<p;w+=2){if(w+=d,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),g={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}d=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(nr.API);var $u,rh,Vb,Ub,Wb,hD=function(){var r,e,t;function n(i){var o,a,l,c,u,f,h,d,p,g,w,v,_,k;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),p=function(){var A,C;for(C=[],A=0;A<4;++A)C.push(String.fromCharCode(this.data[this.pos++]));return C}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,w.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,a;for(a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,p){var g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te=Math.ceil((c.width-f)/d),B=Math.ceil((c.height-h)/p),L=c.width==te&&c.height==B;for(j=o*te,Q=L?a:new Uint8Array(j*B),A=i.length,E=0,w=0;E<B&&l<A;){switch(i[l++]){case 0:for(_=ne=0;ne<j;_=ne+=1)Q[w++]=i[l++];break;case 1:for(_=G=0;G<j;_=G+=1)g=i[l++],k=_<o?0:Q[w-o],Q[w++]=(g+k)%256;break;case 2:for(_=ae=0;ae<j;_=ae+=1)g=i[l++],v=(_-_%o)/o,J=E&&Q[(E-1)*j+v*o+_%o],Q[w++]=(J+g)%256;break;case 3:for(_=q=0;q<j;_=q+=1)g=i[l++],v=(_-_%o)/o,k=_<o?0:Q[w-o],J=E&&Q[(E-1)*j+v*o+_%o],Q[w++]=(g+Math.floor((k+J)/2))%256;break;case 4:for(_=F=0;F<j;_=F+=1)g=i[l++],v=(_-_%o)/o,k=_<o?0:Q[w-o],E===0?J=U=0:(J=Q[(E-1)*j+v*o+_%o],U=v&&Q[(E-1)*j+(v-1)*o+_%o]),C=k+J-U,N=Math.abs(C-k),O=Math.abs(C-J),D=Math.abs(C-U),T=N<=O&&N<=D?k:O<=D?J:U,Q[w++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!L){var Y=((h+E*p)*c.width+f)*o,re=E*j;for(_=0;_<te;_+=1){for(var X=0;X<o;X+=1)a[Y++]=Q[re++];Y+=(d-1)*o}}E++}}return i=YP(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},n.prototype.decodePalette=function(){var i,o,a,l,c,u,f,h,d;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,i=0,o=f=0,h=a.length;f<h;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,o){var a,l,c,u,f,h,d,p,g,w,v;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,a=!0),p=(c=i.data||i).length,f=g||o,u=h=0,l===1)for(;u<p;)d=g?4*o[u/4]:h,w=f[d++],c[u++]=w,c[u++]=w,c[u++]=w,c[u++]=a?f[d++]:255,h=d;else for(;u<p;)d=g?4*o[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=a?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(sr)==="[object Window]"){try{e=sr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(i){var o;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,a,l,c,u,f,h,d;if(this.animation){for(d=[],a=u=0,f=(h=this.animation.frames).length;u<f;a=++u)o=h[a],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,d.push(o.image=r(l));return d}},n.prototype.renderFrame=function(i,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(i){var o,a,l,c,u,f,h=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(o=function(){var d,p;if(d=a++%c,p=l[d],h.renderFrame(i,d),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,p.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pD(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],i=s>>7,o=1<<(7&s)+1;r[e++],r[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,u=[],f=0,h=null,d=0,p=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,p=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];f=r[e++]|r[e++]<<8,h=r[e++],!(1&g)&&(h=null),d=g>>2&7,e++;break;case 254:for(;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var w=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,_=r[e++]|r[e++]<<8,k=r[e++]|r[e++]<<8,A=r[e++],C=A>>6&1,N=1<<(7&A)+1,T=a,O=l,D=!1;A>>7&&(D=!0,T=e,O=N,e+=3*N);var Q=e;for(e++;;){var E;if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}u.push({x:w,y:v,width:_,height:k,has_local_palette:D,palette_offset:T,palette_size:O,data_offset:Q,data_length:e-Q,transparent_index:h,interlaced:!!C,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,J){var U=this.frameInfo(j),ne=U.width*U.height,G=new Uint8Array(ne);Yb(r,U.data_offset,G,ne);var ae=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var F=U.width,te=t-F,B=F,L=4*(U.y*t+U.x),Y=4*((U.y+U.height)*t+U.x),re=L,X=4*te;U.interlaced===!0&&(X+=4*t*7);for(var K=8,W=0,pe=G.length;W<pe;++W){var be=G[W];if(B===0&&(B=F,(re+=X)>=Y&&(X=4*te+4*t*(K-1),re=L+(F+te)*(K<<1),K>>=1)),be===q)re+=4;else{var Ne=r[ae+3*be],Ae=r[ae+3*be+1],qe=r[ae+3*be+2];J[re++]=qe,J[re++]=Ae,J[re++]=Ne,J[re++]=255}--B}},this.decodeAndBlitFrameRGBA=function(j,J){var U=this.frameInfo(j),ne=U.width*U.height,G=new Uint8Array(ne);Yb(r,U.data_offset,G,ne);var ae=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var F=U.width,te=t-F,B=F,L=4*(U.y*t+U.x),Y=4*((U.y+U.height)*t+U.x),re=L,X=4*te;U.interlaced===!0&&(X+=4*t*7);for(var K=8,W=0,pe=G.length;W<pe;++W){var be=G[W];if(B===0&&(B=F,(re+=X)>=Y&&(X=4*te+4*t*(K-1),re=L+(F+te)*(K<<1),K>>=1)),be===q)re+=4;else{var Ne=r[ae+3*be],Ae=r[ae+3*be+1],qe=r[ae+3*be+2];J[re++]=Ne,J[re++]=Ae,J[re++]=qe,J[re++]=255}--B}}}function Yb(r,e,t,n){for(var s=r[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,u=0,f=0,h=0,d=r[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&d!==0;)f|=r[e++]<<u,u+=8,d===1?d=r[e++]:--d;if(u<l)break;var w=f&c;if(f>>=l,u-=l,w!==i){if(w===o)break;for(var v=w<a?w:g,_=0,k=v;k>i;)k=p[k]>>8,++_;var A=k;if(h+_+(v!==w?1:0)>n)return void an.log("Warning, gif stream longer than expected.");t[h++]=A;var C=h+=_;for(v!==w&&(t[h++]=A),k=v;_--;)k=p[k],t[--C]=255&k,k>>=8;g!==null&&a<4096&&(p[a++]=g<<8|A,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=w}else a=o+1,c=(1<<(l=s+1))-1,g=null}return h!==n&&an.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fm(r){var e,t,n,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),p=new Array(64),g=[],w=0,v=7,_=new Array(64),k=new Array(64),A=new Array(64),C=new Array(256),N=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(L,Y){for(var re=0,X=0,K=new Array,W=1;W<=16;W++){for(var pe=1;pe<=L[W];pe++)K[Y[X]]=[],K[Y[X]][0]=re,K[Y[X]][1]=W,X++,re++;re*=2}return K}function ae(L){for(var Y=L[0],re=L[1]-1;re>=0;)Y&1<<re&&(w|=1<<v),re--,--v<0&&(w==255?(q(255),q(0)):q(w),v=7,w=0)}function q(L){g.push(L)}function F(L){q(L>>8&255),q(255&L)}function te(L,Y,re,X,K){for(var W,pe=K[0],be=K[240],Ne=function(_e,Re){var je,Ye,yt,wt,Mt,at,bt,Ht,Pt,Ft,st=0;for(Pt=0;Pt<8;++Pt){je=_e[st],Ye=_e[st+1],yt=_e[st+2],wt=_e[st+3],Mt=_e[st+4],at=_e[st+5],bt=_e[st+6];var Cr=je+(Ht=_e[st+7]),rr=je-Ht,fs=Ye+bt,kr=Ye-bt,Er=yt+at,Mn=yt-at,pr=wt+Mt,rs=wt-Mt,Lr=Cr+pr,bs=Cr-pr,ns=fs+Er,Tr=fs-Er;_e[st]=Lr+ns,_e[st+4]=Lr-ns;var Yt=.707106781*(Tr+bs);_e[st+2]=bs+Yt,_e[st+6]=bs-Yt;var vr=.382683433*((Lr=rs+Mn)-(Tr=kr+rr)),Ds=.5411961*Lr+vr,Yr=1.306562965*Tr+vr,un=.707106781*(ns=Mn+kr),$s=rr+un,Wt=rr-un;_e[st+5]=Wt+Ds,_e[st+3]=Wt-Ds,_e[st+1]=$s+Yr,_e[st+7]=$s-Yr,st+=8}for(st=0,Pt=0;Pt<8;++Pt){je=_e[st],Ye=_e[st+8],yt=_e[st+16],wt=_e[st+24],Mt=_e[st+32],at=_e[st+40],bt=_e[st+48];var vs=je+(Ht=_e[st+56]),Un=je-Ht,fn=Ye+bt,nn=Ye-bt,Vr=yt+at,dn=yt-at,ti=wt+Mt,Wn=wt-Mt,bn=vs+ti,Yn=vs-ti,ys=fn+Vr,Qr=fn-Vr;_e[st]=bn+ys,_e[st+32]=bn-ys;var Sr=.707106781*(Qr+Yn);_e[st+16]=Yn+Sr,_e[st+48]=Yn-Sr;var Rs=.382683433*((bn=Wn+dn)-(Qr=nn+Un)),hi=.5411961*bn+Rs,kt=1.306562965*Qr+Rs,Jt=.707106781*(ys=dn+nn),jr=Un+Jt,$i=Un-Jt;_e[st+40]=$i+hi,_e[st+24]=$i-hi,_e[st+8]=jr+kt,_e[st+56]=jr-kt,st++}for(Pt=0;Pt<64;++Pt)Ft=_e[Pt]*Re[Pt],d[Pt]=Ft>0?Ft+.5|0:Ft-.5|0;return d}(L,Y),Ae=0;Ae<64;++Ae)p[T[Ae]]=Ne[Ae];var qe=p[0]-re;re=p[0],qe==0?ae(X[0]):(ae(X[h[W=32767+qe]]),ae(f[W]));for(var Me=63;Me>0&&p[Me]==0;)Me--;if(Me==0)return ae(pe),re;for(var Ee,Le=1;Le<=Me;){for(var ve=Le;p[Le]==0&&Le<=Me;)++Le;var Xe=Le-ve;if(Xe>=16){Ee=Xe>>4;for(var nt=1;nt<=Ee;++nt)ae(be);Xe&=15}W=32767+p[Le],ae(K[(Xe<<4)+h[W]]),ae(f[W]),Le++}return Me!=63&&ae(pe),re}function B(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(Y){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var K=o((re[X]*Y+50)/100);K=Math.min(Math.max(K,1),255),a[T[X]]=K}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var be=o((W[pe]*Y+50)/100);be=Math.min(Math.max(be,1),255),l[T[pe]]=be}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,qe=0;qe<8;qe++)for(var Me=0;Me<8;Me++)c[Ae]=1/(a[T[Ae]]*Ne[qe]*Ne[Me]*8),u[Ae]=1/(l[T[Ae]]*Ne[qe]*Ne[Me]*8),Ae++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,Y){Y&&B(Y),g=new Array,w=0,v=7,F(65496),F(65504),F(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),F(1),F(1),q(0),q(0),function(){F(65499),F(132),q(0);for(var Ye=0;Ye<64;Ye++)q(a[Ye]);q(1);for(var yt=0;yt<64;yt++)q(l[yt])}(),function(Ye,yt){F(65472),F(17),q(8),F(yt),F(Ye),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(L.width,L.height),function(){F(65476),F(418),q(0);for(var Ye=0;Ye<16;Ye++)q(O[Ye+1]);for(var yt=0;yt<=11;yt++)q(D[yt]);q(16);for(var wt=0;wt<16;wt++)q(Q[wt+1]);for(var Mt=0;Mt<=161;Mt++)q(E[Mt]);q(1);for(var at=0;at<16;at++)q(j[at+1]);for(var bt=0;bt<=11;bt++)q(J[bt]);q(17);for(var Ht=0;Ht<16;Ht++)q(U[Ht+1]);for(var Pt=0;Pt<=161;Pt++)q(ne[Pt])}(),F(65498),F(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var re=0,X=0,K=0;w=0,v=7,this.encode.displayName="_encode_";for(var W,pe,be,Ne,Ae,qe,Me,Ee,Le,ve=L.data,Xe=L.width,nt=L.height,_e=4*Xe,Re=0;Re<nt;){for(W=0;W<_e;){for(Ae=_e*Re+W,Me=-1,Ee=0,Le=0;Le<64;Le++)qe=Ae+(Ee=Le>>3)*_e+(Me=4*(7&Le)),Re+Ee>=nt&&(qe-=_e*(Re+1+Ee-nt)),W+Me>=_e&&(qe-=W+Me-_e+4),pe=ve[qe++],be=ve[qe++],Ne=ve[qe++],_[Le]=(N[pe]+N[be+256>>0]+N[Ne+512>>0]>>16)-128,k[Le]=(N[pe+768>>0]+N[be+1024>>0]+N[Ne+1280>>0]>>16)-128,A[Le]=(N[pe+1280>>0]+N[be+1536>>0]+N[Ne+1792>>0]>>16)-128;re=te(_,c,re,e,n),X=te(k,u,X,t,s),K=te(A,u,K,t,s),W+=32}Re+=8}if(v>=0){var je=[];je[1]=v+1,je[0]=(1<<v+1)-1,ae(je)}return F(65497),new Uint8Array(g)},r=r||50,function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)C[Y]=L(Y)}(),e=G(O,D),t=G(j,J),n=G(Q,E),s=G(U,ne),function(){for(var L=1,Y=2,re=1;re<=15;re++){for(var X=L;X<Y;X++)h[32767+X]=re,f[32767+X]=[],f[32767+X][1]=re,f[32767+X][0]=X;for(var K=-(Y-1);K<=-L;K++)h[32767+K]=re,f[32767+K]=[],f[32767+K][1]=re,f[32767+K][0]=Y-1+K;L<<=1,Y<<=1}}(),function(){for(var L=0;L<256;L++)N[L]=19595*L,N[L+256>>0]=38470*L,N[L+512>>0]=7471*L+32768,N[L+768>>0]=-11059*L,N[L+1024>>0]=-21709*L,N[L+1280>>0]=32768*L+8421375,N[L+1536>>0]=-27439*L,N[L+1792>>0]=-5329*L}(),B(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ko(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Qb(r){function e(O){if(!O)throw Error("assert :P")}function t(O,D,Q){for(var E=0;4>E;E++)if(O[D+E]!=Q.charCodeAt(E))return!0;return!1}function n(O,D,Q,E,j){for(var J=0;J<j;J++)O[D+J]=Q[E+J]}function s(O,D,Q,E){for(var j=0;j<E;j++)O[D+j]=Q}function i(O){return new Int32Array(O)}function o(O,D){for(var Q=[],E=0;E<O;E++)Q.push(new D);return Q}function a(O,D){var Q=[];return function E(j,J,U){for(var ne=U[J],G=0;G<ne&&(j.push(U.length>J+1?[]:new D),!(U.length<J+1));G++)E(j[G],J+1,U)}(Q,0,O),Q}var l=function(){var O=this;function D(y,S){for(var $=1<<S-1>>>0;y&$;)$>>>=1;return $?(y&$-1)+$:y}function Q(y,S,$,H,Z){e(!(H%$));do y[S+(H-=$)]=Z;while(0<H)}function E(y,S,$,H,Z){if(e(2328>=Z),512>=Z)var le=i(512);else if((le=i(Z))==null)return 0;return function(ce,he,ge,ye,Ce,He){var Ve,De,tt=he,We=1<<ge,$e=i(16),Ie=i(16);for(e(Ce!=0),e(ye!=null),e(ce!=null),e(0<ge),De=0;De<Ce;++De){if(15<ye[De])return 0;++$e[ye[De]]}if($e[0]==Ce)return 0;for(Ie[1]=0,Ve=1;15>Ve;++Ve){if($e[Ve]>1<<Ve)return 0;Ie[Ve+1]=Ie[Ve]+$e[Ve]}for(De=0;De<Ce;++De)Ve=ye[De],0<ye[De]&&(He[Ie[Ve]++]=De);if(Ie[15]==1)return(ye=new j).g=0,ye.value=He[0],Q(ce,tt,1,We,ye),We;var Ke,it=-1,et=We-1,Dt=0,_t=1,Kt=1,At=1<<ge;for(De=0,Ve=1,Ce=2;Ve<=ge;++Ve,Ce<<=1){if(_t+=Kt<<=1,0>(Kt-=$e[Ve]))return 0;for(;0<$e[Ve];--$e[Ve])(ye=new j).g=Ve,ye.value=He[De++],Q(ce,tt+Dt,Ce,At,ye),Dt=D(Dt,Ve)}for(Ve=ge+1,Ce=2;15>=Ve;++Ve,Ce<<=1){if(_t+=Kt<<=1,0>(Kt-=$e[Ve]))return 0;for(;0<$e[Ve];--$e[Ve]){if(ye=new j,(Dt&et)!=it){for(tt+=At,Ke=1<<(it=Ve)-ge;15>it&&!(0>=(Ke-=$e[it]));)++it,Ke<<=1;We+=At=1<<(Ke=it-ge),ce[he+(it=Dt&et)].g=Ke+ge,ce[he+it].value=tt-he-it}ye.g=Ve-ge,ye.value=He[De++],Q(ce,tt+(Dt>>ge),Ce,At,ye),Dt=D(Dt,Ve)}}return _t!=2*Ie[15]-1?0:We}(y,S,$,H,Z,le)}function j(){this.value=this.g=0}function J(){this.value=this.g=0}function U(){this.G=o(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(vi,J)}function ne(y,S,$,H){e(y!=null),e(S!=null),e(2147483648>H),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=$,y.Jd=S,y.Yc=$+H,y.Zc=4<=H?$+H-4+1:$,W(y)}function G(y,S){for(var $=0;0<S--;)$|=be(y,128)<<S;return $}function ae(y,S){var $=G(y,S);return pe(y)?-$:$}function q(y,S,$,H){var Z,le=0;for(e(y!=null),e(S!=null),e(4294967288>H),y.Sb=H,y.Ra=0,y.u=0,y.h=0,4<H&&(H=4),Z=0;Z<H;++Z)le+=S[$+Z]<<8*Z;y.Ra=le,y.bb=H,y.oa=S,y.pa=$}function F(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<gu-8>>>0,++y.bb,y.u-=8;re(y)&&(y.h=1,y.u=0)}function te(y,S){if(e(0<=S),!y.h&&S<=mu){var $=Y(y)&pu[S];return y.u+=S,F(y),$}return y.h=1,y.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(y){return y.Ra>>>(y.u&gu-1)>>>0}function re(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>gu}function X(y,S){y.u=S,y.h=re(y)}function K(y){y.u>=J0&&(e(y.u>=J0),F(y))}function W(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function pe(y){return G(y,1)}function be(y,S){var $=y.Ca;0>y.b&&W(y);var H=y.b,Z=$*S>>>8,le=(y.I>>>H>Z)+0;for(le?($-=Z,y.I-=Z+1<<H>>>0):$=Z+1,H=$,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+yi[H],y.b-=H,y.Ca=($<<H)-1,le}function Ne(y,S,$){y[S+0]=$>>24&255,y[S+1]=$>>16&255,y[S+2]=$>>8&255,y[S+3]=$>>0&255}function Ae(y,S){return y[S+0]<<0|y[S+1]<<8}function qe(y,S){return Ae(y,S)|y[S+2]<<16}function Me(y,S){return Ae(y,S)|Ae(y,S+2)<<16}function Ee(y,S){var $=1<<S;return e(y!=null),e(0<S),y.X=i($),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function Le(y,S){e(y!=null),e(S!=null),e(y.Xa==S.Xa),n(S.X,0,y.X,0,1<<S.Xa)}function ve(){this.X=[],this.Xa=this.Mb=0}function Xe(y,S,$,H){e($!=null),e(H!=null);var Z=$[0],le=H[0];return Z==0&&(Z=(y*le+S/2)/S),le==0&&(le=(S*Z+y/2)/y),0>=Z||0>=le?0:($[0]=Z,H[0]=le,1)}function nt(y,S){return y+(1<<S)-1>>>S}function _e(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function Re(y,S){O[S]=function($,H,Z,le,ce,he,ge){var ye;for(ye=0;ye<ce;++ye){var Ce=O[y](he[ge+ye-1],Z,le+ye);he[ge+ye]=_e($[H+ye],Ce)}}}function je(){this.ud=this.hd=this.jd=0}function Ye(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function yt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function wt(y,S){return yt(y+(y-S+.5>>1))}function Mt(y,S,$){return Math.abs(S-$)-Math.abs(y-$)}function at(y,S,$,H,Z,le,ce){for(H=le[ce-1],$=0;$<Z;++$)le[ce+$]=H=_e(y[S+$],H)}function bt(y,S,$,H,Z){var le;for(le=0;le<$;++le){var ce=y[S+le],he=ce>>8&255,ge=16711935&(ge=(ge=16711935&ce)+((he<<16)+he));H[Z+le]=(4278255360&ce)+ge>>>0}}function Ht(y,S){S.jd=y>>0&255,S.hd=y>>8&255,S.ud=y>>16&255}function Pt(y,S,$,H,Z,le){var ce;for(ce=0;ce<H;++ce){var he=S[$+ce],ge=he>>>8,ye=he,Ce=255&(Ce=(Ce=he>>>16)+((y.jd<<24>>24)*(ge<<24>>24)>>>5));ye=255&(ye=(ye=ye+((y.hd<<24>>24)*(ge<<24>>24)>>>5))+((y.ud<<24>>24)*(Ce<<24>>24)>>>5)),Z[le+ce]=(4278255360&he)+(Ce<<16)+ye}}function Ft(y,S,$,H,Z){O[S]=function(le,ce,he,ge,ye,Ce,He,Ve,De){for(ge=He;ge<Ve;++ge)for(He=0;He<De;++He)ye[Ce++]=Z(he[H(le[ce++])])},O[y]=function(le,ce,he,ge,ye,Ce,He){var Ve=8>>le.b,De=le.Ea,tt=le.K[0],We=le.w;if(8>Ve)for(le=(1<<le.b)-1,We=(1<<Ve)-1;ce<he;++ce){var $e,Ie=0;for($e=0;$e<De;++$e)$e&le||(Ie=H(ge[ye++])),Ce[He++]=Z(tt[Ie&We]),Ie>>=Ve}else O["VP8LMapColor"+$](ge,ye,tt,We,Ce,He,ce,he,De)}}function st(y,S,$,H,Z){for($=S+$;S<$;){var le=y[S++];H[Z++]=le>>16&255,H[Z++]=le>>8&255,H[Z++]=le>>0&255}}function Cr(y,S,$,H,Z){for($=S+$;S<$;){var le=y[S++];H[Z++]=le>>16&255,H[Z++]=le>>8&255,H[Z++]=le>>0&255,H[Z++]=le>>24&255}}function rr(y,S,$,H,Z){for($=S+$;S<$;){var le=(ce=y[S++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;H[Z++]=le,H[Z++]=ce}}function fs(y,S,$,H,Z){for($=S+$;S<$;){var le=(ce=y[S++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;H[Z++]=le,H[Z++]=ce}}function kr(y,S,$,H,Z){for($=S+$;S<$;){var le=y[S++];H[Z++]=le>>0&255,H[Z++]=le>>8&255,H[Z++]=le>>16&255}}function Er(y,S,$,H,Z,le){if(le==0)for($=S+$;S<$;)Ne(H,((le=y[S++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),Z+=32;else n(H,Z,y,S,$)}function Mn(y,S){O[S][0]=O[y+"0"],O[S][1]=O[y+"1"],O[S][2]=O[y+"2"],O[S][3]=O[y+"3"],O[S][4]=O[y+"4"],O[S][5]=O[y+"5"],O[S][6]=O[y+"6"],O[S][7]=O[y+"7"],O[S][8]=O[y+"8"],O[S][9]=O[y+"9"],O[S][10]=O[y+"10"],O[S][11]=O[y+"11"],O[S][12]=O[y+"12"],O[S][13]=O[y+"13"],O[S][14]=O[y+"0"],O[S][15]=O[y+"0"]}function pr(y){return y==xp||y==kp||y==$d||y==Sp}function rs(){this.eb=[],this.size=this.A=this.fb=0}function Lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rs,this.f.kb=new Lr,this.sd=null}function ns(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function vr(y,S){var $=y.T,H=S.ba.f.RGBA,Z=H.eb,le=H.fb+y.ka*H.A,ce=Gi[S.ba.S],he=y.y,ge=y.O,ye=y.f,Ce=y.N,He=y.ea,Ve=y.W,De=S.cc,tt=S.dc,We=S.Mc,$e=S.Nc,Ie=y.ka,Ke=y.ka+y.T,it=y.U,et=it+1>>1;for(Ie==0?ce(he,ge,null,null,ye,Ce,He,Ve,ye,Ce,He,Ve,Z,le,null,null,it):(ce(S.ec,S.fc,he,ge,De,tt,We,$e,ye,Ce,He,Ve,Z,le-H.A,Z,le,it),++$);Ie+2<Ke;Ie+=2)De=ye,tt=Ce,We=He,$e=Ve,Ce+=y.Rc,Ve+=y.Rc,le+=2*H.A,ce(he,(ge+=2*y.fa)-y.fa,he,ge,De,tt,We,$e,ye,Ce,He,Ve,Z,le-H.A,Z,le,it);return ge+=y.fa,y.j+Ke<y.o?(n(S.ec,S.fc,he,ge,it),n(S.cc,S.dc,ye,Ce,et),n(S.Mc,S.Nc,He,Ve,et),$--):1&Ke||ce(he,ge,null,null,ye,Ce,He,Ve,ye,Ce,He,Ve,Z,le+H.A,null,null,it),$}function Ds(y,S,$){var H=y.F,Z=[y.J];if(H!=null){var le=y.U,ce=S.ba.S,he=ce==Ld||ce==$d;S=S.ba.f.RGBA;var ge=[0],ye=y.ka;ge[0]=y.T,y.Kb&&(ye==0?--ge[0]:(--ye,Z[0]-=y.width),y.j+y.ka+y.T==y.o&&(ge[0]=y.o-y.j-ye));var Ce=S.eb;ye=S.fb+ye*S.A,y=Ad(H,Z[0],y.width,le,ge,Ce,ye+(he?0:3),S.A),e($==ge),y&&pr(ce)&&bl(Ce,ye,he,le,ge,S.A)}return 0}function Yr(y){var S=y.ma,$=S.ba.S,H=11>$,Z=$==Md||$==Cd||$==Ld||$==_p||$==12||pr($);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Q0(S.Oa,y,Z?11:12))return 0;if(Z&&pr($)&&dt(),y.da)alert("todo:use_scaling");else{if(H){if(S.Ib=Yt,y.Kb){if($=y.U+1>>1,S.memory=i(y.U+2*$),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+$,S.Ib=vr,dt()}}else alert("todo:EmitYUV");Z&&(S.Jb=Ds,H&&Fe())}if(H&&!i4){for(y=0;256>y;++y)yk[y]=89858*(y-128)+Id>>Od,xk[y]=-22014*(y-128)+Id,_k[y]=-45773*(y-128),wk[y]=113618*(y-128)+Id>>Od;for(y=rf;y<Np;++y)S=76283*(y-16)+Id>>Od,kk[y-rf]=Ii(S,255),Sk[y-rf]=Ii(S+8>>4,15);i4=1}return 1}function un(y){var S=y.ma,$=y.U,H=y.T;return e(!(1&y.ka)),0>=$||0>=H?0:($=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,$),S.Dc+=$,1)}function $s(y){y.ma.memory=null}function Wt(y,S,$,H){return te(y,8)!=47?0:(S[0]=te(y,14)+1,$[0]=te(y,14)+1,H[0]=te(y,1),te(y,3)!=0?0:!y.h)}function vs(y,S){if(4>y)return y+1;var $=y-2>>1;return(2+(1&y)<<$)+te(S,$)+1}function Un(y,S){return 120<S?S-120:1<=($=(($=ik[S-1])>>4)*y+(8-(15&$)))?$:1;var $}function fn(y,S,$){var H=Y($),Z=y[S+=255&H].g-8;return 0<Z&&(X($,$.u+8),H=Y($),S+=y[S].value,S+=H&(1<<Z)-1),X($,$.u+y[S].g),y[S].value}function nn(y,S,$){return $.g+=y.g,$.value+=y.value<<S>>>0,e(8>=$.g),y.g}function Vr(y,S,$){var H=y.xc;return e((S=H==0?0:y.vc[y.md*($>>H)+(S>>H)])<y.Wb),y.Ya[S]}function dn(y,S,$,H){var Z=y.ab,le=y.c*S,ce=y.C;S=ce+S;var he=$,ge=H;for(H=y.Ta,$=y.Ua;0<Z--;){var ye=y.gc[Z],Ce=ce,He=S,Ve=he,De=ge,tt=(ge=H,he=$,ye.Ea);switch(e(Ce<He),e(He<=ye.nc),ye.hc){case 2:Sd(Ve,De,(He-Ce)*tt,ge,he);break;case 0:var We=Ce,$e=He,Ie=ge,Ke=he,it=(At=ye).Ea;We==0&&(bp(Ve,De,null,null,1,Ie,Ke),at(Ve,De+1,0,0,it-1,Ie,Ke+1),De+=it,Ke+=it,++We);for(var et=1<<At.b,Dt=et-1,_t=nt(it,At.b),Kt=At.K,At=At.w+(We>>At.b)*_t;We<$e;){var Ur=Kt,Jr=At,Dr=1;for(K0(Ve,De,Ie,Ke-it,1,Ie,Ke);Dr<it;){var Nr=(Dr&~Dt)+et;Nr>it&&(Nr=it),(0,hl[Ur[Jr++]>>8&15])(Ve,De+ +Dr,Ie,Ke+Dr-it,Nr-Dr,Ie,Ke+Dr),Dr=Nr}De+=it,Ke+=it,++We&Dt||(At+=_t)}He!=ye.nc&&n(ge,he-tt,ge,he+(He-Ce-1)*tt,tt);break;case 1:for(tt=Ve,$e=De,it=(Ve=ye.Ea)-(Ke=Ve&~(Ie=(De=1<<ye.b)-1)),We=nt(Ve,ye.b),et=ye.K,ye=ye.w+(Ce>>ye.b)*We;Ce<He;){for(Dt=et,_t=ye,Kt=new je,At=$e+Ke,Ur=$e+Ve;$e<At;)Ht(Dt[_t++],Kt),Wi(Kt,tt,$e,De,ge,he),$e+=De,he+=De;$e<Ur&&(Ht(Dt[_t++],Kt),Wi(Kt,tt,$e,it,ge,he),$e+=it,he+=it),++Ce&Ie||(ye+=We)}break;case 3:if(Ve==ge&&De==he&&0<ye.b){for($e=ge,Ve=tt=he+(He-Ce)*tt-(Ke=(He-Ce)*nt(ye.Ea,ye.b)),De=ge,Ie=he,We=[],Ke=(it=Ke)-1;0<=Ke;--Ke)We[Ke]=De[Ie+Ke];for(Ke=it-1;0<=Ke;--Ke)$e[Ve+Ke]=We[Ke];mo(ye,Ce,He,ge,tt,ge,he)}else mo(ye,Ce,He,Ve,De,ge,he)}he=H,ge=$}ge!=$&&n(H,$,he,ge,le)}function ti(y,S){var $=y.V,H=y.Ba+y.c*y.C,Z=S-y.C;if(e(S<=y.l.o),e(16>=Z),0<Z){var le=y.l,ce=y.Ta,he=y.Ua,ge=le.width;if(dn(y,Z,$,H),Z=he=[he],e(($=y.C)<(H=S)),e(le.v<le.va),H>le.o&&(H=le.o),$<le.j){var ye=le.j-$;$=le.j,Z[0]+=ye*ge}if($>=H?$=0:(Z[0]+=4*le.v,le.ka=$-le.j,le.U=le.va-le.v,le.T=H-$,$=1),$){if(he=he[0],11>($=y.ca).S){var Ce=$.f.RGBA,He=(H=$.S,Z=le.U,le=le.T,ye=Ce.eb,Ce.A),Ve=le;for(Ce=Ce.fb+y.Ma*Ce.A;0<Ve--;){var De=ce,tt=he,We=Z,$e=ye,Ie=Ce;switch(H){case Nd:go(De,tt,We,$e,Ie);break;case Md:pl(De,tt,We,$e,Ie);break;case xp:pl(De,tt,We,$e,Ie),bl($e,Ie,0,We,1,0);break;case G5:bu(De,tt,We,$e,Ie);break;case Cd:Er(De,tt,We,$e,Ie,1);break;case kp:Er(De,tt,We,$e,Ie,1),bl($e,Ie,0,We,1,0);break;case Ld:Er(De,tt,We,$e,Ie,0);break;case $d:Er(De,tt,We,$e,Ie,0),bl($e,Ie,1,We,1,0);break;case _p:Wo(De,tt,We,$e,Ie);break;case Sp:Wo(De,tt,We,$e,Ie),wu($e,Ie,We,1,0);break;case J5:Ma(De,tt,We,$e,Ie);break;default:e(0)}he+=ge,Ce+=He}y.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=$.height)}}y.C=S,e(y.C<=y.i)}function Wn(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var $=y.Ya[S].G,H=y.Ya[S].H;if(0<$[1][H[1]+0].g||0<$[2][H[2]+0].g||0<$[3][H[3]+0].g)return 0}return 1}function bn(y,S,$,H,Z,le){if(y.Z!=0){var ce=y.qd,he=y.rd;for(e(yl[y.Z]!=null);S<$;++S)yl[y.Z](ce,he,H,Z,H,Z,le),ce=H,he=Z,Z+=le;y.qd=ce,y.rd=he}}function Yn(y,S){var $=y.l.ma,H=$.Z==0||$.Z==1?y.l.j:y.C;if(H=y.C<H?H:y.C,e(S<=y.l.o),S>H){var Z=y.l.width,le=$.ca,ce=$.tb+Z*H,he=y.V,ge=y.Ba+y.c*H,ye=y.gc;e(y.ab==1),e(ye[0].hc==3),vp(ye[0],H,S,he,ge,le,ce),bn($,H,S,le,ce,Z)}y.C=y.Ma=S}function ys(y,S,$,H,Z,le,ce){var he=y.$/H,ge=y.$%H,ye=y.m,Ce=y.s,He=$+y.$,Ve=He;Z=$+H*Z;var De=$+H*le,tt=280+Ce.ua,We=y.Pb?he:16777216,$e=0<Ce.ua?Ce.Wa:null,Ie=Ce.wc,Ke=He<De?Vr(Ce,ge,he):null;e(y.C<le),e(De<=Z);var it=!1;e:for(;;){for(;it||He<De;){var et=0;if(he>=We){var Dt=He-$;e((We=y).Pb),We.wd=We.m,We.xd=Dt,0<We.s.ua&&Le(We.s.Wa,We.s.vb),We=he+ak}if(ge&Ie||(Ke=Vr(Ce,ge,he)),e(Ke!=null),Ke.Qb&&(S[He]=Ke.qb,it=!0),!it)if(K(ye),Ke.jc){et=ye,Dt=S;var _t=He,Kt=Ke.pd[Y(et)&vi-1];e(Ke.jc),256>Kt.g?(X(et,et.u+Kt.g),Dt[_t]=Kt.value,et=0):(X(et,et.u+Kt.g-256),e(256<=Kt.value),et=Kt.value),et==0&&(it=!0)}else et=fn(Ke.G[0],Ke.H[0],ye);if(ye.h)break;if(it||256>et){if(!it)if(Ke.nd)S[He]=(Ke.qb|et<<8)>>>0;else{if(K(ye),it=fn(Ke.G[1],Ke.H[1],ye),K(ye),Dt=fn(Ke.G[2],Ke.H[2],ye),_t=fn(Ke.G[3],Ke.H[3],ye),ye.h)break;S[He]=(_t<<24|it<<16|et<<8|Dt)>>>0}if(it=!1,++He,++ge>=H&&(ge=0,++he,ce!=null&&he<=le&&!(he%16)&&ce(y,he),$e!=null))for(;Ve<He;)et=S[Ve++],$e.X[(506832829*et&4294967295)>>>$e.Mb]=et}else if(280>et){if(et=vs(et-256,ye),Dt=fn(Ke.G[4],Ke.H[4],ye),K(ye),Dt=Un(H,Dt=vs(Dt,ye)),ye.h)break;if(He-$<Dt||Z-He<et)break e;for(_t=0;_t<et;++_t)S[He+_t]=S[He+_t-Dt];for(He+=et,ge+=et;ge>=H;)ge-=H,++he,ce!=null&&he<=le&&!(he%16)&&ce(y,he);if(e(He<=Z),ge&Ie&&(Ke=Vr(Ce,ge,he)),$e!=null)for(;Ve<He;)et=S[Ve++],$e.X[(506832829*et&4294967295)>>>$e.Mb]=et}else{if(!(et<tt))break e;for(it=et-280,e($e!=null);Ve<He;)et=S[Ve++],$e.X[(506832829*et&4294967295)>>>$e.Mb]=et;et=He,e(!(it>>>(Dt=$e).Xa)),S[et]=Dt.X[it],it=!0}it||e(ye.h==re(ye))}if(y.Pb&&ye.h&&He<Z)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Le(y.s.vb,y.s.Wa);else{if(ye.h)break e;ce!=null&&ce(y,he>le?le:he),y.a=0,y.$=He-$}return 1}return y.a=3,0}function Qr(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,e(y!=null)}function Sr(){var y=new gp;return y==null?null:(y.a=0,y.xb=Z5,Mn("Predictor","VP8LPredictors"),Mn("Predictor","VP8LPredictors_C"),Mn("PredictorAdd","VP8LPredictorsAdd"),Mn("PredictorAdd","VP8LPredictorsAdd_C"),Sd=bt,Wi=Pt,go=st,pl=Cr,Wo=rr,Ma=fs,bu=kr,O.VP8LMapColor32b=X0,O.VP8LMapColor8b=yp,y)}function Rs(y,S,$,H,Z){var le=1,ce=[y],he=[S],ge=H.m,ye=H.s,Ce=null,He=0;e:for(;;){if($)for(;le&&te(ge,1);){var Ve=ce,De=he,tt=H,We=1,$e=tt.m,Ie=tt.gc[tt.ab],Ke=te($e,2);if(tt.Oc&1<<Ke)le=0;else{switch(tt.Oc|=1<<Ke,Ie.hc=Ke,Ie.Ea=Ve[0],Ie.nc=De[0],Ie.K=[null],++tt.ab,e(4>=tt.ab),Ke){case 0:case 1:Ie.b=te($e,3)+2,We=Rs(nt(Ie.Ea,Ie.b),nt(Ie.nc,Ie.b),0,tt,Ie.K),Ie.K=Ie.K[0];break;case 3:var it,et=te($e,8)+1,Dt=16<et?0:4<et?1:2<et?2:3;if(Ve[0]=nt(Ie.Ea,Dt),Ie.b=Dt,it=We=Rs(et,1,0,tt,Ie.K)){var _t,Kt=et,At=Ie,Ur=1<<(8>>At.b),Jr=i(Ur);if(Jr==null)it=0;else{var Dr=At.K[0],Nr=At.w;for(Jr[0]=At.K[0][0],_t=1;_t<1*Kt;++_t)Jr[_t]=_e(Dr[Nr+_t],Jr[_t-1]);for(;_t<4*Ur;++_t)Jr[_t]=0;At.K[0]=null,At.K[0]=Jr,it=1}}We=it;break;case 2:break;default:e(0)}le=We}}if(ce=ce[0],he=he[0],le&&te(ge,1)&&!(le=1<=(He=te(ge,4))&&11>=He)){H.a=3;break e}var on;if(on=le)t:{var Zr,mr,is,wi=H,as=ce,_i=he,Kr=He,Pi=$,Di=wi.m,ks=wi.s,Os=[null],si=1,Ji=0,Yo=ok[Kr];r:for(;;){if(Pi&&te(Di,1)){var Ss=te(Di,3)+2,Ia=nt(as,Ss),yc=nt(_i,Ss),_u=Ia*yc;if(!Rs(Ia,yc,0,wi,Os))break r;for(Os=Os[0],ks.xc=Ss,Zr=0;Zr<_u;++Zr){var wl=Os[Zr]>>8&65535;Os[Zr]=wl,wl>=si&&(si=wl+1)}}if(Di.h)break r;for(mr=0;5>mr;++mr){var jn=K5[mr];!mr&&0<Kr&&(jn+=1<<Kr),Ji<jn&&(Ji=jn)}var Mp=o(si*Yo,j),l4=si,c4=o(l4,U);if(c4==null)var Pd=null;else e(65536>=l4),Pd=c4;var nf=i(Ji);if(Pd==null||nf==null||Mp==null){wi.a=1;break r}var Dd=Mp;for(Zr=is=0;Zr<si;++Zr){var wo=Pd[Zr],xu=wo.G,ku=wo.H,u4=0,Rd=1,f4=0;for(mr=0;5>mr;++mr){jn=K5[mr],xu[mr]=Dd,ku[mr]=is,!mr&&0<Kr&&(jn+=1<<Kr);s:{var Fd,Cp=jn,jd=wi,sf=nf,Nk=Dd,Mk=is,Lp=0,_l=jd.m,Ck=te(_l,1);if(s(sf,0,0,Cp),Ck){var Lk=te(_l,1)+1,$k=te(_l,1),d4=te(_l,$k==0?1:8);sf[d4]=1,Lk==2&&(sf[d4=te(_l,8)]=1);var Bd=1}else{var h4=i(19),p4=te(_l,4)+4;if(19<p4){jd.a=3;var zd=0;break s}for(Fd=0;Fd<p4;++Fd)h4[sk[Fd]]=te(_l,3);var $p=void 0,of=void 0,m4=jd,Ok=h4,qd=Cp,g4=sf,Op=0,xl=m4.m,b4=8,v4=o(128,j);n:for(;E(v4,0,7,Ok,19);){if(te(xl,1)){var Ik=2+2*te(xl,3);if(($p=2+te(xl,Ik))>qd)break n}else $p=qd;for(of=0;of<qd&&$p--;){K(xl);var y4=v4[0+(127&Y(xl))];X(xl,xl.u+y4.g);var Su=y4.value;if(16>Su)g4[of++]=Su,Su!=0&&(b4=Su);else{var Ek=Su==16,w4=Su-16,Pk=rk[w4],_4=te(xl,tk[w4])+Pk;if(of+_4>qd)break n;for(var Dk=Ek?b4:0;0<_4--;)g4[of++]=Dk}}Op=1;break n}Op||(m4.a=3),Bd=Op}(Bd=Bd&&!_l.h)&&(Lp=E(Nk,Mk,8,sf,Cp)),Bd&&Lp!=0?zd=Lp:(jd.a=3,zd=0)}if(zd==0)break r;if(Rd&&nk[mr]==1&&(Rd=Dd[is].g==0),u4+=Dd[is].g,is+=zd,3>=mr){var af,Ip=nf[0];for(af=1;af<jn;++af)nf[af]>Ip&&(Ip=nf[af]);f4+=Ip}}if(wo.nd=Rd,wo.Qb=0,Rd&&(wo.qb=(xu[3][ku[3]+0].value<<24|xu[1][ku[1]+0].value<<16|xu[2][ku[2]+0].value)>>>0,u4==0&&256>xu[0][ku[0]+0].value&&(wo.Qb=1,wo.qb+=xu[0][ku[0]+0].value<<8)),wo.jc=!wo.Qb&&6>f4,wo.jc){var Hd,Ea=wo;for(Hd=0;Hd<vi;++Hd){var kl=Hd,Sl=Ea.pd[kl],Vd=Ea.G[0][Ea.H[0]+kl];256<=Vd.value?(Sl.g=Vd.g+256,Sl.value=Vd.value):(Sl.g=0,Sl.value=0,kl>>=nn(Vd,8,Sl),kl>>=nn(Ea.G[1][Ea.H[1]+kl],16,Sl),kl>>=nn(Ea.G[2][Ea.H[2]+kl],0,Sl),nn(Ea.G[3][Ea.H[3]+kl],24,Sl))}}}ks.vc=Os,ks.Wb=si,ks.Ya=Pd,ks.yc=Mp,on=1;break t}on=0}if(!(le=on)){H.a=3;break e}if(0<He){if(ye.ua=1<<He,!Ee(ye.Wa,He)){H.a=1,le=0;break e}}else ye.ua=0;var Ep=H,x4=ce,Rk=he,Pp=Ep.s,Dp=Pp.xc;if(Ep.c=x4,Ep.i=Rk,Pp.md=nt(x4,Dp),Pp.wc=Dp==0?-1:(1<<Dp)-1,$){H.xb=pk;break e}if((Ce=i(ce*he))==null){H.a=1,le=0;break e}le=(le=ys(H,Ce,0,ce,he,he,null))&&!ge.h;break e}return le?(Z!=null?Z[0]=Ce:(e(Ce==null),e($)),H.$=0,$||Qr(ye)):Qr(ye),le}function hi(y,S){var $=y.c*y.i,H=$+S+16*S;return e(y.c<=S),y.V=i(H),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+$+S,1)}function kt(y,S){var $=y.C,H=S-$,Z=y.V,le=y.Ba+y.c*$;for(e(S<=y.l.o);0<H;){var ce=16<H?16:H,he=y.l.ma,ge=y.l.width,ye=ge*ce,Ce=he.ca,He=he.tb+ge*$,Ve=y.Ta,De=y.Ua;dn(y,ce,Z,le),H5(Ve,De,Ce,He,ye),bn(he,$,$+ce,Ce,He,ge),H-=ce,Z+=ce*y.c,$+=ce}e($==S),y.C=y.Ma=S}function Jt(){this.ub=this.yd=this.td=this.Rb=0}function jr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $i(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function co(){this.Yb=function(){var y=[];return function S($,H,Z){for(var le=Z[H],ce=0;ce<le&&($.push(Z.length>H+1?[]:0),!(Z.length<H+1));ce++)S($[ce],H+1,Z)}(y,0,[3,11]),y}()}function Ho(){this.jb=i(3),this.Wc=a([4,8],co),this.Xc=a([4,17],co)}function Ge(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vt(){this.ld=this.La=this.dd=this.tc=0}function Qn(){this.Na=this.la=0}function pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ri(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vt),this.Y=0,this.ya=Array(new Cn),this.aa=0,this.l=new il}function Zc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function P0(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Jt,this.Kc=new jr,this.ed=new Ge,this.Qa=new $i,this.Ic=this.$c=this.Aa=0,this.D=new ri,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,pi),this.Pa=new Ho,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zc),this.Hd=0,this.rb=Array(new Qn),this.sb=0,this.wa=Array(new Vt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cn),this.L=this.aa=0,this.gd=a([4,2],Vt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function il(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function D0(){var y=new P0;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,tf||(tf=tu)),y}function Ln(y,S,$){return y.a==0&&(y.a=S,y.sc=$,y.cb=0),0}function eu(y,S,$){return 3<=$&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function ka(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return Ln(y,2,"null VP8Io passed to VP8GetHeaders()");var $=S.data,H=S.w,Z=S.ha;if(4>Z)return Ln(y,7,"Truncated header.");var le=$[H+0]|$[H+1]<<8|$[H+2]<<16,ce=y.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return Ln(y,3,"Incorrect keyframe parameters.");if(!ce.yd)return Ln(y,4,"Frame not displayable.");H+=3,Z-=3;var he=y.Kc;if(ce.Rb){if(7>Z)return Ln(y,7,"cannot parse picture header");if(!eu($,H,Z))return Ln(y,3,"Bad code word");he.c=16383&($[H+4]<<8|$[H+3]),he.Td=$[H+4]>>6,he.i=16383&($[H+6]<<8|$[H+5]),he.Ud=$[H+6]>>6,H+=7,Z-=7,y.za=he.c+15>>4,y.Ub=he.i+15>>4,S.width=he.c,S.height=he.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((le=y.Pa).jb,0,255,le.jb.length),e((le=y.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,s(le.Zb,0,0,le.Zb.length),s(le.Lb,0,0,le.Lb)}if(ce.ub>Z)return Ln(y,7,"bad partition length");ne(le=y.m,$,H,ce.ub),H+=ce.ub,Z-=ce.ub,ce.Rb&&(he.Ld=pe(le),he.Kd=pe(le)),he=y.Qa;var ge,ye=y.Pa;if(e(le!=null),e(he!=null),he.Cb=pe(le),he.Cb){if(he.Bb=pe(le),pe(le)){for(he.Fb=pe(le),ge=0;4>ge;++ge)he.Zb[ge]=pe(le)?ae(le,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=pe(le)?ae(le,6):0}if(he.Bb)for(ge=0;3>ge;++ge)ye.jb[ge]=pe(le)?G(le,8):255}else he.Bb=0;if(le.Ka)return Ln(y,3,"cannot parse segment header");if((he=y.ed).zd=pe(le),he.Tb=G(le,6),he.wb=G(le,3),he.Pc=pe(le),he.Pc&&pe(le)){for(ye=0;4>ye;++ye)pe(le)&&(he.vd[ye]=ae(le,6));for(ye=0;4>ye;++ye)pe(le)&&(he.od[ye]=ae(le,6))}if(y.L=he.Tb==0?0:he.zd?1:2,le.Ka)return Ln(y,3,"cannot parse filter header");var Ce=Z;if(Z=ge=H,H=ge+Ce,he=Ce,y.Xb=(1<<G(y.m,2))-1,Ce<3*(ye=y.Xb))$=7;else{for(ge+=3*ye,he-=3*ye,Ce=0;Ce<ye;++Ce){var He=$[Z+0]|$[Z+1]<<8|$[Z+2]<<16;He>he&&(He=he),ne(y.Jc[+Ce],$,ge,He),ge+=He,he-=He,Z+=3}ne(y.Jc[+ye],$,ge,he),$=ge<H?0:5}if($!=0)return Ln(y,$,"cannot parse partitions");for($=G(ge=y.m,7),Z=pe(ge)?ae(ge,4):0,H=pe(ge)?ae(ge,4):0,he=pe(ge)?ae(ge,4):0,ye=pe(ge)?ae(ge,4):0,ge=pe(ge)?ae(ge,4):0,Ce=y.Qa,He=0;4>He;++He){if(Ce.Cb){var Ve=Ce.Zb[He];Ce.Fb||(Ve+=$)}else{if(0<He){y.pb[He]=y.pb[0];continue}Ve=$}var De=y.pb[He];De.Sc[0]=Ap[Ii(Ve+Z,127)],De.Sc[1]=Tp[Ii(Ve+0,127)],De.Eb[0]=2*Ap[Ii(Ve+H,127)],De.Eb[1]=101581*Tp[Ii(Ve+he,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=Ap[Ii(Ve+ye,117)],De.Qc[1]=Tp[Ii(Ve+ge,127)],De.lc=Ve+ge}if(!ce.Rb)return Ln(y,4,"Not a key frame.");for(pe(le),ce=y.Pa,$=0;4>$;++$){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(he=0;11>he;++he)ye=be(le,dk[$][Z][H][he])?G(le,8):uk[$][Z][H][he],ce.Wc[$][Z].Yb[H][he]=ye;for(Z=0;17>Z;++Z)ce.Xc[$][Z]=ce.Wc[$][hk[Z]]}return y.kc=pe(le),y.kc&&(y.Bd=G(le,8)),y.cb=1}function tu(y,S,$,H,Z,le,ce){var he=S[Z].Yb[$];for($=0;16>Z;++Z){if(!be(y,he[$+0]))return Z;for(;!be(y,he[$+1]);)if(he=S[++Z].Yb[0],$=0,Z==16)return 16;var ge=S[Z+1].Yb;if(be(y,he[$+2])){var ye=y,Ce=0;if(be(ye,(Ve=he)[(He=$)+3]))if(be(ye,Ve[He+6])){for(he=0,He=2*(Ce=be(ye,Ve[He+8]))+(Ve=be(ye,Ve[He+9+Ce])),Ce=0,Ve=lk[He];Ve[he];++he)Ce+=Ce+be(ye,Ve[he]);Ce+=3+(8<<He)}else be(ye,Ve[He+7])?(Ce=7+2*be(ye,165),Ce+=be(ye,145)):Ce=5+be(ye,159);else Ce=be(ye,Ve[He+4])?3+be(ye,Ve[He+5]):2;he=ge[2]}else Ce=1,he=ge[1];ge=ce+ck[Z],0>(ye=y).b&&W(ye);var He,Ve=ye.b,De=(He=ye.Ca>>1)-(ye.I>>Ve)>>31;--ye.b,ye.Ca+=De,ye.Ca|=1,ye.I-=(He+1&De)<<Ve,le[ge]=((Ce^De)-De)*H[(0<Z)+0]}return 16}function uo(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function ru(y,S){if(y==null)return 0;if(S==null)return Ln(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!ka(y,S))return 0;if(e(y.cb),S.ac==null||S.ac(S)){S.ob&&(y.L=0);var $=Ed[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=S.v-$>>4,y.zb=S.j-$>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=S.o+15+$>>4,y.Hb=S.va+15+$>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var H=y.ed;for($=0;4>$;++$){var Z;if(y.Qa.Cb){var le=y.Qa.Lb[$];y.Qa.Fb||(le+=H.Tb)}else le=H.Tb;for(Z=0;1>=Z;++Z){var ce=y.gd[$][Z],he=le;if(H.Pc&&(he+=H.vd[0],Z&&(he+=H.od[0])),0<(he=0>he?0:63<he?63:he)){var ge=he;0<H.wb&&(ge=4<H.wb?ge>>2:ge>>1)>9-H.wb&&(ge=9-H.wb),1>ge&&(ge=1),ce.dd=ge,ce.tc=2*he+ge,ce.ld=40<=he?2:15<=he?1:0}else ce.tc=0;ce.La=Z}}}$=0}else Ln(y,6,"Frame setup failed"),$=y.a;if($=$==0){if($){y.$c=0,0<y.Aa||(y.Ic=Tk);e:{$=y.Ic,H=4*(ge=y.za);var ye=32*ge,Ce=ge+1,He=0<y.L?ge*(0<y.Aa?2:1):0,Ve=(y.Aa==2?2:1)*ge;if((ce=H+832+(Z=3*(16*$+Ed[y.L])/2*ye)+(le=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ce)$=0;else{if(ce>y.Vb){if(y.Vb=0,y.Ec=i(ce),y.Fc=0,y.Ec==null){$=Ln(y,1,"no memory during frame initialization.");break e}y.Vb=ce}ce=y.Ec,he=y.Fc,y.Ac=ce,y.Bc=he,he+=H,y.Gd=o(ye,Zc),y.Hd=0,y.rb=o(Ce+1,Qn),y.sb=1,y.wa=He?o(He,Vt):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ge),e(!0),y.oc=ce,y.pc=he,he+=832,y.ya=o(Ve,Cn),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ge),y.R=16*ge,y.B=8*ge,ge=(ye=Ed[y.L])*y.R,ye=ye/2*y.B,y.sa=ce,y.ta=he+ge,y.qa=y.sa,y.ra=y.ta+16*$*y.R+ye,y.Ha=y.qa,y.Ia=y.ra+8*$*y.B+ye,y.$c=0,he+=Z,y.mb=le?ce:null,y.nb=le?he:null,e(he+le<=y.Fc+y.Vb),uo(y),s(y.Ac,y.Bc,0,H),$=1}}if($){if(S.ka=0,S.y=y.sa,S.O=y.ta,S.f=y.qa,S.N=y.ra,S.ea=y.Ha,S.Vd=y.Ia,S.fa=y.R,S.Rc=y.B,S.F=null,S.J=0,!Q5){for($=-255;255>=$;++$)V5[255+$]=0>$?-$:$;for($=-1020;1020>=$;++$)U5[1020+$]=-128>$?-128:127<$?127:$;for($=-112;112>=$;++$)W5[112+$]=-16>$?-16:15<$?15:$;for($=-255;510>=$;++$)Y5[255+$]=0>$?0:255<$?255:$;Q5=1}bo=al,vu=su,ml=iu,vo=R0,Ca=dc,Z0=nu,bc=_s,yu=js,vc=cu,gl=Vo,ef=Oi,Yi=bi,La=Uo,hn=_d,pn=Dn,Gn=Pr,ds=Rn,$a=ni,yo[0]=gi,yo[1]=F0,yo[2]=ul,yo[3]=B0,yo[4]=au,yo[5]=Sa,yo[6]=pc,yo[7]=fl,yo[8]=lu,yo[9]=Aa,vl[0]=ou,vl[1]=Ui,vl[2]=fo,vl[3]=ll,vl[4]=ws,vl[5]=ho,vl[6]=hc,Oa[0]=we,Oa[1]=j0,Oa[2]=z0,Oa[3]=mc,Oa[4]=Ze,Oa[5]=Pe,Oa[6]=Lt,$=1}else $=0}$&&($=function(De,tt){for(De.M=0;De.M<De.Va;++De.M){var We,$e=De.Jc[De.M&De.Xb],Ie=De.m,Ke=De;for(We=0;We<Ke.za;++We){var it=Ie,et=Ke,Dt=et.Ac,_t=et.Bc+4*We,Kt=et.zc,At=et.ya[et.aa+We];if(et.Qa.Bb?At.$b=be(it,et.Pa.jb[0])?2+be(it,et.Pa.jb[2]):be(it,et.Pa.jb[1]):At.$b=0,et.kc&&(At.Ad=be(it,et.Bd)),At.Za=!be(it,145)+0,At.Za){var Ur=At.Ob,Jr=0;for(et=0;4>et;++et){var Dr,Nr=Kt[0+et];for(Dr=0;4>Dr;++Dr){Nr=fk[Dt[_t+Dr]][Nr];for(var on=X5[be(it,Nr[0])];0<on;)on=X5[2*on+be(it,Nr[on])];Nr=-on,Dt[_t+Dr]=Nr}n(Ur,Jr,Dt,_t,4),Jr+=4,Kt[0+et]=Nr}}else Nr=be(it,156)?be(it,128)?1:3:be(it,163)?2:0,At.Ob[0]=Nr,s(Dt,_t,Nr,4),s(Kt,0,Nr,4);At.Dd=be(it,142)?be(it,114)?be(it,183)?1:3:2:0}if(Ke.m.Ka)return Ln(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(Ke=$e,it=(Ie=De).rb[Ie.sb-1],Dt=Ie.rb[Ie.sb+Ie.ja],We=Ie.ya[Ie.aa+Ie.ja],_t=Ie.kc?We.Ad:0)it.la=Dt.la=0,We.Za||(it.Na=Dt.Na=0),We.Hc=0,We.Gc=0,We.ia=0;else{var Zr,mr;if(it=Dt,Dt=Ke,_t=Ie.Pa.Xc,Kt=Ie.ya[Ie.aa+Ie.ja],At=Ie.pb[Kt.$b],et=Kt.ad,Ur=0,Jr=Ie.rb[Ie.sb-1],Nr=Dr=0,s(et,Ur,0,384),Kt.Za)var is=0,wi=_t[3];else{on=i(16);var as=it.Na+Jr.Na;if(as=tf(Dt,_t[1],as,At.Eb,0,on,0),it.Na=Jr.Na=(0<as)+0,1<as)bo(on,0,et,Ur);else{var _i=on[0]+3>>3;for(on=0;256>on;on+=16)et[Ur+on]=_i}is=1,wi=_t[0]}var Kr=15&it.la,Pi=15&Jr.la;for(on=0;4>on;++on){var Di=1&Pi;for(_i=mr=0;4>_i;++_i)Kr=Kr>>1|(Di=(as=tf(Dt,wi,as=Di+(1&Kr),At.Sc,is,et,Ur))>is)<<7,mr=mr<<2|(3<as?3:1<as?2:et[Ur+0]!=0),Ur+=16;Kr>>=4,Pi=Pi>>1|Di<<7,Dr=(Dr<<8|mr)>>>0}for(wi=Kr,is=Pi>>4,Zr=0;4>Zr;Zr+=2){for(mr=0,Kr=it.la>>4+Zr,Pi=Jr.la>>4+Zr,on=0;2>on;++on){for(Di=1&Pi,_i=0;2>_i;++_i)as=Di+(1&Kr),Kr=Kr>>1|(Di=0<(as=tf(Dt,_t[2],as,At.Qc,0,et,Ur)))<<3,mr=mr<<2|(3<as?3:1<as?2:et[Ur+0]!=0),Ur+=16;Kr>>=2,Pi=Pi>>1|Di<<5}Nr|=mr<<4*Zr,wi|=Kr<<4<<Zr,is|=(240&Pi)<<Zr}it.la=wi,Jr.la=is,Kt.Hc=Dr,Kt.Gc=Nr,Kt.ia=43690&Nr?0:At.ia,_t=!(Dr|Nr)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[We.$b][We.Za],Ie.wa[Ie.Y+Ie.ja].La|=!_t),Ke.Ka)return Ln(De,7,"Premature end-of-file encountered.")}if(uo(De),Ie=tt,Ke=1,We=($e=De).D,it=0<$e.L&&$e.M>=$e.zb&&$e.M<=$e.Va,$e.Aa==0)e:{if(We.M=$e.M,We.uc=it,Y0($e,We),Ke=1,We=(mr=$e.D).Nb,it=(Nr=Ed[$e.L])*$e.R,Dt=Nr/2*$e.B,on=16*We*$e.R,_i=8*We*$e.B,_t=$e.sa,Kt=$e.ta-it+on,At=$e.qa,et=$e.ra-Dt+_i,Ur=$e.Ha,Jr=$e.Ia-Dt+_i,Pi=(Kr=mr.M)==0,Dr=Kr>=$e.Va-1,$e.Aa==2&&Y0($e,mr),mr.uc)for(Di=(as=$e).D.M,e(as.D.uc),mr=as.yb;mr<as.Hb;++mr){is=mr,wi=Di;var ks=(Os=(jn=as).D).Nb;Zr=jn.R;var Os=Os.wa[Os.Y+is],si=jn.sa,Ji=jn.ta+16*ks*Zr+16*is,Yo=Os.dd,Ss=Os.tc;if(Ss!=0)if(e(3<=Ss),jn.L==1)0<is&&Gn(si,Ji,Zr,Ss+4),Os.La&&$a(si,Ji,Zr,Ss),0<wi&&pn(si,Ji,Zr,Ss+4),Os.La&&ds(si,Ji,Zr,Ss);else{var Ia=jn.B,yc=jn.qa,_u=jn.ra+8*ks*Ia+8*is,wl=jn.Ha,jn=jn.Ia+8*ks*Ia+8*is;ks=Os.ld,0<is&&(yu(si,Ji,Zr,Ss+4,Yo,ks),gl(yc,_u,wl,jn,Ia,Ss+4,Yo,ks)),Os.La&&(Yi(si,Ji,Zr,Ss,Yo,ks),hn(yc,_u,wl,jn,Ia,Ss,Yo,ks)),0<wi&&(bc(si,Ji,Zr,Ss+4,Yo,ks),vc(yc,_u,wl,jn,Ia,Ss+4,Yo,ks)),Os.La&&(ef(si,Ji,Zr,Ss,Yo,ks),La(yc,_u,wl,jn,Ia,Ss,Yo,ks))}}if($e.ia&&alert("todo:DitherRow"),Ie.put!=null){if(mr=16*Kr,Kr=16*(Kr+1),Pi?(Ie.y=$e.sa,Ie.O=$e.ta+on,Ie.f=$e.qa,Ie.N=$e.ra+_i,Ie.ea=$e.Ha,Ie.W=$e.Ia+_i):(mr-=Nr,Ie.y=_t,Ie.O=Kt,Ie.f=At,Ie.N=et,Ie.ea=Ur,Ie.W=Jr),Dr||(Kr-=Nr),Kr>Ie.o&&(Kr=Ie.o),Ie.F=null,Ie.J=null,$e.Fa!=null&&0<$e.Fa.length&&mr<Kr&&(Ie.J=U0($e,Ie,mr,Kr-mr),Ie.F=$e.mb,Ie.F==null&&Ie.F.length==0)){Ke=Ln($e,3,"Could not decode alpha data.");break e}mr<Ie.j&&(Nr=Ie.j-mr,mr=Ie.j,e(!(1&Nr)),Ie.O+=$e.R*Nr,Ie.N+=$e.B*(Nr>>1),Ie.W+=$e.B*(Nr>>1),Ie.F!=null&&(Ie.J+=Ie.width*Nr)),mr<Kr&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=mr-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Kr-mr,Ke=Ie.put(Ie))}We+1!=$e.Ic||Dr||(n($e.sa,$e.ta-it,_t,Kt+16*$e.R,it),n($e.qa,$e.ra-Dt,At,et+8*$e.B,Dt),n($e.Ha,$e.Ia-Dt,Ur,Jr+8*$e.B,Dt))}if(!Ke)return Ln(De,6,"Output aborted.")}return 1}(y,S)),S.bc!=null&&S.bc(S),$&=1}return $?(y.cb=0,$):0}function mi(y,S,$,H,Z){Z=y[S+$+32*H]+(Z>>3),y[S+$+32*H]=-256&Z?0>Z?0:255:Z}function ol(y,S,$,H,Z,le){mi(y,S,0,$,H+Z),mi(y,S,1,$,H+le),mi(y,S,2,$,H-le),mi(y,S,3,$,H-Z)}function Fs(y){return(20091*y>>16)+y}function fc(y,S,$,H){var Z,le=0,ce=i(16);for(Z=0;4>Z;++Z){var he=y[S+0]+y[S+8],ge=y[S+0]-y[S+8],ye=(35468*y[S+4]>>16)-Fs(y[S+12]),Ce=Fs(y[S+4])+(35468*y[S+12]>>16);ce[le+0]=he+Ce,ce[le+1]=ge+ye,ce[le+2]=ge-ye,ce[le+3]=he-Ce,le+=4,S++}for(Z=le=0;4>Z;++Z)he=(y=ce[le+0]+4)+ce[le+8],ge=y-ce[le+8],ye=(35468*ce[le+4]>>16)-Fs(ce[le+12]),mi($,H,0,0,he+(Ce=Fs(ce[le+4])+(35468*ce[le+12]>>16))),mi($,H,1,0,ge+ye),mi($,H,2,0,ge-ye),mi($,H,3,0,he-Ce),le++,H+=32}function nu(y,S,$,H){var Z=y[S+0]+4,le=35468*y[S+4]>>16,ce=Fs(y[S+4]),he=35468*y[S+1]>>16;ol($,H,0,Z+ce,y=Fs(y[S+1]),he),ol($,H,1,Z+le,y,he),ol($,H,2,Z-le,y,he),ol($,H,3,Z-ce,y,he)}function su(y,S,$,H,Z){fc(y,S,$,H),Z&&fc(y,S+16,$,H+4)}function iu(y,S,$,H){vu(y,S+0,$,H,1),vu(y,S+32,$,H+128,1)}function R0(y,S,$,H){var Z;for(y=y[S+0]+4,Z=0;4>Z;++Z)for(S=0;4>S;++S)mi($,H,S,Z,y)}function dc(y,S,$,H){y[S+0]&&vo(y,S+0,$,H),y[S+16]&&vo(y,S+16,$,H+4),y[S+32]&&vo(y,S+32,$,H+128),y[S+48]&&vo(y,S+48,$,H+128+4)}function al(y,S,$,H){var Z,le=i(16);for(Z=0;4>Z;++Z){var ce=y[S+0+Z]+y[S+12+Z],he=y[S+4+Z]+y[S+8+Z],ge=y[S+4+Z]-y[S+8+Z],ye=y[S+0+Z]-y[S+12+Z];le[0+Z]=ce+he,le[8+Z]=ce-he,le[4+Z]=ye+ge,le[12+Z]=ye-ge}for(Z=0;4>Z;++Z)ce=(y=le[0+4*Z]+3)+le[3+4*Z],he=le[1+4*Z]+le[2+4*Z],ge=le[1+4*Z]-le[2+4*Z],ye=y-le[3+4*Z],$[H+0]=ce+he>>3,$[H+16]=ye+ge>>3,$[H+32]=ce-he>>3,$[H+48]=ye-ge>>3,H+=64}function Vi(y,S,$){var H,Z=S-32,le=Ei,ce=255-y[Z-1];for(H=0;H<$;++H){var he,ge=le,ye=ce+y[S-1];for(he=0;he<$;++he)y[S+he]=ge[ye+y[Z+he]];S+=32}}function F0(y,S){Vi(y,S,4)}function j0(y,S){Vi(y,S,8)}function Ui(y,S){Vi(y,S,16)}function fo(y,S){var $;for($=0;16>$;++$)n(y,S+32*$,y,S-32,16)}function ll(y,S){var $;for($=16;0<$;--$)s(y,S,y[S-1],16),S+=32}function cl(y,S,$){var H;for(H=0;16>H;++H)s(S,$+32*H,y,16)}function ou(y,S){var $,H=16;for($=0;16>$;++$)H+=y[S-1+32*$]+y[S+$-32];cl(H>>5,y,S)}function ws(y,S){var $,H=8;for($=0;16>$;++$)H+=y[S-1+32*$];cl(H>>4,y,S)}function ho(y,S){var $,H=8;for($=0;16>$;++$)H+=y[S+$-32];cl(H>>4,y,S)}function hc(y,S){cl(128,y,S)}function ar(y,S,$){return y+2*S+$+2>>2}function ul(y,S){var $,H=S-32;for(H=new Uint8Array([ar(y[H-1],y[H+0],y[H+1]),ar(y[H+0],y[H+1],y[H+2]),ar(y[H+1],y[H+2],y[H+3]),ar(y[H+2],y[H+3],y[H+4])]),$=0;4>$;++$)n(y,S+32*$,H,0,H.length)}function B0(y,S){var $=y[S-1],H=y[S-1+32],Z=y[S-1+64],le=y[S-1+96];Ne(y,S+0,16843009*ar(y[S-1-32],$,H)),Ne(y,S+32,16843009*ar($,H,Z)),Ne(y,S+64,16843009*ar(H,Z,le)),Ne(y,S+96,16843009*ar(Z,le,le))}function gi(y,S){var $,H=4;for($=0;4>$;++$)H+=y[S+$-32]+y[S-1+32*$];for(H>>=3,$=0;4>$;++$)s(y,S+32*$,H,4)}function au(y,S){var $=y[S-1+0],H=y[S-1+32],Z=y[S-1+64],le=y[S-1-32],ce=y[S+0-32],he=y[S+1-32],ge=y[S+2-32],ye=y[S+3-32];y[S+0+96]=ar(H,Z,y[S-1+96]),y[S+1+96]=y[S+0+64]=ar($,H,Z),y[S+2+96]=y[S+1+64]=y[S+0+32]=ar(le,$,H),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=ar(ce,le,$),y[S+3+64]=y[S+2+32]=y[S+1+0]=ar(he,ce,le),y[S+3+32]=y[S+2+0]=ar(ge,he,ce),y[S+3+0]=ar(ye,ge,he)}function pc(y,S){var $=y[S+1-32],H=y[S+2-32],Z=y[S+3-32],le=y[S+4-32],ce=y[S+5-32],he=y[S+6-32],ge=y[S+7-32];y[S+0+0]=ar(y[S+0-32],$,H),y[S+1+0]=y[S+0+32]=ar($,H,Z),y[S+2+0]=y[S+1+32]=y[S+0+64]=ar(H,Z,le),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=ar(Z,le,ce),y[S+3+32]=y[S+2+64]=y[S+1+96]=ar(le,ce,he),y[S+3+64]=y[S+2+96]=ar(ce,he,ge),y[S+3+96]=ar(he,ge,ge)}function Sa(y,S){var $=y[S-1+0],H=y[S-1+32],Z=y[S-1+64],le=y[S-1-32],ce=y[S+0-32],he=y[S+1-32],ge=y[S+2-32],ye=y[S+3-32];y[S+0+0]=y[S+1+64]=le+ce+1>>1,y[S+1+0]=y[S+2+64]=ce+he+1>>1,y[S+2+0]=y[S+3+64]=he+ge+1>>1,y[S+3+0]=ge+ye+1>>1,y[S+0+96]=ar(Z,H,$),y[S+0+64]=ar(H,$,le),y[S+0+32]=y[S+1+96]=ar($,le,ce),y[S+1+32]=y[S+2+96]=ar(le,ce,he),y[S+2+32]=y[S+3+96]=ar(ce,he,ge),y[S+3+32]=ar(he,ge,ye)}function fl(y,S){var $=y[S+0-32],H=y[S+1-32],Z=y[S+2-32],le=y[S+3-32],ce=y[S+4-32],he=y[S+5-32],ge=y[S+6-32],ye=y[S+7-32];y[S+0+0]=$+H+1>>1,y[S+1+0]=y[S+0+64]=H+Z+1>>1,y[S+2+0]=y[S+1+64]=Z+le+1>>1,y[S+3+0]=y[S+2+64]=le+ce+1>>1,y[S+0+32]=ar($,H,Z),y[S+1+32]=y[S+0+96]=ar(H,Z,le),y[S+2+32]=y[S+1+96]=ar(Z,le,ce),y[S+3+32]=y[S+2+96]=ar(le,ce,he),y[S+3+64]=ar(ce,he,ge),y[S+3+96]=ar(he,ge,ye)}function Aa(y,S){var $=y[S-1+0],H=y[S-1+32],Z=y[S-1+64],le=y[S-1+96];y[S+0+0]=$+H+1>>1,y[S+2+0]=y[S+0+32]=H+Z+1>>1,y[S+2+32]=y[S+0+64]=Z+le+1>>1,y[S+1+0]=ar($,H,Z),y[S+3+0]=y[S+1+32]=ar(H,Z,le),y[S+3+32]=y[S+1+64]=ar(Z,le,le),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=le}function lu(y,S){var $=y[S-1+0],H=y[S-1+32],Z=y[S-1+64],le=y[S-1+96],ce=y[S-1-32],he=y[S+0-32],ge=y[S+1-32],ye=y[S+2-32];y[S+0+0]=y[S+2+32]=$+ce+1>>1,y[S+0+32]=y[S+2+64]=H+$+1>>1,y[S+0+64]=y[S+2+96]=Z+H+1>>1,y[S+0+96]=le+Z+1>>1,y[S+3+0]=ar(he,ge,ye),y[S+2+0]=ar(ce,he,ge),y[S+1+0]=y[S+3+32]=ar($,ce,he),y[S+1+32]=y[S+3+64]=ar(H,$,ce),y[S+1+64]=y[S+3+96]=ar(Z,H,$),y[S+1+96]=ar(le,Z,H)}function z0(y,S){var $;for($=0;8>$;++$)n(y,S+32*$,y,S-32,8)}function mc(y,S){var $;for($=0;8>$;++$)s(y,S,y[S-1],8),S+=32}function Ta(y,S,$){var H;for(H=0;8>H;++H)s(S,$+32*H,y,8)}function we(y,S){var $,H=8;for($=0;8>$;++$)H+=y[S+$-32]+y[S-1+32*$];Ta(H>>4,y,S)}function Pe(y,S){var $,H=4;for($=0;8>$;++$)H+=y[S+$-32];Ta(H>>3,y,S)}function Ze(y,S){var $,H=4;for($=0;8>$;++$)H+=y[S-1+32*$];Ta(H>>3,y,S)}function Lt(y,S){Ta(128,y,S)}function Br(y,S,$){var H=y[S-$],Z=y[S+0],le=3*(Z-H)+wp[1020+y[S-2*$]-y[S+$]],ce=Td[112+(le+4>>3)];y[S-$]=Ei[255+H+Td[112+(le+3>>3)]],y[S+0]=Ei[255+Z-ce]}function lr(y,S,$,H){var Z=y[S+0],le=y[S+$];return Qi[255+y[S-2*$]-y[S-$]]>H||Qi[255+le-Z]>H}function sn(y,S,$,H){return 4*Qi[255+y[S-$]-y[S+0]]+Qi[255+y[S-2*$]-y[S+$]]<=H}function $n(y,S,$,H,Z){var le=y[S-3*$],ce=y[S-2*$],he=y[S-$],ge=y[S+0],ye=y[S+$],Ce=y[S+2*$],He=y[S+3*$];return 4*Qi[255+he-ge]+Qi[255+ce-ye]>H?0:Qi[255+y[S-4*$]-le]<=Z&&Qi[255+le-ce]<=Z&&Qi[255+ce-he]<=Z&&Qi[255+He-Ce]<=Z&&Qi[255+Ce-ye]<=Z&&Qi[255+ye-ge]<=Z}function Dn(y,S,$,H){var Z=2*H+1;for(H=0;16>H;++H)sn(y,S+H,$,Z)&&Br(y,S+H,$)}function Pr(y,S,$,H){var Z=2*H+1;for(H=0;16>H;++H)sn(y,S+H*$,1,Z)&&Br(y,S+H*$,1)}function Rn(y,S,$,H){var Z;for(Z=3;0<Z;--Z)Dn(y,S+=4*$,$,H)}function ni(y,S,$,H){var Z;for(Z=3;0<Z;--Z)Pr(y,S+=4,$,H)}function vn(y,S,$,H,Z,le,ce,he){for(le=2*le+1;0<Z--;){if($n(y,S,$,le,ce))if(lr(y,S,$,he))Br(y,S,$);else{var ge=y,ye=S,Ce=$,He=ge[ye-2*Ce],Ve=ge[ye-Ce],De=ge[ye+0],tt=ge[ye+Ce],We=ge[ye+2*Ce],$e=27*(Ke=wp[1020+3*(De-Ve)+wp[1020+He-tt]])+63>>7,Ie=18*Ke+63>>7,Ke=9*Ke+63>>7;ge[ye-3*Ce]=Ei[255+ge[ye-3*Ce]+Ke],ge[ye-2*Ce]=Ei[255+He+Ie],ge[ye-Ce]=Ei[255+Ve+$e],ge[ye+0]=Ei[255+De-$e],ge[ye+Ce]=Ei[255+tt-Ie],ge[ye+2*Ce]=Ei[255+We-Ke]}S+=H}}function An(y,S,$,H,Z,le,ce,he){for(le=2*le+1;0<Z--;){if($n(y,S,$,le,ce))if(lr(y,S,$,he))Br(y,S,$);else{var ge=y,ye=S,Ce=$,He=ge[ye-Ce],Ve=ge[ye+0],De=ge[ye+Ce],tt=Td[112+((We=3*(Ve-He))+4>>3)],We=Td[112+(We+3>>3)],$e=tt+1>>1;ge[ye-2*Ce]=Ei[255+ge[ye-2*Ce]+$e],ge[ye-Ce]=Ei[255+He+We],ge[ye+0]=Ei[255+Ve-tt],ge[ye+Ce]=Ei[255+De-$e]}S+=H}}function _s(y,S,$,H,Z,le){vn(y,S,$,1,16,H,Z,le)}function js(y,S,$,H,Z,le){vn(y,S,1,$,16,H,Z,le)}function Oi(y,S,$,H,Z,le){var ce;for(ce=3;0<ce;--ce)An(y,S+=4*$,$,1,16,H,Z,le)}function bi(y,S,$,H,Z,le){var ce;for(ce=3;0<ce;--ce)An(y,S+=4,1,$,16,H,Z,le)}function cu(y,S,$,H,Z,le,ce,he){vn(y,S,Z,1,8,le,ce,he),vn($,H,Z,1,8,le,ce,he)}function Vo(y,S,$,H,Z,le,ce,he){vn(y,S,1,Z,8,le,ce,he),vn($,H,1,Z,8,le,ce,he)}function Uo(y,S,$,H,Z,le,ce,he){An(y,S+4*Z,Z,1,8,le,ce,he),An($,H+4*Z,Z,1,8,le,ce,he)}function _d(y,S,$,H,Z,le,ce,he){An(y,S+4,1,Z,8,le,ce,he),An($,H+4,1,Z,8,le,ce,he)}function uu(){this.ba=new bs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function q0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function H0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xd(){this.ua=0,this.Wa=new ve,this.vb=new ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new j}function gp(){this.xb=this.a=0,this.l=new il,this.ca=new bs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xd,this.ab=0,this.gc=o(4,H0),this.Oc=0}function fu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new il,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gc(y,S,$,H,Z,le,ce){for(y=y==null?0:y[S+0],S=0;S<ce;++S)Z[le+S]=y+$[H+S]&255,y=Z[le+S]}function V0(y,S,$,H,Z,le,ce){var he;if(y==null)gc(null,null,$,H,Z,le,ce);else for(he=0;he<ce;++he)Z[le+he]=y[S+he]+$[H+he]&255}function dl(y,S,$,H,Z,le,ce){if(y==null)gc(null,null,$,H,Z,le,ce);else{var he,ge=y[S+0],ye=ge,Ce=ge;for(he=0;he<ce;++he)ye=Ce+(ge=y[S+he])-ye,Ce=$[H+he]+(-256&ye?0>ye?0:255:ye)&255,ye=ge,Z[le+he]=Ce}}function U0(y,S,$,H){var Z=S.width,le=S.o;if(e(y!=null&&S!=null),0>$||0>=H||$+H>le)return null;if(!y.Cc){if(y.ga==null){var ce;if(y.ga=new fu,(ce=y.ga==null)||(ce=S.width*S.o,e(y.Gb.length==0),y.Gb=i(ce),y.Uc=0,y.Gb==null?ce=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ce=1),ce=!ce),!ce){ce=y.ga;var he=y.Fa,ge=y.P,ye=y.qc,Ce=y.mb,He=y.nb,Ve=ge+1,De=ye-1,tt=ce.l;if(e(he!=null&&Ce!=null&&S!=null),yl[0]=null,yl[1]=gc,yl[2]=V0,yl[3]=dl,ce.ca=Ce,ce.tb=He,ce.c=S.width,ce.i=S.height,e(0<ce.c&&0<ce.i),1>=ye)S=0;else if(ce.$a=he[ge+0]>>0&3,ce.Z=he[ge+0]>>2&3,ce.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ge)S=0;else if(tt.put=un,tt.ac=Yr,tt.bc=$s,tt.ma=ce,tt.width=S.width,tt.height=S.height,tt.Da=S.Da,tt.v=S.v,tt.va=S.va,tt.j=S.j,tt.o=S.o,ce.$a)e:{e(ce.$a==1),S=Sr();t:for(;;){if(S==null){S=0;break e}if(e(ce!=null),ce.mc=S,S.c=ce.c,S.i=ce.i,S.l=ce.l,S.l.ma=ce,S.l.width=ce.c,S.l.height=ce.i,S.a=0,q(S.m,he,Ve,De),!Rs(ce.c,ce.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Wn(S.s)?(ce.ic=1,he=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(he),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ce.ic=0,S=hi(S,ce.c)),!S))break t;S=1;break e}ce.mc=null,S=0}else S=De>=ce.c*ce.i;ce=!S}if(ce)return null;y.ga.Lc!=1?y.Ga=0:H=le-$}e(y.ga!=null),e($+H<=le);e:{if(S=(he=y.ga).c,le=he.l.o,he.$a==0){if(Ve=y.rc,De=y.Vc,tt=y.Fa,ge=y.P+1+$*S,ye=y.mb,Ce=y.nb+$*S,e(ge<=y.P+y.qc),he.Z!=0)for(e(yl[he.Z]!=null),ce=0;ce<H;++ce)yl[he.Z](Ve,De,tt,ge,ye,Ce,S),Ve=ye,De=Ce,Ce+=S,ge+=S;else for(ce=0;ce<H;++ce)n(ye,Ce,tt,ge,S),Ve=ye,De=Ce,Ce+=S,ge+=S;y.rc=Ve,y.Vc=De}else{if(e(he.mc!=null),S=$+H,e((ce=he.mc)!=null),e(S<=ce.i),ce.C>=S)S=1;else if(he.ic||Fe(),he.ic){he=ce.V,Ve=ce.Ba,De=ce.c;var We=ce.i,$e=(tt=1,ge=ce.$/De,ye=ce.$%De,Ce=ce.m,He=ce.s,ce.$),Ie=De*We,Ke=De*S,it=He.wc,et=$e<Ke?Vr(He,ye,ge):null;e($e<=Ie),e(S<=We),e(Wn(He));t:for(;;){for(;!Ce.h&&$e<Ke;){if(ye&it||(et=Vr(He,ye,ge)),e(et!=null),K(Ce),256>(We=fn(et.G[0],et.H[0],Ce)))he[Ve+$e]=We,++$e,++ye>=De&&(ye=0,++ge<=S&&!(ge%16)&&Yn(ce,ge));else{if(!(280>We)){tt=0;break t}We=vs(We-256,Ce);var Dt,_t=fn(et.G[4],et.H[4],Ce);if(K(Ce),!($e>=(_t=Un(De,_t=vs(_t,Ce)))&&Ie-$e>=We)){tt=0;break t}for(Dt=0;Dt<We;++Dt)he[Ve+$e+Dt]=he[Ve+$e+Dt-_t];for($e+=We,ye+=We;ye>=De;)ye-=De,++ge<=S&&!(ge%16)&&Yn(ce,ge);$e<Ke&&ye&it&&(et=Vr(He,ye,ge))}e(Ce.h==re(Ce))}Yn(ce,ge>S?S:ge);break t}!tt||Ce.h&&$e<Ie?(tt=0,ce.a=Ce.h?5:3):ce.$=$e,S=tt}else S=ys(ce,ce.V,ce.Ba,ce.c,ce.i,S,kt);if(!S){H=0;break e}}$+H>=le&&(y.Cc=1),H=1}if(!H)return null;if(y.Cc&&((H=y.ga)!=null&&(H.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+$*Z}function M(y,S,$,H,Z,le){for(;0<Z--;){var ce,he=y,ge=S+($?1:0),ye=y,Ce=S+($?0:3);for(ce=0;ce<H;++ce){var He=ye[Ce+4*ce];He!=255&&(He*=32897,he[ge+4*ce+0]=he[ge+4*ce+0]*He>>23,he[ge+4*ce+1]=he[ge+4*ce+1]*He>>23,he[ge+4*ce+2]=he[ge+4*ce+2]*He>>23)}S+=le}}function ee(y,S,$,H,Z){for(;0<H--;){var le;for(le=0;le<$;++le){var ce=y[S+2*le+0],he=15&(ye=y[S+2*le+1]),ge=4369*he,ye=(240&ye|ye>>4)*ge>>16;y[S+2*le+0]=(240&ce|ce>>4)*ge>>16&240|(15&ce|ce<<4)*ge>>16>>4&15,y[S+2*le+1]=240&ye|he}S+=Z}}function xe(y,S,$,H,Z,le,ce,he){var ge,ye,Ce=255;for(ye=0;ye<Z;++ye){for(ge=0;ge<H;++ge){var He=y[S+ge];le[ce+4*ge]=He,Ce&=He}S+=$,ce+=he}return Ce!=255}function Te(y,S,$,H,Z){var le;for(le=0;le<Z;++le)$[H+le]=y[S+le]>>8}function Fe(){bl=M,wu=ee,Ad=xe,H5=Te}function Qe(y,S,$){O[y]=function(H,Z,le,ce,he,ge,ye,Ce,He,Ve,De,tt,We,$e,Ie,Ke,it){var et,Dt=it-1>>1,_t=he[ge+0]|ye[Ce+0]<<16,Kt=He[Ve+0]|De[tt+0]<<16;e(H!=null);var At=3*_t+Kt+131074>>2;for(S(H[Z+0],255&At,At>>16,We,$e),le!=null&&(At=3*Kt+_t+131074>>2,S(le[ce+0],255&At,At>>16,Ie,Ke)),et=1;et<=Dt;++et){var Ur=he[ge+et]|ye[Ce+et]<<16,Jr=He[Ve+et]|De[tt+et]<<16,Dr=_t+Ur+Kt+Jr+524296,Nr=Dr+2*(Ur+Kt)>>3;At=Nr+_t>>1,_t=(Dr=Dr+2*(_t+Jr)>>3)+Ur>>1,S(H[Z+2*et-1],255&At,At>>16,We,$e+(2*et-1)*$),S(H[Z+2*et-0],255&_t,_t>>16,We,$e+(2*et-0)*$),le!=null&&(At=Dr+Kt>>1,_t=Nr+Jr>>1,S(le[ce+2*et-1],255&At,At>>16,Ie,Ke+(2*et-1)*$),S(le[ce+2*et+0],255&_t,_t>>16,Ie,Ke+(2*et+0)*$)),_t=Ur,Kt=Jr}1&it||(At=3*_t+Kt+131074>>2,S(H[Z+it-1],255&At,At>>16,We,$e+(it-1)*$),le!=null&&(At=3*Kt+_t+131074>>2,S(le[ce+it-1],255&At,At>>16,Ie,Ke+(it-1)*$)))}}function dt(){Gi[Nd]=mk,Gi[Md]=e4,Gi[G5]=gk,Gi[Cd]=t4,Gi[Ld]=r4,Gi[_p]=n4,Gi[J5]=bk,Gi[xp]=e4,Gi[kp]=t4,Gi[$d]=r4,Gi[Sp]=n4}function Et(y){return y&~vk?0>y?0:255:y>>s4}function Gt(y,S){return Et((19077*y>>8)+(26149*S>>8)-14234)}function hr(y,S,$){return Et((19077*y>>8)-(6419*S>>8)-(13320*$>>8)+8708)}function xr(y,S){return Et((19077*y>>8)+(33050*S>>8)-17685)}function $r(y,S,$,H,Z){H[Z+0]=Gt(y,$),H[Z+1]=hr(y,S,$),H[Z+2]=xr(y,S)}function On(y,S,$,H,Z){H[Z+0]=xr(y,S),H[Z+1]=hr(y,S,$),H[Z+2]=Gt(y,$)}function Fn(y,S,$,H,Z){var le=hr(y,S,$);S=le<<3&224|xr(y,S)>>3,H[Z+0]=248&Gt(y,$)|le>>5,H[Z+1]=S}function ss(y,S,$,H,Z){var le=240&xr(y,S)|15;H[Z+0]=240&Gt(y,$)|hr(y,S,$)>>4,H[Z+1]=le}function Bs(y,S,$,H,Z){H[Z+0]=255,$r(y,S,$,H,Z+1)}function xs(y,S,$,H,Z){On(y,S,$,H,Z),H[Z+3]=255}function po(y,S,$,H,Z){$r(y,S,$,H,Z),H[Z+3]=255}function Ii(y,S){return 0>y?0:y>S?S:y}function Na(y,S,$){O[y]=function(H,Z,le,ce,he,ge,ye,Ce,He){for(var Ve=Ce+(-2&He)*$;Ce!=Ve;)S(H[Z+0],le[ce+0],he[ge+0],ye,Ce),S(H[Z+1],le[ce+0],he[ge+0],ye,Ce+$),Z+=2,++ce,++ge,Ce+=2*$;1&He&&S(H[Z+0],le[ce+0],he[ge+0],ye,Ce)}}function kd(y,S,$){return $==0?y==0?S==0?6:5:S==0?4:0:$}function W0(y,S,$,H,Z){switch(y>>>30){case 3:vu(S,$,H,Z,0);break;case 2:Z0(S,$,H,Z);break;case 1:vo(S,$,H,Z)}}function Y0(y,S){var $,H,Z=S.M,le=S.Nb,ce=y.oc,he=y.pc+40,ge=y.oc,ye=y.pc+584,Ce=y.oc,He=y.pc+600;for($=0;16>$;++$)ce[he+32*$-1]=129;for($=0;8>$;++$)ge[ye+32*$-1]=129,Ce[He+32*$-1]=129;for(0<Z?ce[he-1-32]=ge[ye-1-32]=Ce[He-1-32]=129:(s(ce,he-32-1,127,21),s(ge,ye-32-1,127,9),s(Ce,He-32-1,127,9)),H=0;H<y.za;++H){var Ve=S.ya[S.aa+H];if(0<H){for($=-1;16>$;++$)n(ce,he+32*$-4,ce,he+32*$+12,4);for($=-1;8>$;++$)n(ge,ye+32*$-4,ge,ye+32*$+4,4),n(Ce,He+32*$-4,Ce,He+32*$+4,4)}var De=y.Gd,tt=y.Hd+H,We=Ve.ad,$e=Ve.Hc;if(0<Z&&(n(ce,he-32,De[tt].y,0,16),n(ge,ye-32,De[tt].f,0,8),n(Ce,He-32,De[tt].ea,0,8)),Ve.Za){var Ie=ce,Ke=he-32+16;for(0<Z&&(H>=y.za-1?s(Ie,Ke,De[tt].y[15],4):n(Ie,Ke,De[tt+1].y,0,4)),$=0;4>$;$++)Ie[Ke+128+$]=Ie[Ke+256+$]=Ie[Ke+384+$]=Ie[Ke+0+$];for($=0;16>$;++$,$e<<=2)Ie=ce,Ke=he+o4[$],yo[Ve.Ob[$]](Ie,Ke),W0($e,We,16*+$,Ie,Ke)}else if(Ie=kd(H,Z,Ve.Ob[0]),vl[Ie](ce,he),$e!=0)for($=0;16>$;++$,$e<<=2)W0($e,We,16*+$,ce,he+o4[$]);for($=Ve.Gc,Ie=kd(H,Z,Ve.Dd),Oa[Ie](ge,ye),Oa[Ie](Ce,He),$e=We,Ie=ge,Ke=ye,255&(Ve=$>>0)&&(170&Ve?ml($e,256,Ie,Ke):Ca($e,256,Ie,Ke)),Ve=Ce,$e=He,255&($>>=8)&&(170&$?ml(We,320,Ve,$e):Ca(We,320,Ve,$e)),Z<y.Ub-1&&(n(De[tt].y,0,ce,he+480,16),n(De[tt].f,0,ge,ye+224,8),n(De[tt].ea,0,Ce,He+224,8)),$=8*le*y.B,De=y.sa,tt=y.ta+16*H+16*le*y.R,We=y.qa,Ve=y.ra+8*H+$,$e=y.Ha,Ie=y.Ia+8*H+$,$=0;16>$;++$)n(De,tt+$*y.R,ce,he+32*$,16);for($=0;8>$;++$)n(We,Ve+$*y.B,ge,ye+32*$,8),n($e,Ie+$*y.B,Ce,He+32*$,8)}}function du(y,S,$,H,Z,le,ce,he,ge){var ye=[0],Ce=[0],He=0,Ve=ge!=null?ge.kd:0,De=ge??new q0;if(y==null||12>$)return 7;De.data=y,De.w=S,De.ha=$,S=[S],$=[$],De.gb=[De.gb];e:{var tt=S,We=$,$e=De.gb;if(e(y!=null),e(We!=null),e($e!=null),$e[0]=0,12<=We[0]&&!t(y,tt[0],"RIFF")){if(t(y,tt[0]+8,"WEBP")){$e=3;break e}var Ie=Me(y,tt[0]+4);if(12>Ie||4294967286<Ie){$e=3;break e}if(Ve&&Ie>We[0]-8){$e=7;break e}$e[0]=Ie,tt[0]+=12,We[0]-=12}$e=0}if($e!=0)return $e;for(Ie=0<De.gb[0],$=$[0];;){e:{var Ke=y;We=S,$e=$;var it=ye,et=Ce,Dt=tt=[0];if((At=He=[He])[0]=0,8>$e[0])$e=7;else{if(!t(Ke,We[0],"VP8X")){if(Me(Ke,We[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var _t=Me(Ke,We[0]+8),Kt=1+qe(Ke,We[0]+12);if(2147483648<=Kt*(Ke=1+qe(Ke,We[0]+15))){$e=3;break e}Dt!=null&&(Dt[0]=_t),it!=null&&(it[0]=Kt),et!=null&&(et[0]=Ke),We[0]+=18,$e[0]-=18,At[0]=1}$e=0}}if(He=He[0],tt=tt[0],$e!=0)return $e;if(We=!!(2&tt),!Ie&&He)return 3;if(le!=null&&(le[0]=!!(16&tt)),ce!=null&&(ce[0]=We),he!=null&&(he[0]=0),ce=ye[0],tt=Ce[0],He&&We&&ge==null){$e=0;break}if(4>$){$e=7;break}if(Ie&&He||!Ie&&!He&&!t(y,S[0],"ALPH")){$=[$],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{_t=y,$e=S,Ie=$;var At=De.gb;it=De.na,et=De.P,Dt=De.Sa,Kt=22,e(_t!=null),e(Ie!=null),Ke=$e[0];var Ur=Ie[0];for(e(it!=null),e(Dt!=null),it[0]=null,et[0]=null,Dt[0]=0;;){if($e[0]=Ke,Ie[0]=Ur,8>Ur){$e=7;break e}var Jr=Me(_t,Ke+4);if(4294967286<Jr){$e=3;break e}var Dr=8+Jr+1&-2;if(Kt+=Dr,0<At&&Kt>At){$e=3;break e}if(!t(_t,Ke,"VP8 ")||!t(_t,Ke,"VP8L")){$e=0;break e}if(Ur[0]<Dr){$e=7;break e}t(_t,Ke,"ALPH")||(it[0]=_t,et[0]=Ke+8,Dt[0]=Jr),Ke+=Dr,Ur-=Dr}}if($=$[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],$e!=0)break}$=[$],De.Ja=[De.Ja],De.xa=[De.xa];e:if(At=y,$e=S,Ie=$,it=De.gb[0],et=De.Ja,Dt=De.xa,_t=$e[0],Ke=!t(At,_t,"VP8 "),Kt=!t(At,_t,"VP8L"),e(At!=null),e(Ie!=null),e(et!=null),e(Dt!=null),8>Ie[0])$e=7;else{if(Ke||Kt){if(At=Me(At,_t+4),12<=it&&At>it-12){$e=3;break e}if(Ve&&At>Ie[0]-8){$e=7;break e}et[0]=At,$e[0]+=8,Ie[0]-=8,Dt[0]=Kt}else Dt[0]=5<=Ie[0]&&At[_t+0]==47&&!(At[_t+4]>>5),et[0]=Ie[0];$e=0}if($=$[0],De.Ja=De.Ja[0],De.xa=De.xa[0],S=S[0],$e!=0)break;if(4294967286<De.Ja)return 3;if(he==null||We||(he[0]=De.xa?2:1),ce=[ce],tt=[tt],De.xa){if(5>$){$e=7;break}he=ce,Ve=tt,We=le,y==null||5>$?y=0:5<=$&&y[S+0]==47&&!(y[S+4]>>5)?(Ie=[0],At=[0],it=[0],q(et=new L,y,S,$),Wt(et,Ie,At,it)?(he!=null&&(he[0]=Ie[0]),Ve!=null&&(Ve[0]=At[0]),We!=null&&(We[0]=it[0]),y=1):y=0):y=0}else{if(10>$){$e=7;break}he=tt,y==null||10>$||!eu(y,S+3,$-3)?y=0:(Ve=y[S+0]|y[S+1]<<8|y[S+2]<<16,We=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=De.Ja||!We||!y?y=0:(ce&&(ce[0]=We),he&&(he[0]=y),y=1))}if(!y||(ce=ce[0],tt=tt[0],He&&(ye[0]!=ce||Ce[0]!=tt)))return 3;ge!=null&&(ge[0]=De,ge.offset=S-ge.w,e(4294967286>S-ge.w),e(ge.offset==ge.ha-$));break}return $e==0||$e==7&&He&&ge==null?(le!=null&&(le[0]|=De.na!=null&&0<De.na.length),H!=null&&(H[0]=ce),Z!=null&&(Z[0]=tt),0):$e}function Q0(y,S,$){var H=S.width,Z=S.height,le=0,ce=0,he=H,ge=Z;if(S.Da=y!=null&&0<y.Da,S.Da&&(he=y.cd,ge=y.bd,le=y.v,ce=y.j,11>$||(le&=-2,ce&=-2),0>le||0>ce||0>=he||0>=ge||le+he>H||ce+ge>Z))return 0;if(S.v=le,S.j=ce,S.va=le+he,S.o=ce+ge,S.U=he,S.T=ge,S.da=y!=null&&0<y.da,S.da){if(!Xe(he,ge,$=[y.ib],le=[y.hb]))return 0;S.ib=$[0],S.hb=le[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*Z/4,S.Kb=0),1}function G0(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function hu(y,S,$,H){if(H==null||0>=y||0>=S)return 2;if($!=null){if($.Da){var Z=$.cd,le=$.bd,ce=-2&$.v,he=-2&$.j;if(0>ce||0>he||0>=Z||0>=le||ce+Z>y||he+le>S)return 2;y=Z,S=le}if($.da){if(!Xe(y,S,Z=[$.ib],le=[$.hb]))return 2;y=Z[0],S=le[0]}}H.width=y,H.height=S;e:{var ge=H.width,ye=H.height;if(y=H.S,0>=ge||0>=ye||!(y>=Nd&&13>y))y=2;else{if(0>=H.Rd&&H.sd==null){ce=le=Z=S=0;var Ce=(he=ge*a4[y])*ye;if(11>y||(le=(ye+1)/2*(S=(ge+1)/2),y==12&&(ce=(Z=ge)*ye)),(ye=i(Ce+2*le+ce))==null){y=1;break e}H.sd=ye,11>y?((ge=H.f.RGBA).eb=ye,ge.fb=0,ge.A=he,ge.size=Ce):((ge=H.f.kb).y=ye,ge.O=0,ge.fa=he,ge.Fd=Ce,ge.f=ye,ge.N=0+Ce,ge.Ab=S,ge.Cd=le,ge.ea=ye,ge.W=0+Ce+le,ge.Db=S,ge.Ed=le,y==12&&(ge.F=ye,ge.J=0+Ce+2*le),ge.Tc=ce,ge.lb=Z)}if(S=1,Z=H.S,le=H.width,ce=H.height,Z>=Nd&&13>Z)if(11>Z)y=H.f.RGBA,S&=(he=Math.abs(y.A))*(ce-1)+le<=y.size,S&=he>=le*a4[Z],S&=y.eb!=null;else{y=H.f.kb,he=(le+1)/2,Ce=(ce+1)/2,ge=Math.abs(y.fa),ye=Math.abs(y.Ab);var He=Math.abs(y.Db),Ve=Math.abs(y.lb),De=Ve*(ce-1)+le;S&=ge*(ce-1)+le<=y.Fd,S&=ye*(Ce-1)+he<=y.Cd,S=(S&=He*(Ce-1)+he<=y.Ed)&ge>=le&ye>=he&He>=he,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,Z==12&&(S&=Ve>=le,S&=De<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||$!=null&&$.fd&&(y=G0(H)),y}var vi=64,pu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mu=24,gu=32,J0=8,yi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(y){return y},O.Predictor2=function(y,S,$){return S[$+0]},O.Predictor3=function(y,S,$){return S[$+1]},O.Predictor4=function(y,S,$){return S[$-1]},O.Predictor5=function(y,S,$){return Ye(Ye(y,S[$+1]),S[$+0])},O.Predictor6=function(y,S,$){return Ye(y,S[$-1])},O.Predictor7=function(y,S,$){return Ye(y,S[$+0])},O.Predictor8=function(y,S,$){return Ye(S[$-1],S[$+0])},O.Predictor9=function(y,S,$){return Ye(S[$+0],S[$+1])},O.Predictor10=function(y,S,$){return Ye(Ye(y,S[$-1]),Ye(S[$+0],S[$+1]))},O.Predictor11=function(y,S,$){var H=S[$+0];return 0>=Mt(H>>24&255,y>>24&255,(S=S[$-1])>>24&255)+Mt(H>>16&255,y>>16&255,S>>16&255)+Mt(H>>8&255,y>>8&255,S>>8&255)+Mt(255&H,255&y,255&S)?H:y},O.Predictor12=function(y,S,$){var H=S[$+0];return(yt((y>>24&255)+(H>>24&255)-((S=S[$-1])>>24&255))<<24|yt((y>>16&255)+(H>>16&255)-(S>>16&255))<<16|yt((y>>8&255)+(H>>8&255)-(S>>8&255))<<8|yt((255&y)+(255&H)-(255&S)))>>>0},O.Predictor13=function(y,S,$){var H=S[$-1];return(wt((y=Ye(y,S[$+0]))>>24&255,H>>24&255)<<24|wt(y>>16&255,H>>16&255)<<16|wt(y>>8&255,H>>8&255)<<8|wt(y>>0&255,H>>0&255))>>>0};var bp=O.PredictorAdd0;O.PredictorAdd1=at,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var K0=O.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Sd,mo=O.ColorIndexInverseTransform,X0=O.MapARGB,vp=O.VP8LColorIndexInverseTransformAlpha,yp=O.MapAlpha,hl=O.VP8LPredictorsAdd=[];hl.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Wi,go,pl,Wo,Ma,bu,bo,vu,Z0,ml,vo,Ca,bc,yu,vc,gl,ef,Yi,La,hn,pn,Gn,ds,$a,bl,wu,Ad,H5,V5=i(511),U5=i(2041),W5=i(225),Y5=i(767),Q5=0,wp=U5,Td=W5,Ei=Y5,Qi=V5,Nd=0,Md=1,G5=2,Cd=3,Ld=4,_p=5,J5=6,xp=7,kp=8,$d=9,Sp=10,tk=[2,3,7],rk=[3,3,11],K5=[280,256,256,256,40],nk=[0,1,1,1,0],sk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ik=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ok=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ak=8,Ap=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tf=null,lk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ck=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],X5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vl=[],yo=[],Oa=[],pk=1,Z5=2,yl=[],Gi=[];Qe("UpsampleRgbLinePair",$r,3),Qe("UpsampleBgrLinePair",On,3),Qe("UpsampleRgbaLinePair",po,4),Qe("UpsampleBgraLinePair",xs,4),Qe("UpsampleArgbLinePair",Bs,4),Qe("UpsampleRgba4444LinePair",ss,2),Qe("UpsampleRgb565LinePair",Fn,2);var mk=O.UpsampleRgbLinePair,gk=O.UpsampleBgrLinePair,e4=O.UpsampleRgbaLinePair,t4=O.UpsampleBgraLinePair,r4=O.UpsampleArgbLinePair,n4=O.UpsampleRgba4444LinePair,bk=O.UpsampleRgb565LinePair,Od=16,Id=1<<Od-1,rf=-227,Np=482,s4=6,vk=(256<<s4)-1,i4=0,yk=i(256),wk=i(256),_k=i(256),xk=i(256),kk=i(Np-rf),Sk=i(Np-rf);Na("YuvToRgbRow",$r,3),Na("YuvToBgrRow",On,3),Na("YuvToRgbaRow",po,4),Na("YuvToBgraRow",xs,4),Na("YuvToArgbRow",Bs,4),Na("YuvToRgba4444Row",ss,2),Na("YuvToRgb565Row",Fn,2);var o4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ed=[0,2,8],Ak=[8,7,6,4,4,2,2,2,1,1,1,1],Tk=1;this.WebPDecodeRGBA=function(y,S,$,H,Z){var le=Md,ce=new uu,he=new bs;ce.ba=he,he.S=le,he.width=[he.width],he.height=[he.height];var ge=he.width,ye=he.height,Ce=new ns;if(Ce==null||y==null)var He=2;else e(Ce!=null),He=du(y,S,$,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(He!=0?ge=0:(ge!=null&&(ge[0]=Ce.width[0]),ye!=null&&(ye[0]=Ce.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],H!=null&&(H[0]=he.width),Z!=null&&(Z[0]=he.height);e:{if(H=new il,(Z=new q0).data=y,Z.w=S,Z.ha=$,Z.kd=1,S=[0],e(Z!=null),((y=du(Z.data,Z.w,Z.ha,null,null,null,S,null,Z))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(e(ce!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=un,H.ac=Yr,H.bc=$s,H.ma=ce,Z.xa){if((y=Sr())==null){ce=1;break e}if(function(Ve,De){var tt=[0],We=[0],$e=[0];t:for(;;){if(Ve==null)return 0;if(De==null)return Ve.a=2,0;if(Ve.l=De,Ve.a=0,q(Ve.m,De.data,De.w,De.ha),!Wt(Ve.m,tt,We,$e)){Ve.a=3;break t}if(Ve.xb=Z5,De.width=tt[0],De.height=We[0],!Rs(tt[0],We[0],1,Ve,null))break t;return 1}return e(Ve.a!=0),0}(y,H)){if(H=(S=hu(H.width,H.height,ce.Oa,ce.ba))==0){t:{H=y;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e(($=H.l)!=null),e((Z=$.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,e(H.ca!=null),!Q0(Z.Oa,$,Cd)){H.a=2;break r}if(!hi(H,$.width)||$.da)break r;if(($.da||pr(H.ca.S))&&Fe(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Fe()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ee(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!ys(H,H.V,H.Ba,H.c,H.i,$.o,ti))break r;Z.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(S=y.a)}else S=y.a}else{if((y=new D0)==null){ce=1;break e}if(y.Fa=Z.na,y.P=Z.P,y.qc=Z.Sa,ka(y,H)){if((S=hu(H.width,H.height,ce.Oa,ce.ba))==0){if(y.Aa=0,$=ce.Oa,e((Z=y)!=null),$!=null){if(0<(ge=0>(ge=$.Md)?0:100<ge?255:255*ge/100)){for(ye=Ce=0;4>ye;++ye)12>(He=Z.pb[ye]).lc&&(He.ia=ge*Ak[0>He.lc?0:He.lc]>>3),Ce|=He.ia;Ce&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=$.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}ru(y,H)||(S=y.a)}}else S=y.a}S==0&&ce.Oa!=null&&ce.Oa.fd&&(S=G0(ce.ba))}ce=S}le=ce!=0?null:11>le?he.f.RGBA.eb:he.f.kb.y}else le=null;return le};var a4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,D){for(var Q="",E=0;E<4;E++)Q+=String.fromCharCode(O[D++]);return Q}function u(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16)>>>0}function f(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16|O[D+3]<<24)>>>0}new l;var h=[0],d=[0],p=[],g=new l,w=r,v=function(O,D){var Q={},E=0,j=!1,J=0,U=0;if(Q.frames=[],!function(Y,re,X,K){for(var W=0;W<K;W++)if(Y[re+W]!=X.charCodeAt(W))return!0;return!1}(O,D,"RIFF",4)){var ne,G;for(f(O,D+=4),D+=8;D<O.length;){var ae=c(O,D),q=f(O,D+=4);D+=4;var F=q+(1&q);switch(ae){case"VP8 ":case"VP8L":Q.frames[E]===void 0&&(Q.frames[E]={}),(L=Q.frames[E]).src_off=j?U:D-8,L.src_size=J+q+8,E++,j&&(j=!1,J=0,U=0);break;case"VP8X":(L=Q.header={}).feature_flags=O[D];var te=D+4;L.canvas_width=1+u(O,te),te+=3,L.canvas_height=1+u(O,te),te+=3;break;case"ALPH":j=!0,J=F+8,U=D-8;break;case"ANIM":(L=Q.header).bgcolor=f(O,D),te=D+4,L.loop_count=(ne=O)[(G=te)+0]<<0|ne[G+1]<<8,te+=2;break;case"ANMF":var B,L;(L=Q.frames[E]={}).offset_x=2*u(O,D),D+=3,L.offset_y=2*u(O,D),D+=3,L.width=1+u(O,D),D+=3,L.height=1+u(O,D),D+=3,L.duration=u(O,D),D+=3,B=O[D++],L.dispose=1&B,L.blend=B>>1&1}ae!="ANMF"&&(D+=F)}return Q}}(w,0);v.response=w,v.rgbaoutput=!0,v.dataurl=!1;var _=v.header?v.header:null,k=v.frames?v.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],d=[_.canvas_width];for(var A=0;A<k.length&&k[A].blend!=0;A++);}var C=k[0],N=g.WebPDecodeRGBA(w,C.src_off,C.src_size,d,h);C.rgba=N,C.imgwidth=d[0],C.imgheight=h[0];for(var T=0;T<d[0]*h[0]*4;T++)p[T]=N[T];return this.width=d,this.height=h,this.data=p,this}(function(r){var e=function(){return typeof _2=="function"},t=function(h,d,p,g){var w=4,v=o;switch(g){case r.image_compression.FAST:w=1,v=i;break;case r.image_compression.MEDIUM:w=6,v=a;break;case r.image_compression.SLOW:w=9,v=l}h=n(h,d,p,v);var _=_2(h,{level:w});return r.__addimage__.arrayBufferToBinaryString(_)},n=function(h,d,p,g){for(var w,v,_,k=h.length/d,A=new Uint8Array(h.length+k),C=u(),N=0;N<k;N+=1){if(_=N*d,w=h.subarray(_,_+d),g)A.set(g(w,p,v),_+N);else{for(var T,O=C.length,D=[];T<O;T+=1)D[T]=C[T](w,p,v);var Q=f(D.concat());A.set(D[Q],_+N)}v=w}return A},s=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var p,g=[],w=h.length;g[0]=1;for(var v=0;v<w;v+=1)p=h[v-d]||0,g[v+1]=h[v]-p+256&255;return g},o=function(h,d,p){var g,w=[],v=h.length;w[0]=2;for(var _=0;_<v;_+=1)g=p&&p[_]||0,w[_+1]=h[_]-g+256&255;return w},a=function(h,d,p){var g,w,v=[],_=h.length;v[0]=3;for(var k=0;k<_;k+=1)g=h[k-d]||0,w=p&&p[k]||0,v[k+1]=h[k]+256-(g+w>>>1)&255;return v},l=function(h,d,p){var g,w,v,_,k=[],A=h.length;k[0]=4;for(var C=0;C<A;C+=1)g=h[C-d]||0,w=p&&p[C]||0,v=p&&p[C-d]||0,_=c(g,w,v),k[C+1]=h[C]-_+256&255;return k},c=function(h,d,p){if(h===d&&d===p)return h;var g=Math.abs(d-p),w=Math.abs(h-p),v=Math.abs(h+d-p-p);return g<=w&&g<=v?h:w<=v?d:p},u=function(){return[s,i,o,a,l]},f=function(h){var d=h.map(function(p){return p.reduce(function(g,w){return g+Math.abs(w)},0)});return d.indexOf(Math.min.apply(null,d))};r.processPNG=function(h,d,p,g){var w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new hD(h)).imgData,v=_.bits,w=_.colorSpace,A=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){O=(T=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,Q=new Uint8Array(O*_.colors),D=new Uint8Array(O);var ae,q=_.pixelBitlength-_.bits;for(J=0,U=0;J<O;J++){for(j=T[J],ae=0;ae<q;)Q[U++]=j>>>ae&255,ae+=_.bits;D[J]=j>>>ae&255}}if(_.bits===16){O=(T=new Uint32Array(_.decodePixels().buffer)).length,Q=new Uint8Array(O*(32/_.pixelBitlength)*_.colors),D=new Uint8Array(O*(32/_.pixelBitlength)),E=_.colors>1,J=0,U=0;for(var F=0;J<O;)j=T[J++],Q[U++]=j>>>0&255,E&&(Q[U++]=j>>>16&255,j=T[J++],Q[U++]=j>>>0&255),D[F++]=j>>>16&255;v=8}g!==r.image_compression.NONE&&e()?(h=t(Q,_.width*_.colors,_.colors,g),N=t(D,_.width,1,g)):(h=Q,N=D,ne=void 0)}if(_.colorType===3&&(w=this.color_spaces.INDEXED,C=_.palette,_.transparency.indexed)){var te=_.transparency.indexed,B=0;for(J=0,O=te.length;J<O;++J)B+=te[J];if((B/=255)===O-1&&te.indexOf(0)!==-1)k=[te.indexOf(0)];else if(B!==O){for(T=_.decodePixels(),D=new Uint8Array(T.length),J=0,O=T.length;J<O;J++)D[J]=te[T[J]];N=t(D,_.width,1)}}var L=function(Y){var re;switch(Y){case r.image_compression.FAST:re=11;break;case r.image_compression.MEDIUM:re=13;break;case r.image_compression.SLOW:re=14;break;default:re=12}return re}(g);return ne===this.decode.FLATE_DECODE&&(G="/Predictor "+L+" "),G+="/Colors "+A+" /BitsPerComponent "+v+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:p,data:h,index:d,filter:ne,decodeParameters:G,transparency:k,palette:C,sMask:N,predictor:L,width:_.width,height:_.height,bitsPerComponent:v,colorSpace:w}}}})(nr.API),function(r){r.processGIF89A=function(e,t,n,s){var i=new pD(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new fm(100).encode(c,100);return r.processJPEG.call(this,u,t,n,s)},r.processGIF87A=r.processGIF89A}(nr.API),ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ko.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){an.log("bit decode error:"+t)}},ko.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},ko.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ko.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},ko.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=r}},ko.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=r}},ko.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ko.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=o}},ko.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var i=new ko(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new fm(100).encode(l,100);return r.processJPEG.call(this,c,t,n,s)}}(nr.API),Qb.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var i=new Qb(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new fm(100).encode(l,100);return r.processJPEG.call(this,c,t,n,s)}}(nr.API),nr.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[a++]=u,i[a++]=f,i[a++]=h,o[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},nr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$u=nr.API,rh=$u.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,d=r.length,p=0,g=a[0]||l,w=[];for(t=0;t<d;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&Xr(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,w.push((a[n]||g)/l+h)),p=n;return w},Vb=$u.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return $u.processArabic&&(r=$u.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:rh.apply(this,arguments).reduce(function(i,o){return i+o},0)},Ub=function(r,e,t,n){for(var s=[],i=0,o=r.length,a=0;i!==o&&a+e[i]<t;)a+=e[i],i++;s.push(r.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>n&&(s.push(r.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(r.slice(l,i)),s},Wb=function(r,e,t){t||(t={});var n,s,i,o,a,l,c,u=[],f=[u],h=t.textIndent||0,d=0,p=0,g=r.split(" "),w=rh.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),_=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?_=_.concat(A.map(function(C,N){return(N&&C.length?`
`:"")+C})):_.push(A[0])}),g=_,l=Vb.apply(this,[v,t])}for(i=0,o=g.length;i<o;i++){var k=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),k=1),h+d+(p=(s=rh.apply(this,[n,t])).reduce(function(A,C){return A+C},0))>e||k){if(p>e){for(a=Ub.apply(this,[n,s,e-(h+d),e]),u.push(a.shift()),u=[a.pop()];a.length;)f.push([a.shift()]);p=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(A,C){return A+C},0)}else u=[n];f.push(u),h=p+l,d=w}else u.push(n),h+=d+p,d=w}return c=l?function(A,C){return(C?v:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},$u.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(Wb.apply(this,[n[a],o,i]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=r.__fontmetrics__.compress=function(f){var h,d,p,g,w=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=i(v).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(p=i(h).slice(3),g="-"):(p=i(h).slice(2),g=""),p=g+p.slice(0,-1)+n[p.slice(-1)];else{if(Xr(h)!=="object")throw new Error("Don't know what to do with value type "+Xr(h)+".");p=o(h)}w.push(d+p)}return w.push("}"),w.join("")},a=r.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,p,g,w={},v=1,_=w,k=[],A="",C="",N=f.length-1,T=1;T<N;T+=1)(g=f[T])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(k.push([_,p]),_={},p=void 0):g=="}"?((d=k.pop())[0][d[1]]=_,p=void 0,_=d[0]):g=="-"?v=-1:p===void 0?t.hasOwnProperty(g)?(A+=t[g],p=parseInt(A,16)*v,v=1,A=""):A+=g:t.hasOwnProperty(g)?(C+=t[g],_[p]=parseInt(C,16)*v,v=1,p=void 0,C=""):C+=g;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var p=c.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(nr.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=t.charCodeAt(i);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Lf(a)),o.metadata=r.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(nr),function(r){function e(){return(sr.canvg?Promise.resolve(sr.canvg):c0(()=>import("./index.es-00e1cf9a.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}nr.API.addSvgAsImage=function(t,n,s,i,o,a,l,c){if(isNaN(n)||isNaN(s))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(p){return p.fromString(f,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,s,i,o,l,c)})}}(),nr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},nr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,f=0;function h(p,g){var w,v=!1;for(w=0;w<p.length;w+=1)p[w]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var d=a.length;for(f=0;f<d;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(Xr(r)==="object"){for(s in r)if(i=r[s],h(a,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&h(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}t[s].value="["+l.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in t)t[p].explicitSet===!0&&(t[p].type==="name"?g.push("/"+p+" /"+t[p].value):g.push("/"+p+" "+t[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(nr.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(a=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(i){var o,a,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(a=Object.keys(i).sort(function(d,p){return d-p})).length;f<h;f++)o=a[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",p=0;p<h.length;p++)d+=String.fromCharCode(h[p]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var w=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ju(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ju(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+r.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+ju(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof r.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var w=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ju(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ju(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,p=f.fonts,g=d,w="",v=0,_="",k=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:f};for(_=a,g=d,Array.isArray(a)&&(_=a[0]),v=0;v<_.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[_[v].charCodeAt(0)]),o||_[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?w+=_[v]:w+="";var A="";return parseInt(g.slice(1))<14||k==="WinAnsiEncoding"?A=h(w,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(A=t(w,p[g])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(nr),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(nr.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,o,a,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,k=0;this.__bidiEngine__={};var A=function(E){var j=E.charCodeAt(),J=j>>8,U=g[J];return U!==void 0?f[256*U+(255&j)]:J===252||J===253?"AL":v.test(J)?"L":J===8?"R":"N"},C=function(E){for(var j,J=0;J<E.length;J++){if((j=A(E.charAt(J)))==="L")return!1;if(j==="R")return!0}return!1},N=function(E,j,J,U){var ne,G,ae,q,F=j[U];switch(F){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(F="AN");break;case"AL":_=!0,F="R";break;case"WS":F="N";break;case"CS":U<1||U+1>=j.length||(ne=J[U-1])!=="EN"&&ne!=="AN"||(G=j[U+1])!=="EN"&&G!=="AN"?F="N":_&&(G="AN"),F=G===ne?G:"N";break;case"ES":F=(ne=U>0?J[U-1]:"B")==="EN"&&U+1<j.length&&j[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&J[U-1]==="EN"){F="EN";break}if(_){F="N";break}for(ae=U+1,q=j.length;ae<q&&j[ae]==="ET";)ae++;F=ae<q&&j[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(q=j.length,ae=U+1;ae<q&&j[ae]==="NSM";)ae++;if(ae<q){var te=E[U],B=te>=1425&&te<=2303||te===64286;if(ne=j[ae],B&&(ne==="R"||ne==="AL")){F="R";break}}}F=U<1||(ne=j[U-1])==="B"?"N":J[U-1];break;case"B":_=!1,s=!0,F=k;break;case"S":i=!0,F="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":F="N"}return F},T=function(E,j,J){var U=E.split("");return J&&O(U,J,{hiLevel:k}),U.reverse(),j&&j.reverse(),U.join("")},O=function(E,j,J){var U,ne,G,ae,q,F=-1,te=E.length,B=0,L=[],Y=k?d:h,re=[];for(_=!1,s=!1,i=!1,ne=0;ne<te;ne++)re[ne]=A(E[ne]);for(G=0;G<te;G++){if(q=B,L[G]=N(E,re,L,G),U=240&(B=Y[q][p[L[G]]]),B&=15,j[G]=ae=Y[B][5],U>0)if(U===16){for(ne=F;ne<G;ne++)j[ne]=1;F=-1}else F=-1;if(Y[B][6])F===-1&&(F=G);else if(F>-1){for(ne=F;ne<G;ne++)j[ne]=ae;F=-1}re[G]==="B"&&(j[G]=0),J.hiLevel|=ae}i&&function(X,K,W){for(var pe=0;pe<W;pe++)if(X[pe]==="S"){K[pe]=k;for(var be=pe-1;be>=0&&X[be]==="WS";be--)K[be]=k}}(re,j,te)},D=function(E,j,J,U,ne){if(!(ne.hiLevel<E)){if(E===1&&k===1&&!s)return j.reverse(),void(J&&J.reverse());for(var G,ae,q,F,te=j.length,B=0;B<te;){if(U[B]>=E){for(q=B+1;q<te&&U[q]>=E;)q++;for(F=B,ae=q-1;F<ae;F++,ae--)G=j[F],j[F]=j[ae],j[ae]=G,J&&(G=J[F],J[F]=J[ae],J[ae]=G);B=q}B++}}},Q=function(E,j,J){var U=E.split(""),ne={hiLevel:k};return J||(J=[]),O(U,J,ne),function(G,ae,q){if(q.hiLevel!==0&&u)for(var F,te=0;te<G.length;te++)ae[te]===1&&(F=w.indexOf(G[te]))>=0&&(G[te]=w[F+1])}(U,J,ne),D(2,U,j,J,ne),D(1,U,j,J,ne),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,j,J){if(function(ne,G){if(G)for(var ae=0;ae<ne.length;ae++)G[ae]=ae;a===void 0&&(a=C(ne)),c===void 0&&(c=C(ne))}(E,j),o||!l||c)if(o&&l&&a^c)k=a?1:0,E=T(E,j,J);else if(!o&&l&&c)k=a?1:0,E=Q(E,j,J),E=T(E,j);else if(!o||a||l||c){if(o&&!l&&a^c)E=T(E,j),a?(k=0,E=Q(E,j,J)):(k=1,E=Q(E,j,J),E=T(E,j));else if(o&&a&&!l&&c)k=1,E=Q(E,j,J),E=T(E,j);else if(!o&&!l&&a^c){var U=u;a?(k=1,E=Q(E,j,J),k=0,u=!1,E=Q(E,j,J),u=U):(k=0,E=Q(E,j,J),E=T(E,j),k=1,u=!1,E=Q(E,j,J),u=U,E=T(E,j))}}else k=0,E=Q(E,j,J);else k=a?1:0,E=Q(E,j,J);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([t.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([t.doBidiReorder(s[a])]);n.text=o}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(nr),nr.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Zl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new CD(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new mD(this.contents),this.head=new bD(this),this.name=new xD(this),this.cmap=new m9(this),this.toUnicode={},this.hhea=new vD(this),this.maxp=new kD(this),this.hmtx=new SD(this),this.post=new wD(this),this.os2=new yD(this),this.loca=new MD(this),this.glyf=new AD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Bo,Zl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,i,o,a,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*i+65536*o+256*a+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),mD=function(){var r;function e(t){var n,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,i,o,a,l,c,u,f,h,d,p,g;for(g in d=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),o=Math.floor(f/l),u=16*d-f,(s=new Zl).writeInt(this.scalarType),s.writeShort(d),s.writeShort(f),s.writeShort(o),s.writeShort(u),i=16*d,c=s.pos+i,a=null,p=[],t)for(h=t[g],s.writeString(g),s.writeInt(r(h)),s.writeInt(c),s.writeInt(h.length),p=p.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)p.push(0),c++;return s.write(p),n=2981146554-r(s.data),s.pos=a+8,s.writeUInt32(n),s.data},r=function(t){var n,s,i,o;for(t=g9.call(t);t.length%4;)t.push(0);for(i=new Zl(t),s=0,n=0,o=t.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),gD={}.hasOwnProperty,va=function(r,e){for(var t in e)gD.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Bo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var bD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Zl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),Gb=function(){function r(e,t){var n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var A,C;for(C=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)C.push(e.readUInt16());return C}(),e.pos+=2,g=function(){var A,C;for(C=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)C.push(e.readUInt16());return C}(),c=function(){var A,C;for(C=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)C.push(e.readUInt16());return C}(),u=function(){var A,C;for(C=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)C.push(e.readUInt16());return C}(),s=(this.length-e.pos+this.offset)/2,a=function(){var A,C;for(C=[],l=A=0;0<=s?A<s:A>s;l=0<=s?++A:--A)C.push(e.readUInt16());return C}(),l=v=0,k=i.length;v<k;l=++v)for(w=i[l],n=_=p=g[l];p<=w?_<=w:_>=w;n=p<=w?++_:--_)u[l]===0?o=n+c[l]:(o=a[u[l]/2+(n-p)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=f}return r.encode=function(e,t){var n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe,be,Ne,Ae,qe;switch(U=new Zl,o=Object.keys(e).sort(function(Me,Ee){return Me-Ee}),t){case"macroman":for(g=0,w=function(){var Me=[];for(p=0;p<256;++p)Me.push(0);return Me}(),_={0:0},i={},ne=0,F=o.length;ne<F;ne++)_[be=e[s=o[ne]]]==null&&(_[be]=++g),i[s]={old:e[s],new:_[e[s]]},w[s]=_[e[s]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(w),{charMap:i,subtable:U.data,maxGlyphID:g+1};case"unicode":for(j=[],f=[],k=0,_={},n={},v=c=null,G=0,te=o.length;G<te;G++)_[C=e[s=o[G]]]==null&&(_[C]=++k),n[s]={old:C,new:_[C]},a=_[C]-s,v!=null&&a===c||(v&&f.push(v),j.push(s),c=a),v=s;for(v&&f.push(v),f.push(65535),j.push(65535),Q=2*(D=j.length),O=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(O/2)/Math.LN2,T=2*D-O,l=[],N=[],d=[],p=ae=0,B=j.length;ae<B;p=++ae){if(E=j[p],u=f[p],E===65535){l.push(0),N.push(0);break}if(E-(J=n[E].new)>=32768)for(l.push(0),N.push(2*(d.length+D-p)),s=q=E;E<=u?q<=u:q>=u;s=E<=u?++q:--q)d.push(n[s].new);else l.push(J-E),N.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*D+2*d.length),U.writeUInt16(0),U.writeUInt16(Q),U.writeUInt16(O),U.writeUInt16(h),U.writeUInt16(T),W=0,L=f.length;W<L;W++)s=f[W],U.writeUInt16(s);for(U.writeUInt16(0),pe=0,Y=j.length;pe<Y;pe++)s=j[pe],U.writeUInt16(s);for(Ne=0,re=l.length;Ne<re;Ne++)a=l[Ne],U.writeUInt16(a);for(Ae=0,X=N.length;Ae<X;Ae++)A=N[Ae],U.writeUInt16(A);for(qe=0,K=d.length;qe<K;qe++)g=d[qe],U.writeUInt16(g);return{charMap:n,subtable:U.data,maxGlyphID:k+1}}},r}(),m9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new Gb(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,i;return n==null&&(n="macroman"),s=Gb.encode(t,n),(i=new Zl).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),vD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),yD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),wD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(s=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),_D=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,i,o,a,l,c,u,f,h,d;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=f=0,h=s.length;f<h;o=++f)i=s[o],t.pos=i.offset,u=t.readString(i.length),a=new _D(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),kD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),SD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,i,o,a,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(t.readInt16());return f}(),this.widths=function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)o=h[u],d.push(o.advance);return d}.call(this),s=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),g9=[].slice,AD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,i,o,a,l,c,u,f,h;return t in this.cache?this.cache[t]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,a=(l=new Zl(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new ND(l,u,h,c,f):new TD(l,a,u,h,c,f),this.cache[t]))},e.prototype.encode=function(t,n,s){var i,o,a,l,c;for(a=[],o=[],l=0,c=n.length;l<c;l++)i=t[n[l]],o.push(a.length),i&&(a=a.concat(i.encode(s)));return o.push(a.length),{table:a,offsets:o}},e}(),TD=function(){function r(e,t,n,s,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),ND=function(){function r(e,t,n,s,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Zl(g9.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),MD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return va(e,Bo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<s.length;++a)if(s[a]=i,o<n.length&&n[o]==a){++o,s[a]=i;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),f=0;f<s.length;++f)u[4*f+3]=255&s[f],u[4*f+2]=(65280&s[f])>>8,u[4*f+1]=(16711680&s[f])>>16,u[4*f]=(4278190080&s[f])>>24;return u},e}(),CD=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(n=s[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in l=this.glyphsFor(t))n=l[i],s[i]=n;return s},r.prototype.encode=function(e,t){var n,s,i,o,a,l,c,u,f,h,d,p,g,w,v;for(s in n=m9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},v=n.charMap)d[(l=v[s]).old]=l.new;for(p in h=n.maxGlyphID,o)p in d||(d[p]=h++);return u=function(_){var k,A;for(k in A={},_)A[_[k]]=k;return A}(d),f=Object.keys(u).sort(function(_,k){return _-k}),g=function(){var _,k,A;for(A=[],_=0,k=f.length;_<k;_++)a=f[_],A.push(u[a]);return A}(),i=this.font.glyf.encode(o,g,d),c=this.font.loca.encode(i.offsets,g),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},r}();nr.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,i,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)n=t[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+t},e}();function Jb(r,e,t){const n=r.slice();return n[7]=e[t],n[9]=t,n}function Kb(r){var L,Y,re,X;let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v=((L=r[0])==null?void 0:L.studentName)+"",_,k,A,C,N,T=((Y=r[0])==null?void 0:Y.studentId)+"",O,D,Q,E,j,J=((re=r[0])==null?void 0:re.studentClass)+"",U,ne,G,ae,q,F,te=((X=r[0])==null?void 0:X.studentResults)??[],B=[];for(let K=0;K<te.length;K+=1)B[K]=Xb(Jb(r,te,K));return{c(){var K;e=x("div"),t=x("div"),n=x("img"),i=I(),o=x("div"),o.textContent=`${r[2]} Report`,a=I(),l=x("div"),c=x("div"),u=x("img"),h=I(),d=x("div"),p=x("p"),g=Be("Student Name : "),w=x("span"),_=Be(v),k=I(),A=x("p"),C=Be("Reg No : "),N=x("span"),O=Be(T),D=I(),Q=x("p"),E=Be("Level : "),j=x("span"),U=Be(J),ne=I(),G=x("table"),ae=x("thead"),ae.innerHTML=`<th class="p-4 text-left">S/N</th> 
                                    <th class="p-4 text-left">Course Name</th> 
                                    <th class="p-4 text-left">Course Code</th> 
                                    <th class="p-4 text-left">Score</th> 
                                    <th class="p-4 text-left">Grade</th> 
                                    <th class="p-4 text-left">Remarks</th>`,q=I(),F=x("tbody");for(let W=0;W<B.length;W+=1)B[W].c();la(n.src,s="/images/soncal_logo.jpeg")||b(n,"src",s),b(n,"alt",""),b(n,"class","rounded-lg"),b(n,"height","160"),b(n,"width","160"),b(o,"class","pb-12 text-3xl font-extrabold uppercase text-center"),b(t,"class","flex flex-col w-full space-y-4 items-center pt-4"),la(u.src,f=(K=r[0])==null?void 0:K.studentPhoto)||b(u,"src",f),b(u,"alt",""),b(u,"class","rounded-lg"),b(u,"height","200"),b(u,"width","200"),b(c,"class","flex justify-between items-center"),b(w,"class","font-normal text-gray-700"),b(p,"class","font-bold text-gray-800"),b(N,"class","font-normal text-gray-700"),b(A,"class","font-bold text-gray-800"),b(j,"class","font-normal text-gray-700"),b(Q,"class","font-bold text-gray-800"),b(d,"class","mt-8 space-y-3 uppercase"),b(l,"class","p-4"),b(ae,"class","uppercase bg-gray-100"),b(G,"class","w-full mt-12 z-50"),b(e,"id","result"),b(e,"class","mt-12 w-[65rem] h-full p-8 rounded-lg bg-white border border-gray-200 text-gray-800 relative")},m(K,W){oe(K,e,W),m(e,t),m(t,n),m(t,i),m(t,o),m(e,a),m(e,l),m(l,c),m(c,u),m(l,h),m(l,d),m(d,p),m(p,g),m(p,w),m(w,_),m(d,k),m(d,A),m(A,C),m(A,N),m(N,O),m(d,D),m(d,Q),m(Q,E),m(Q,j),m(j,U),m(e,ne),m(e,G),m(G,ae),m(G,q),m(G,F);for(let pe=0;pe<B.length;pe+=1)B[pe]&&B[pe].m(F,null)},p(K,W){var pe,be,Ne,Ae,qe;if(W&1&&!la(u.src,f=(pe=K[0])==null?void 0:pe.studentPhoto)&&b(u,"src",f),W&1&&v!==(v=((be=K[0])==null?void 0:be.studentName)+"")&&rt(_,v),W&1&&T!==(T=((Ne=K[0])==null?void 0:Ne.studentId)+"")&&rt(O,T),W&1&&J!==(J=((Ae=K[0])==null?void 0:Ae.studentClass)+"")&&rt(U,J),W&1){te=((qe=K[0])==null?void 0:qe.studentResults)??[];let Me;for(Me=0;Me<te.length;Me+=1){const Ee=Jb(K,te,Me);B[Me]?B[Me].p(Ee,W):(B[Me]=Xb(Ee),B[Me].c(),B[Me].m(F,null))}for(;Me<B.length;Me+=1)B[Me].d(1);B.length=te.length}},d(K){K&&ie(e),gr(B,K)}}}function Xb(r){let e,t,n=r[9]+1+"",s,i,o,a=r[7].subjectName+"",l,c,u,f=r[7].subjectCode+"",h,d,p,g=r[7].score+"",w,v,_,k=r[7].grade+"",A,C,N,T=r[7].remarks+"",O,D;return{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=I(),p=x("td"),w=Be(g),v=I(),_=x("td"),A=Be(k),C=I(),N=x("td"),O=Be(T),D=I(),b(t,"class","p-4"),b(o,"class","p-4"),b(u,"class","p-4"),b(p,"class","p-4"),b(_,"class","p-4"),b(N,"class","p-4")},m(Q,E){oe(Q,e,E),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),m(p,w),m(e,v),m(e,_),m(_,A),m(e,C),m(e,N),m(N,O),m(e,D)},p(Q,E){E&1&&a!==(a=Q[7].subjectName+"")&&rt(l,a),E&1&&f!==(f=Q[7].subjectCode+"")&&rt(h,f),E&1&&g!==(g=Q[7].score+"")&&rt(w,g),E&1&&k!==(k=Q[7].grade+"")&&rt(A,k),E&1&&T!==(T=Q[7].remarks+"")&&rt(O,T)},d(Q){Q&&ie(e)}}}function LD(r){let e,t,n,s,i,o,a,l,c;o=new ft({props:{buttonText:"Download PDF",className:"max-w-fit min-w-max"}}),o.$on("click",r[3]);let u=r[1]===!1&&Kb(r);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),s.textContent="Student Result",i=I(),de(o.$$.fragment),a=I(),l=x("div"),u&&u.c(),b(s,"class","text-xl font-bold"),b(n,"class","flex items-center justify-between w-full bg-white rounded-lg border border-gray-200 h-20 px-6 text-gray-800"),b(l,"class","flex w-full justify-center"),b(t,"class","my-28"),b(e,"class","container")},m(f,h){oe(f,e,h),m(e,t),m(t,n),m(n,s),m(n,i),ue(o,n,null),m(t,a),m(t,l),u&&u.m(l,null),c=!0},p(f,h){f[1]===!1?u?u.p(f,h):(u=Kb(f),u.c(),u.m(l,null)):u&&(u.d(1),u=null)},i(f){c||(R(o.$$.fragment,f),c=!0)},o(f){z(o.$$.fragment,f),c=!1},d(f){f&&ie(e),fe(o),u&&u.d()}}}function $D(r){let e,t;return e=new Vn({props:{$$slots:{default:[LD]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&1027&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OD(r,e,t){let n;cn(r,kn,u=>t(4,n=u));let s,i=!0,o=n.props.assessmentId,a=n.props.assessmentTitle,l=n.props.studentId;return br(()=>{t(1,i=!0),ze.post("/api/assessment/student/results",{assessmentId:o,studentId:l},{onSuccess:u=>{t(0,s=u.data),t(1,i=!1)}})}),[s,i,a,()=>{let u=document.getElementById("result");new nr("p","px",[1040,1400]).html(u,{callback(h){h.save(`${s==null?void 0:s.studentName}.pdf`)},autoPaging:!1,x:10,y:10})}]}class ID extends It{constructor(e){super(),Ot(this,e,OD,$D,xt,{})}}const ED=Object.freeze(Object.defineProperty({__proto__:null,default:ID},Symbol.toStringTag,{value:"Module"}));function Zb(r,e,t){const n=r.slice();return n[12]=e[t],n}function e6(r){let e,t,n,s,i=r[2],o=[];for(let a=0;a<i.length;a+=1)o[a]=t6(Zb(r,i,a));return{c(){e=x("div"),t=x("p"),t.textContent="Courses",n=I(),s=x("ul");for(let a=0;a<o.length;a+=1)o[a].c();b(t,"class","font-semibold my-6"),b(s,"class","space-y-4 text-gray-600 text-sm"),b(e,"class","mt-6")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(a,l){if(l&12){i=a[2];let c;for(c=0;c<i.length;c+=1){const u=Zb(a,i,c);o[c]?o[c].p(u,l):(o[c]=t6(u),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&ie(e),gr(o,a)}}}function t6(r){let e,t,n,s=!1,i,o,a=r[12].subjectName+"",l,c,u=r[12].subjectCode+"",f,h,d,p,g,w;return p=Wk(r[9][0]),{c(){e=x("li"),t=x("input"),i=I(),o=x("span"),l=Be(a),c=Be(" ("),f=Be(u),h=Be(")"),d=I(),b(t,"type","checkbox"),t.__value=n=r[12].subjectId,t.value=t.__value,b(e,"class","flex space-x-2"),p.p(t)},m(v,_){oe(v,e,_),m(e,t),t.checked=~(r[3]||[]).indexOf(t.__value),m(e,i),m(e,o),m(o,l),m(o,c),m(o,f),m(o,h),m(e,d),g||(w=ht(t,"change",r[8]),g=!0)},p(v,_){_&4&&n!==(n=v[12].subjectId)&&(t.__value=n,t.value=t.__value,s=!0),(s||_&12)&&(t.checked=~(v[3]||[]).indexOf(t.__value)),_&4&&a!==(a=v[12].subjectName+"")&&rt(l,a),_&4&&u!==(u=v[12].subjectCode+"")&&rt(f,u)},d(v){v&&ie(e),p.r(),g=!1,w()}}}function PD(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D=(r[0].studentName??"")+"",Q,E,j,J,U,ne=(r[0].studentCode??"")+"",G,ae,q,F,te,B=(r[0].studentLevel??"")+"",L,Y,re,X,K,W,pe={label:"Enter Student Code"};a=new Gr({props:pe}),r[7](a),u=new ft({props:{buttonText:"Get Student Data"}}),u.$on("click",r[5]);let be=r[0].studentCode&&e6(r);return K=new ft({props:{disabled:r[4],className:"max-w-fit",buttonText:"Check In Student"}}),K.$on("click",r[6]),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h1"),s.textContent="Student Check In",i=I(),o=x("div"),de(a.$$.fragment),l=I(),c=x("div"),de(u.$$.fragment),f=I(),h=x("div"),d=x("div"),p=x("h1"),p.textContent="Student Info",g=I(),w=x("div"),v=x("div"),_=x("img"),A=I(),C=x("div"),N=x("p"),T=Be("Student Name: "),O=x("span"),Q=Be(D),E=I(),j=x("p"),J=Be("Student Code: "),U=x("span"),G=Be(ne),ae=I(),q=x("p"),F=Be("Student Level: "),te=x("span"),L=Be(B),Y=I(),be&&be.c(),re=I(),X=x("div"),de(K.$$.fragment),b(s,"class","font-bold text-2xl"),b(o,"class","space-y-6 mt-12"),b(c,"class","mt-10"),b(n,"class","flex flex-col py-12"),b(t,"class","container min-h-screen flex flex-1 flex-col justify-center px-20"),b(p,"class","font-bold text-2xl"),la(_.src,k=r[0].studentPhoto)||b(_,"src",k),b(_,"alt",""),b(_,"class","rounded-lg"),b(v,"class","h-40 w-60 bg-gray-200 rounded-lg"),b(w,"class","space-y-6 mt-20"),b(N,"class","font-semibold"),b(j,"class","font-semibold"),b(q,"class","font-semibold"),b(C,"class","space-y-12 mt-12"),b(X,"class","mt-10"),b(d,"class","flex flex-col py-12 w-full px-24"),b(h,"class","container min-h-screen flex flex-col items-center pt-16 w-1/2 border-l border-2"),b(e,"class","flex min-h-screen w-screen")},m(Ne,Ae){oe(Ne,e,Ae),m(e,t),m(t,n),m(n,s),m(n,i),m(n,o),ue(a,o,null),m(n,l),m(n,c),ue(u,c,null),m(e,f),m(e,h),m(h,d),m(d,p),m(d,g),m(d,w),m(w,v),m(v,_),m(d,A),m(d,C),m(C,N),m(N,T),m(N,O),m(O,Q),m(C,E),m(C,j),m(j,J),m(j,U),m(U,G),m(C,ae),m(C,q),m(q,F),m(q,te),m(te,L),m(d,Y),be&&be.m(d,null),m(d,re),m(d,X),ue(K,X,null),W=!0},p(Ne,[Ae]){const qe={};a.$set(qe),(!W||Ae&1&&!la(_.src,k=Ne[0].studentPhoto))&&b(_,"src",k),(!W||Ae&1)&&D!==(D=(Ne[0].studentName??"")+"")&&rt(Q,D),(!W||Ae&1)&&ne!==(ne=(Ne[0].studentCode??"")+"")&&rt(G,ne),(!W||Ae&1)&&B!==(B=(Ne[0].studentLevel??"")+"")&&rt(L,B),Ne[0].studentCode?be?be.p(Ne,Ae):(be=e6(Ne),be.c(),be.m(d,re)):be&&(be.d(1),be=null);const Me={};Ae&16&&(Me.disabled=Ne[4]),K.$set(Me)},i(Ne){W||(R(a.$$.fragment,Ne),R(u.$$.fragment,Ne),R(K.$$.fragment,Ne),W=!0)},o(Ne){z(a.$$.fragment,Ne),z(u.$$.fragment,Ne),z(K.$$.fragment,Ne),W=!1},d(Ne){Ne&&ie(e),r[7](null),fe(a),fe(u),be&&be.d(),fe(K)}}}function DD(r,e,t){let n,s;cn(r,kn,g=>t(10,s=g));let i=s.props.assessmentId,o,a=[],l={studentCode:"",studentName:"",studentLevel:"",studentPhoto:""},c=[];br(()=>{ze.getWithToken("/api/assessment-subjects/"+i,{onSuccess:g=>{t(2,a=g.data)}})});const u=()=>{ze.postWithToken("/api/student/check-in/get",{studentId:o.value},{onSuccess:g=>{t(0,l.studentCode=g.data.studentCode,l),t(0,l.studentName=g.data.studentName,l),t(0,l.studentLevel=g.data.studentClass,l),t(0,l.studentPhoto=g.data.studentPhoto,l)}})},f=()=>{ze.postWithToken("/api/student/check-in/"+i,{studentId:o.value,subjects:c},{onSuccess:g=>{t(0,l={}),t(3,c=[])}})},h=[[]];function d(g){zr[g?"unshift":"push"](()=>{o=g,t(1,o)})}function p(){c=Uk(h[0],this.__value,this.checked),t(3,c)}return r.$$.update=()=>{r.$$.dirty&1&&t(4,n=!(l.studentCode&&l.studentLevel&&l.studentName))},[l,o,a,c,n,u,f,d,p,h]}let RD=class extends It{constructor(e){super(),Ot(this,e,DD,PD,xt,{})}};const FD=Object.freeze(Object.defineProperty({__proto__:null,default:RD},Symbol.toStringTag,{value:"Module"}));function jD(r){let e,t,n,s,i,o,a,l,c;return o=new ft({props:{buttonText:"Sign Out",className:"max-w-fit"}}),o.$on("click",r[0]),{c(){e=I(),t=x("div"),n=x("h1"),n.textContent="You have already completed this Exam",s=I(),i=x("div"),de(o.$$.fragment),b(n,"class","font-semibold text-3xl"),b(i,"class","mt-20"),b(t,"class","min-h-screen w-screen flex flex-col items-center justify-center container px-20")},m(u,f){oe(u,e,f),oe(u,t,f),m(t,n),m(t,s),m(t,i),ue(o,i,null),a=!0,l||(c=ht(document,"contextmenu",ad(r[1])),l=!0)},p:Bt,i(u){a||(R(o.$$.fragment,u),a=!0)},o(u){z(o.$$.fragment,u),a=!1},d(u){u&&ie(e),u&&ie(t),fe(o),l=!1,c()}}}function BD(r,e,t){let n;cn(r,kn,a=>t(2,n=a));let s=n.props.assessmentId;const i=()=>{ze.post(`/cbt/${s}/logout`,{},{onSuccess:a=>{window.location.replace("/cbt/"+s)}})};function o(a){sc.call(this,r,a)}return[i,o]}class zD extends It{constructor(e){super(),Ot(this,e,BD,jD,xt,{})}}const qD=Object.freeze(Object.defineProperty({__proto__:null,default:zD},Symbol.toStringTag,{value:"Module"}));function HD(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w=r[2]/60+"",v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe,be,Ne,Ae,qe,Me,Ee,Le,ve,Xe,nt,_e;return ve=new ft({props:{disabled:r[6],buttonText:"Start Assessment"}}),ve.$on("click",r[9]),{c(){e=x("div"),t=x("div"),t.innerHTML='<div class="max-w-3xl mx-auto"><div class="py-4 w-full"><h1 class="text-center text-lg font-semibold">Assessment Instructions</h1></div></div>',n=I(),s=x("div"),i=x("main"),o=x("div"),a=x("div"),l=x("h1"),c=Be(r[0]),u=I(),f=x("div"),h=x("div"),d=x("p"),d.textContent="Total Duration",p=I(),g=x("p"),v=Be(w),_=Be(" Minutes"),k=I(),A=x("div"),C=x("p"),C.textContent="No. of Questions",N=I(),T=x("p"),O=Be(r[3]),D=Be(" Questions"),Q=I(),E=x("div"),j=x("p"),j.textContent="Total Marks",J=I(),U=x("p"),ne=Be(r[4]),G=Be(" Marks"),ae=I(),q=x("hr"),F=I(),te=x("h4"),te.textContent="Exam Instructions",B=I(),L=x("div"),Y=Be(r[1]),re=I(),X=x("div"),X.textContent="Please do not refresh page or your assessment will be marked as submitted",K=I(),W=x("div"),pe=x("div"),be=x("div"),Ne=x("div"),Ae=x("input"),qe=I(),Me=x("label"),Me.textContent="I've read all the instructions carefully and have understood them.",Ee=I(),Le=x("div"),de(ve.$$.fragment),b(t,"class","bg-white z-10 shadow"),b(l,"class","text-2xl font-semibold text-gray-800 leading-normal py-2"),b(d,"class","font-mono text-sm leading-3 mb-2 text-green-600"),b(g,"class","font-semibold leading-tight"),b(C,"class","font-mono text-sm leading-3 mb-2 text-green-600"),b(T,"class","font-semibold leading-tight"),b(A,"class","ml-11"),b(j,"class","font-mono text-sm leading-3 mb-2 text-green-600"),b(U,"class","font-semibold leading-tight"),b(E,"class","ml-11"),b(f,"class","flex items-center mt-10"),b(q,"class","my-8 border-t border-gray-200"),b(te,"class","text-gray-900 font-semibold mb-4"),b(L,"class","prose text-gray-800 mb-2"),b(X,"class","prose text-gray-800 my-2 "),b(a,"class","py-4 w-full"),b(Ae,"type","checkbox"),b(Ae,"id","agree_1"),b(Me,"for","agree_1"),b(Me,"class","ltr:ml-2 rtl:mr-2 text-sm leading-normal font-normal text-gray-800 cursor-pointer"),b(Ne,"class","pt-2"),b(Le,"class","w-full block mt-10"),b(be,"class","w-full flex flex-col"),b(W,"class","py-4 w-full"),b(o,"class","w-full lg:flex lg:ltr:flex-row lg:rtl:flex-row-reverse flex-wrap px-2 py-2"),b(i,"class","max-w-2xl mx-auto mt-10"),b(s,"class","flex-1 relative h-full z-0 overflow-hidden focus:outline-none ps"),b(e,"class","w-full mx-auto flex flex-col md:px-0")},m(Re,je){oe(Re,e,je),m(e,t),m(e,n),m(e,s),m(s,i),m(i,o),m(o,a),m(a,l),m(l,c),m(a,u),m(a,f),m(f,h),m(h,d),m(h,p),m(h,g),m(g,v),m(g,_),m(f,k),m(f,A),m(A,C),m(A,N),m(A,T),m(T,O),m(T,D),m(f,Q),m(f,E),m(E,j),m(E,J),m(E,U),m(U,ne),m(U,G),m(a,ae),m(a,q),m(a,F),m(a,te),m(a,B),m(a,L),m(L,Y),m(a,re),m(a,X),m(o,K),m(o,W),m(W,pe),m(pe,be),m(be,Ne),m(Ne,Ae),Ae.checked=r[5],m(Ne,qe),m(Ne,Me),m(be,Ee),m(be,Le),ue(ve,Le,null),Xe=!0,nt||(_e=ht(Ae,"change",r[8]),nt=!0)},p(Re,[je]){(!Xe||je&1)&&rt(c,Re[0]),(!Xe||je&4)&&w!==(w=Re[2]/60+"")&&rt(v,w),(!Xe||je&8)&&rt(O,Re[3]),(!Xe||je&16)&&rt(ne,Re[4]),(!Xe||je&2)&&rt(Y,Re[1]),je&32&&(Ae.checked=Re[5]);const Ye={};je&64&&(Ye.disabled=Re[6]),ve.$set(Ye)},i(Re){Xe||(R(ve.$$.fragment,Re),Xe=!0)},o(Re){z(ve.$$.fragment,Re),Xe=!1},d(Re){Re&&ie(e),fe(ve),nt=!1,_e()}}}function VD(r,e,t){let n,{assessmentTitle:s}=e,{assessmentInstructions:i}=e,{assessmentDuration:o}=e,{assessmentTotalQuestions:a}=e,{assessmentTotalMarks:l}=e,c;const u=Ks();function f(){c=this.checked,t(5,c)}const h=()=>u("start-assessment");return r.$$set=d=>{"assessmentTitle"in d&&t(0,s=d.assessmentTitle),"assessmentInstructions"in d&&t(1,i=d.assessmentInstructions),"assessmentDuration"in d&&t(2,o=d.assessmentDuration),"assessmentTotalQuestions"in d&&t(3,a=d.assessmentTotalQuestions),"assessmentTotalMarks"in d&&t(4,l=d.assessmentTotalMarks)},r.$$.update=()=>{r.$$.dirty&32&&t(6,n=!c)},[s,i,o,a,l,c,n,u,f,h]}class Jg extends It{constructor(e){super(),Ot(this,e,VD,HD,xt,{assessmentTitle:0,assessmentInstructions:1,assessmentDuration:2,assessmentTotalQuestions:3,assessmentTotalMarks:4})}}const UD=Object.freeze(Object.defineProperty({__proto__:null,default:Jg},Symbol.toStringTag,{value:"Module"}));function WD(r){let e,t,n=(r[1]??0)+"",s,i,o,a,l;return{c(){e=x("div"),t=x("span"),s=Be(n),i=I(),o=x("span"),b(t,"class","flex items-center justify-center text-xs font-medium w-full h-full text-gray-500"),b(o,"style",a="background-color:"+r[0]),b(o,"class",Ut("flex h-2.5 w-full bg-green-400")),b(e,"style",l="border-color:"+r[0]),b(e,"class",Ut("flex shrink-0 flex-col h-10 w-10 rounded-sm border border-green-400 overflow-hidden justify-between"))},m(c,u){oe(c,e,u),m(e,t),m(t,s),m(e,i),m(e,o)},p(c,[u]){u&2&&n!==(n=(c[1]??0)+"")&&rt(s,n),u&1&&a!==(a="background-color:"+c[0])&&b(o,"style",a),u&1&&l!==(l="border-color:"+c[0])&&b(e,"style",l)},i:Bt,o:Bt,d(c){c&&ie(e)}}}function YD(r,e,t){let{color:n}=e,{qNumber:s=""}=e;return r.$$set=i=>{"color"in i&&t(0,n=i.color),"qNumber"in i&&t(1,s=i.qNumber)},[n,s]}class Cc extends It{constructor(e){super(),Ot(this,e,YD,WD,xt,{color:0,qNumber:1})}}const QD=Object.freeze(Object.defineProperty({__proto__:null,default:Cc},Symbol.toStringTag,{value:"Module"}));function r6(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function n6(r){let e,t,n,s=r[3]()[r[11]]+"",i,o,a,l,c,u,f,h=r[9].htmlContent+"",d,p,g,w,v;function _(){return r[7](r[9])}return{c(){e=x("div"),t=x("button"),n=x("span"),i=Be(s),l=I(),c=x("div"),u=x("button"),f=x("span"),g=I(),b(n,"class",o=`${r[9].content==r[1].selectedAnswer?"text-green-700":"text-gray-500"} font-medium`),b(t,"class",a=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[9].content==r[1].selectedAnswer?"border-green-700":"border-gray-300"} rounded-lg`),b(f,"class",d=`${r[9].content==r[1].selectedAnswer?"text-green-700":"text-gray-500"} text-left`),b(u,"type","button"),b(u,"class",p=`flex p-3 border-2 ${r[9].content==r[1].selectedAnswer?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(c,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full text-base")},m(k,A){oe(k,e,A),m(e,t),m(t,n),m(n,i),m(e,l),m(e,c),m(c,u),m(u,f),f.innerHTML=h,m(e,g),w||(v=ht(t,"click",_),w=!0)},p(k,A){r=k,A&6&&o!==(o=`${r[9].content==r[1].selectedAnswer?"text-green-700":"text-gray-500"} font-medium`)&&b(n,"class",o),A&6&&a!==(a=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[9].content==r[1].selectedAnswer?"border-green-700":"border-gray-300"} rounded-lg`)&&b(t,"class",a),A&4&&h!==(h=r[9].htmlContent+"")&&(f.innerHTML=h),A&6&&d!==(d=`${r[9].content==r[1].selectedAnswer?"text-green-700":"text-gray-500"} text-left`)&&b(f,"class",d),A&6&&p!==(p=`flex p-3 border-2 ${r[9].content==r[1].selectedAnswer?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`)&&b(u,"class",p)},d(k){k&&ie(e),w=!1,v()}}}function GD(r){let e,t,n,s,i,o,a,l,c,u=r[1].prompt+"",f,h,d,p,g=r[2],w=[];for(let k=0;k<g.length;k+=1)w[k]=n6(r6(r,g,k));const v=r[6].default,_=Oo(v,r,r[5],null);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),i=x("p"),o=Be("Question "),a=Be(r[0]),l=I(),c=x("p"),f=I(),h=x("ul");for(let k=0;k<w.length;k+=1)w[k].c();d=I(),_&&_.c(),b(i,"class","text-gray-800 font-bold text-lg"),b(s,"class","flex items-center justify-between"),b(c,"class","text-gray-800 text-base font-base pt-6"),b(n,"class","space-y-4 pb-3"),b(h,"class","flex flex-col w-full space-y-2 text-sm text-gray-600 pt-8"),b(t,"class","pb-6"),b(e,"class","flex flex-col px-8 pt-8 pb-4")},m(k,A){oe(k,e,A),m(e,t),m(t,n),m(n,s),m(s,i),m(i,o),m(i,a),m(n,l),m(n,c),c.innerHTML=u,m(t,f),m(t,h);for(let C=0;C<w.length;C+=1)w[C]&&w[C].m(h,null);m(t,d),_&&_.m(t,null),p=!0},p(k,[A]){if((!p||A&1)&&rt(a,k[0]),(!p||A&2)&&u!==(u=k[1].prompt+"")&&(c.innerHTML=u),A&30){g=k[2];let C;for(C=0;C<g.length;C+=1){const N=r6(k,g,C);w[C]?w[C].p(N,A):(w[C]=n6(N),w[C].c(),w[C].m(h,null))}for(;C<w.length;C+=1)w[C].d(1);w.length=g.length}_&&_.p&&(!p||A&32)&&Eo(_,v,k,k[5],p?Io(v,k[5],A,null):Po(k[5]),null)},i(k){p||(R(_,k),p=!0)},o(k){z(_,k),p=!1},d(k){k&&ie(e),gr(w,k),_&&_.d(k)}}}function JD(r,e,t){let{$$slots:n={},$$scope:s}=e,{questionNumber:i}=e,{question:o={}}=e,a=[];br(()=>{t(2,a=u(o.choices??[]))});const l=()=>{let h=[];for(let d=65;d<=90;d++)h.push(String.fromCharCode(d));return h},c=Ks(),u=h=>{for(let d=h.length-1;d>0;d--){const p=Math.floor(Math.random()*(d+1));[h[d],h[p]]=[h[p],h[d]]}return h},f=h=>c("selected",{questionId:o.questionId,option:h.content});return r.$$set=h=>{"questionNumber"in h&&t(0,i=h.questionNumber),"question"in h&&t(1,o=h.question),"$$scope"in h&&t(5,s=h.$$scope)},[i,o,a,l,c,s,n,f]}let b9=class extends It{constructor(e){super(),Ot(this,e,JD,GD,xt,{questionNumber:0,question:1})}};const KD=Object.freeze(Object.defineProperty({__proto__:null,default:b9},Symbol.toStringTag,{value:"Module"}));function s6(r,e,t){const n=r.slice();return n[35]=e[t],n[37]=t,n}function i6(r,e,t){const n=r.slice();return n[35]=e[t],n[37]=t,n}function o6(r){var hi;let e,t,n,s,i,o,a,l,c,u,f,h,d,p=`${r[7]} : ${r[8]} : ${r[9]}`,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe,be=[],Ne=new Map,Ae,qe,Me,Ee,Le,ve,Xe,nt,_e,Re,je,Ye,yt,wt,Mt,at,bt,Ht,Pt,Ft,st,Cr,rr,fs,kr,Er,Mn,pr,rs,Lr,bs,ns,Tr,Yt,vr,Ds,Yr,un,$s,Wt,vs,Un,fn,nn,Vr,dn,ti,Wn,bn,Yn=r[4];const ys=kt=>kt[35].questionId;for(let kt=0;kt<Yn.length;kt+=1){let Jt=i6(r,Yn,kt),jr=ys(Jt);Ne.set(jr,be[kt]=l6(jr,Jt))}Ee=new ft({props:{buttonText:"Clear Answer",className:"bg-white font-medium text-sm border-2 border-red-500 text-red-500 px-6 hover:bg-red-500 hover:text-white focus:bg-transparent focus:ring-transparent focus:text-red-500"}}),Ee.$on("click",r[17]),ve=new ft({props:{buttonText:(hi=r[4][r[10]-1])!=null&&hi.markedForReview?"Unmark For Review":"Mark For Review",className:"bg-white font-medium text-sm border-2 border-yellow-600 text-yellow-600 px-6 hover:bg-yellow-600 hover:text-white min-w-max focus:bg-transparent focus:text-yellow-600 focus:ring-transparent"}}),ve.$on("click",r[14]),_e=new ft({props:{disabled:r[13],buttonText:"Save & Next",className:""}}),_e.$on("click",r[18]);let Qr=r[4],Sr=[];for(let kt=0;kt<Qr.length;kt+=1)Sr[kt]=c6(s6(r,Qr,kt));const Rs=kt=>z(Sr[kt],1,1,()=>{Sr[kt]=null});return rr=new Cc({props:{color:v9,qNumber:r[12]("answered")}}),pr=new Cc({props:{color:y9,qNumber:r[12]("notAnswered")}}),Tr=new Cc({props:{color:w9,qNumber:r[12]("markedForReview")}}),un=new Cc({props:{color:_9,qNumber:r[12]("markedForReviewAndAnswered")}}),fn=new Cc({props:{color:x9,qNumber:r[12]("notVisited")}}),Wn=new ft({props:{buttonText:"Submit & Finish",className:"bg-red-500 text-white hover:bg-red-400 focus:bg-red-500 focus:ring-red-300"}}),Wn.$on("click",r[20]),{c(){e=x("div"),t=x("div"),n=x("p"),s=Be(r[0]),i=I(),o=x("div"),a=x("div"),a.innerHTML='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 stroke-white"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg>',l=I(),c=x("div"),u=$t("svg"),f=$t("path"),h=I(),d=x("p"),g=Be(p),w=I(),v=x("div"),_=x("div"),k=x("div"),k.textContent="Student Data",A=I(),C=x("div"),N=x("div"),T=x("img"),D=I(),Q=x("div"),E=x("div"),j=x("p"),j.textContent="Student Name:",J=I(),U=x("p"),ne=Be(r[1]),G=I(),ae=x("div"),q=x("p"),q.textContent="Student Code:",F=I(),te=x("p"),B=Be(r[3]),L=I(),Y=x("div"),re=x("div"),X=I(),K=x("div"),W=x("div"),pe=x("div");for(let kt=0;kt<be.length;kt+=1)be[kt].c();Ae=I(),qe=x("div"),Me=x("div"),de(Ee.$$.fragment),Le=I(),de(ve.$$.fragment),Xe=I(),nt=x("div"),de(_e.$$.fragment),Re=I(),je=x("div"),Ye=x("div"),yt=I(),wt=x("div"),Mt=x("div"),at=x("div");for(let kt=0;kt<Sr.length;kt+=1)Sr[kt].c();bt=I(),Ht=x("div"),Pt=x("div"),Ft=x("div"),st=x("div"),Cr=x("div"),de(rr.$$.fragment),fs=I(),kr=x("span"),kr.textContent="Answered",Er=I(),Mn=x("div"),de(pr.$$.fragment),rs=I(),Lr=x("span"),Lr.textContent="Not Answered",bs=I(),ns=x("div"),de(Tr.$$.fragment),Yt=I(),vr=x("span"),vr.textContent="Marked For Review",Ds=I(),Yr=x("div"),de(un.$$.fragment),$s=I(),Wt=x("span"),Wt.textContent="Answered and Marked For Review",vs=I(),Un=x("div"),de(fn.$$.fragment),nn=I(),Vr=x("span"),Vr.textContent="Not Visited",dn=I(),ti=x("div"),de(Wn.$$.fragment),b(n,"class","text-white text-lg font-medium font-mono"),b(a,"class","h-9 w-9 bg-gray-700 rounded flex items-center justify-center"),b(f,"stroke-linecap","round"),b(f,"stroke-linejoin","round"),b(f,"stroke-width","2"),b(f,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),b(u,"fill","none"),b(u,"stroke","currentColor"),b(u,"viewBox","0 0 24 24"),b(u,"xmlns","http://www.w3.org/2000/svg"),b(u,"class","w-5 h-5 stroke-white"),b(d,"class","text-white font-mono"),b(c,"class","h-9 bg-gray-700 rounded flex items-center justify-center px-3 space-x-2"),b(o,"class","flex space-x-2"),b(t,"class","fixed inset-0 flex items-center justify-between h-16 w-full z-50 bg-gray-800 px-8"),b(k,"class","flex items-center shrink-0 w-full border-b border-r border-gray-300 h-16 bg-white px-8 font-semibold"),la(T.src,O=r[2])||b(T,"src",O),b(T,"alt",""),b(T,"class","rounded-lg"),b(T,"height","160"),b(T,"width","160"),b(j,"class","font-semibold"),b(E,"class","space-y-1 text-sm"),b(q,"class","font-semibold"),b(ae,"class","space-y-1 text-sm"),b(Q,"class","flex flex-col space-y-5 mt-10"),b(N,"class","flex flex-col w-full overflow-y-auto"),b(C,"class","flex flex-col h-full w-full bg-gray-50 px-8 py-6 border-r"),b(_,"class","relative flex flex-col w-64 shrink-0 bg-gray-50"),b(re,"class","flex items-center w-full shrink-0 border-b h-16 border-gray-300 px-8"),b(pe,"class","max-w-xl"),b(W,"class","w-full h-full overflow-y-auto"),b(K,"class","flex flex-col w-full h-[calc(100vh-13rem)] px-8 py-6"),b(Me,"class","flex space-x-2"),b(qe,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t border-b h-20 border-gray-300 px-6"),b(Y,"class","relative flex flex-col flex-1 bg-white border-r"),b(Ye,"class","shrink-0 w-full border-b border-gray-300 h-16 bg-white"),b(at,"class","grid grid-cols-5 gap-4"),b(Mt,"class","flex flex-col w-full overflow-y-auto"),b(wt,"class","flex flex-col h-[calc(100vh-26rem)] w-full bg-gray-50 px-8 py-6"),b(kr,"class","text-xs text-gray-700"),b(Cr,"class","flex items-center space-x-2"),b(Lr,"class","text-xs text-gray-700"),b(Mn,"class","flex items-center space-x-2"),b(vr,"class","text-xs text-gray-700"),b(ns,"class","flex items-center space-x-2"),b(Wt,"class","text-xs text-gray-700"),b(Yr,"class","flex items-center space-x-2"),b(Vr,"class","text-xs text-gray-700"),b(Un,"class","flex items-center space-x-2"),b(st,"class","grid grid-cols-2 w-full gap-4"),b(Ft,"class","flex flex-col justify-center items-center w-full h-full px-8 pt-6 pb-24"),b(ti,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t h-20 border-gray-300 px-6"),b(Pt,"class","relative w-full h-full"),b(Ht,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t h-72 border-gray-300"),b(je,"class","relative flex flex-col w-96 shrink-0 bg-gray-50"),b(v,"class","fixed inset-0 pt-16 flex w-full min-h-screen "),b(e,"class","bg-yellow-400 relative min-h-screen w-full")},m(kt,Jt){oe(kt,e,Jt),m(e,t),m(t,n),m(n,s),m(t,i),m(t,o),m(o,a),m(o,l),m(o,c),m(c,u),m(u,f),m(c,h),m(c,d),m(d,g),m(e,w),m(e,v),m(v,_),m(_,k),m(_,A),m(_,C),m(C,N),m(N,T),m(N,D),m(N,Q),m(Q,E),m(E,j),m(E,J),m(E,U),m(U,ne),m(Q,G),m(Q,ae),m(ae,q),m(ae,F),m(ae,te),m(te,B),m(v,L),m(v,Y),m(Y,re),m(Y,X),m(Y,K),m(K,W),m(W,pe);for(let jr=0;jr<be.length;jr+=1)be[jr]&&be[jr].m(pe,null);m(Y,Ae),m(Y,qe),m(qe,Me),ue(Ee,Me,null),m(Me,Le),ue(ve,Me,null),m(qe,Xe),m(qe,nt),ue(_e,nt,null),m(v,Re),m(v,je),m(je,Ye),m(je,yt),m(je,wt),m(wt,Mt),m(Mt,at);for(let jr=0;jr<Sr.length;jr+=1)Sr[jr]&&Sr[jr].m(at,null);m(je,bt),m(je,Ht),m(Ht,Pt),m(Pt,Ft),m(Ft,st),m(st,Cr),ue(rr,Cr,null),m(Cr,fs),m(Cr,kr),m(st,Er),m(st,Mn),ue(pr,Mn,null),m(Mn,rs),m(Mn,Lr),m(st,bs),m(st,ns),ue(Tr,ns,null),m(ns,Yt),m(ns,vr),m(st,Ds),m(st,Yr),ue(un,Yr,null),m(Yr,$s),m(Yr,Wt),m(st,vs),m(st,Un),ue(fn,Un,null),m(Un,nn),m(Un,Vr),m(Pt,dn),m(Pt,ti),ue(Wn,ti,null),bn=!0},p(kt,Jt){var pi;(!bn||Jt[0]&1)&&rt(s,kt[0]),(!bn||Jt[0]&896)&&p!==(p=`${kt[7]} : ${kt[8]} : ${kt[9]}`)&&rt(g,p),(!bn||Jt[0]&4&&!la(T.src,O=kt[2]))&&b(T,"src",O),(!bn||Jt[0]&2)&&rt(ne,kt[1]),(!bn||Jt[0]&8)&&rt(B,kt[3]),Jt[0]&66576&&(Yn=kt[4],ct(),be=Ro(be,Jt,ys,1,kt,Yn,Ne,pe,Do,l6,null,i6),ut());const jr={};Jt[0]&1040&&(jr.buttonText=(pi=kt[4][kt[10]-1])!=null&&pi.markedForReview?"Unmark For Review":"Mark For Review"),ve.$set(jr);const $i={};if(Jt[0]&8192&&($i.disabled=kt[13]),_e.$set($i),Jt[0]&32816){Qr=kt[4];let Cn;for(Cn=0;Cn<Qr.length;Cn+=1){const ri=s6(kt,Qr,Cn);Sr[Cn]?(Sr[Cn].p(ri,Jt),R(Sr[Cn],1)):(Sr[Cn]=c6(ri),Sr[Cn].c(),R(Sr[Cn],1),Sr[Cn].m(at,null))}for(ct(),Cn=Qr.length;Cn<Sr.length;Cn+=1)Rs(Cn);ut()}const co={};Jt[0]&4096&&(co.qNumber=kt[12]("answered")),rr.$set(co);const Ho={};Jt[0]&4096&&(Ho.qNumber=kt[12]("notAnswered")),pr.$set(Ho);const Ge={};Jt[0]&4096&&(Ge.qNumber=kt[12]("markedForReview")),Tr.$set(Ge);const Vt={};Jt[0]&4096&&(Vt.qNumber=kt[12]("markedForReviewAndAnswered")),un.$set(Vt);const Qn={};Jt[0]&4096&&(Qn.qNumber=kt[12]("notVisited")),fn.$set(Qn)},i(kt){if(!bn){for(let Jt=0;Jt<Yn.length;Jt+=1)R(be[Jt]);R(Ee.$$.fragment,kt),R(ve.$$.fragment,kt),R(_e.$$.fragment,kt);for(let Jt=0;Jt<Qr.length;Jt+=1)R(Sr[Jt]);R(rr.$$.fragment,kt),R(pr.$$.fragment,kt),R(Tr.$$.fragment,kt),R(un.$$.fragment,kt),R(fn.$$.fragment,kt),R(Wn.$$.fragment,kt),bn=!0}},o(kt){for(let Jt=0;Jt<be.length;Jt+=1)z(be[Jt]);z(Ee.$$.fragment,kt),z(ve.$$.fragment,kt),z(_e.$$.fragment,kt),Sr=Sr.filter(Boolean);for(let Jt=0;Jt<Sr.length;Jt+=1)z(Sr[Jt]);z(rr.$$.fragment,kt),z(pr.$$.fragment,kt),z(Tr.$$.fragment,kt),z(un.$$.fragment,kt),z(fn.$$.fragment,kt),z(Wn.$$.fragment,kt),bn=!1},d(kt){kt&&ie(e);for(let Jt=0;Jt<be.length;Jt+=1)be[Jt].d();fe(Ee),fe(ve),fe(_e),gr(Sr,kt),fe(rr),fe(pr),fe(Tr),fe(un),fe(fn),fe(Wn)}}}function a6(r){let e,t;return e=new b9({props:{question:r[35],questionNumber:r[37]+1}}),e.$on("selected",r[26]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.question=n[35]),s[0]&16&&(i.questionNumber=n[37]+1),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function l6(r,e){let t,n,s,i=e[10]===e[37]+1&&a6(e);return{key:r,first:null,c(){t=cr(),i&&i.c(),n=cr(),this.first=t},m(o,a){oe(o,t,a),i&&i.m(o,a),oe(o,n,a),s=!0},p(o,a){e=o,e[10]===e[37]+1?i?(i.p(e,a),a[0]&1040&&R(i,1)):(i=a6(e),i.c(),R(i,1),i.m(n.parentNode,n)):i&&(ct(),z(i,1,1,()=>{i=null}),ut())},i(o){s||(R(i),s=!0)},o(o){z(i),s=!1},d(o){o&&ie(t),i&&i.d(o),o&&ie(n)}}}function c6(r){let e,t,n,s,i,o;t=new Cc({props:{color:r[5](r[35]).color,qNumber:"Q"+(r[37]+1)}});function a(){return r[27](r[37])}return{c(){e=x("button"),de(t.$$.fragment),n=I()},m(l,c){oe(l,e,c),ue(t,e,null),m(e,n),s=!0,i||(o=ht(e,"click",a),i=!0)},p(l,c){r=l;const u={};c[0]&48&&(u.color=r[5](r[35]).color),t.$set(u)},i(l){s||(R(t.$$.fragment,l),s=!0)},o(l){z(t.$$.fragment,l),s=!1},d(l){l&&ie(e),fe(t),i=!1,o()}}}function u6(r){let e,t,n,s,i,o,a,l,c,u;return a=new ft({props:{buttonText:"No",className:"bg-gray-400 hover:bg-gray-500 focus:ring-gray-300 focus:bg-gray-400"}}),a.$on("click",r[21]),c=new ft({props:{buttonText:"Yes",className:"bg-green-500 text-white hover:bg-green-600 focus:bg-green-500 focus:ring-green-300"}}),c.$on("click",r[19]),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h1"),s.textContent="Are you sure you want to submit?",i=I(),o=x("div"),de(a.$$.fragment),l=I(),de(c.$$.fragment),b(s,"class","text-2xl font-medium text-gray-800 text-center"),b(o,"class","flex space-x-4 w-full"),b(n,"class","flex flex-col justify-center items-center space-y-12"),b(t,"class","flex flex-col justify-center items-center h-96 w-[28rem] bg-white rounded-lg p-16"),b(e,"class","fixed justify-center items-center flex flex-col inset-0 bg-gray-800/70")},m(f,h){oe(f,e,h),m(e,t),m(t,n),m(n,s),m(n,i),m(n,o),ue(a,o,null),m(o,l),ue(c,o,null),u=!0},p:Bt,i(f){u||(R(a.$$.fragment,f),R(c.$$.fragment,f),u=!0)},o(f){z(a.$$.fragment,f),z(c.$$.fragment,f),u=!1},d(f){f&&ie(e),fe(a),fe(c)}}}function XD(r){let e,t,n,s=!r[6]&&o6(r),i=r[11]&&u6(r);return{c(){s&&s.c(),e=I(),i&&i.c(),t=cr()},m(o,a){s&&s.m(o,a),oe(o,e,a),i&&i.m(o,a),oe(o,t,a),n=!0},p(o,a){o[6]?s&&(ct(),z(s,1,1,()=>{s=null}),ut()):s?(s.p(o,a),a[0]&64&&R(s,1)):(s=o6(o),s.c(),R(s,1),s.m(e.parentNode,e)),o[11]?i?(i.p(o,a),a[0]&2048&&R(i,1)):(i=u6(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(ct(),z(i,1,1,()=>{i=null}),ut())},i(o){n||(R(s),R(i),n=!0)},o(o){z(s),z(i),n=!1},d(o){s&&s.d(o),o&&ie(e),i&&i.d(o),o&&ie(t)}}}let v9="rgb(74 222 128)",y9="rgb(248 113 113)",w9="rgb(192 132 252)",_9="rgb(250 204 21)",x9="rgb(156 163 175)";function ZD(r,e,t){let n,s,i,{assessmentId:o}=e,{assessmentTitle:a}=e,{subjectId:l}=e,{timeLeft:c}=e,{studentName:u}=e,{studentPhoto:f}=e,{studentCode:h}=e,d=!0,p="00",g="00",w="00",v,_,k=[],A=1,C=!1,N=!1;br(async()=>{let B,L=`/api/cbt/get-responses/student/${o}`;l&&(L+=`?subjectId=${l}`),await ze.getWithToken(L,{onSuccess:re=>{B=re.data}});let Y=`/api/cbt/session/questions/${o}`;l&&(Y+=`?subjectId=${l}`),await ze.getWithToken(Y,{onSuccess:re=>{t(4,k=re.data.flatMap(X=>(B.forEach(K=>{K.selectedAnswer,K.questionId===X.questionId&&(X.selectedAnswer=K.selectedAnswer,X.notAnswered=K.notAnswered,X.markedForReview=K.markedForReview,X.submitted=!0)}),[{prompt:X.prompt,choices:X.choices,questionId:X.questionId,selectedAnswer:X.selectedAnswer??"",notAnswered:X.notAnswered??!1,markedForReview:X.markedForReview??!1,notVisited:!0,submitted:X.submitted??!1}]))),k.length>0&&k[A-1],t(4,k=T(k)),t(6,d=!1)}}),D()});const T=B=>{for(let L=B.length-1;L>0;L--){const Y=Math.floor(Math.random()*(L+1));[B[L],B[Y]]=[B[Y],B[L]]}return B},O=()=>{let B=`/cbt/save-session/student/${o}`;l&&(B+=`?subjectId=${l}`),_=new EventSource(B,{withCredentials:!0}),_.addEventListener("message",L=>{t(22,c=L.data),parseInt(c)<=0&&(_.close(),clearInterval(v),G())})},D=()=>{O(),v=setInterval(()=>{_.readyState===EventSource.CLOSED&&(_.close(),O()),c!=0&&(t(7,p=Math.floor(c/(60*60)%24).toString()),t(8,g=Math.floor(c/60%60).toString()),t(9,w=Math.floor(c%60).toString()),t(7,p=p.padStart(2,"0")),t(8,g=g.padStart(2,"0")),t(9,w=w.padStart(2,"0")),t(22,c--,c))},1e3)},Q=()=>{t(4,k[A-1].markedForReview=!k[A-1].markedForReview,k)},E=B=>{let L=k[A-1].selectedAnswer.length>0&&!k[A-1].submitted;A!==B+1&&(L||k[A-1].markedForReview&&L||k[A-1].updated||(t(4,k[A-1].notVisited=!1,k),j(),t(10,A=B+1)))},j=()=>{k[A-1].selectedAnswer.length>0?t(4,k[A-1].notAnswered=!1,k):t(4,k[A-1].notAnswered=!0,k)},J=B=>{t(4,k[A-1].selectedAnswer=B,k),t(4,k[A-1].submitted=!1,k),t(4,k[A-1].notAnswered=!0,k)},U=()=>{t(4,k[A-1].selectedAnswer="",k),t(4,k[A-1].updated=!0,k),t(4,k[A-1].submitted=!1,k)},ne=()=>{t(25,N=!0);let B=k[A-1];ze.postWithToken("/api/cbt/save-answer/student/"+o,{questionId:B.questionId,studentAnswer:B.selectedAnswer,markedForReview:B.markedForReview,subjectId:l},{onSuccess:L=>{t(4,k[A-1].submitted=!0,k),t(4,k[A-1].updated=!1,k),k[A-1].selectedAnswer.length>0?t(4,k[A-1].notAnswered=!1,k):t(4,k[A-1].notAnswered=!0,k),A<k.length&&t(10,A++,A),t(25,N=!1)}})},G=()=>{ze.postWithToken("/api/cbt/complete/student/"+o,{subjectId:l},{onSuccess:B=>{window.location.replace(B.data.url)}})},ae=()=>t(11,C=!0),q=()=>t(11,C=!1),F=B=>J(B.detail.option),te=B=>E(B);return r.$$set=B=>{"assessmentId"in B&&t(23,o=B.assessmentId),"assessmentTitle"in B&&t(0,a=B.assessmentTitle),"subjectId"in B&&t(24,l=B.subjectId),"timeLeft"in B&&t(22,c=B.timeLeft),"studentName"in B&&t(1,u=B.studentName),"studentPhoto"in B&&t(2,f=B.studentPhoto),"studentCode"in B&&t(3,h=B.studentCode)},r.$$.update=()=>{r.$$.dirty[0]&33554432&&t(13,n=N),r.$$.dirty[0]&48&&t(12,i=B=>k.filter(L=>s(L).status===B).length.toString())},t(5,s=B=>{let L="",Y="",re=B.submitted==!0&&B.notAnswered==!1;return re&&(L=v9,Y="answered"),!re&&B.notAnswered==!0&&!B.markedForReview&&(L=y9,Y="notAnswered"),B.markedForReview&&!re&&(L=w9,Y="markedForReview"),B.markedForReview&&re&&(L=_9,Y="markedForReviewAndAnswered"),!re&&B.notVisited&&!B.markedForReview&&!B.notAnswered&&(L=x9,Y="notVisited"),{color:L,status:Y}}),[a,u,f,h,k,s,d,p,g,w,A,C,i,n,Q,E,J,U,ne,G,ae,q,c,o,l,N,F,te]}class Kg extends It{constructor(e){super(),Ot(this,e,ZD,XD,xt,{assessmentId:23,assessmentTitle:0,subjectId:24,timeLeft:22,studentName:1,studentPhoto:2,studentCode:3},null,[-1,-1])}}const eR=Object.freeze(Object.defineProperty({__proto__:null,default:Kg},Symbol.toStringTag,{value:"Module"}));function tR(r){let e,t;return e=new Jg({props:{assessmentTitle:r[1],assessmentDuration:r[3],assessmentInstructions:r[2],assessmentTotalMarks:r[5],assessmentTotalQuestions:r[4]}}),e.$on("start-assessment",r[11]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.assessmentTitle=n[1]),s&8&&(i.assessmentDuration=n[3]),s&4&&(i.assessmentInstructions=n[2]),s&32&&(i.assessmentTotalMarks=n[5]),s&16&&(i.assessmentTotalQuestions=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function rR(r){let e,t;return e=new Kg({props:{studentCode:r[8],studentPhoto:r[9],studentName:r[7],assessmentTitle:r[1],assessmentId:r[10],timeLeft:r[6]}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&256&&(i.studentCode=n[8]),s&512&&(i.studentPhoto=n[9]),s&128&&(i.studentName=n[7]),s&2&&(i.assessmentTitle=n[1]),s&64&&(i.timeLeft=n[6]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function nR(r){let e,t,n,s,i,o,a;const l=[rR,tR],c=[];function u(f,h){return f[0]?0:1}return t=u(r),n=c[t]=l[t](r),{c(){e=I(),n.c(),s=cr()},m(f,h){oe(f,e,h),c[t].m(f,h),oe(f,s,h),i=!0,o||(a=ht(document,"contextmenu",ad(r[12])),o=!0)},p(f,[h]){let d=t;t=u(f),t===d?c[t].p(f,h):(ct(),z(c[d],1,1,()=>{c[d]=null}),ut(),n=c[t],n?n.p(f,h):(n=c[t]=l[t](f),n.c()),R(n,1),n.m(s.parentNode,s))},i(f){i||(R(n),i=!0)},o(f){z(n),i=!1},d(f){f&&ie(e),c[t].d(f),f&&ie(s),o=!1,a()}}}function sR(r,e,t){let n;cn(r,kn,v=>t(13,n=v));let s=!1,i=n.props.assessmentId,o,a,l,c,u,f,h,d,p;br(()=>{ze.getWithToken("/api/cbt/session/student/"+i,{onSuccess:v=>{t(8,d=v.data.studentCode),t(0,s=v.data.hasStarted),t(1,o=v.data.assessmentTitle),t(2,a=v.data.instructions),t(4,c=v.data.totalQuestions),t(3,l=v.data.assessmentDuration),t(5,u=v.data.totalScore),t(6,f=v.data.remainingTime),t(7,h=v.data.studentName),t(9,p=v.data.studentPhoto),t(7,h=v.data.studentName)}})});const g=()=>{ze.postWithToken("/api/cbt/start-session/student/"+i,{},{onSuccess:v=>{t(0,s=!0)}})};function w(v){sc.call(this,r,v)}return[s,o,a,l,c,u,f,h,d,p,i,g,w]}class iR extends It{constructor(e){super(),Ot(this,e,sR,nR,xt,{})}}const oR=Object.freeze(Object.defineProperty({__proto__:null,default:iR},Symbol.toStringTag,{value:"Module"}));function aR(r){let e,t;return e=new Jg({props:{assessmentTitle:r[1],assessmentDuration:r[3],assessmentInstructions:r[2],assessmentTotalMarks:r[5],assessmentTotalQuestions:r[4]}}),e.$on("start-assessment",r[12]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.assessmentTitle=n[1]),s&8&&(i.assessmentDuration=n[3]),s&4&&(i.assessmentInstructions=n[2]),s&32&&(i.assessmentTotalMarks=n[5]),s&16&&(i.assessmentTotalQuestions=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function lR(r){let e,t;return e=new Kg({props:{studentName:r[7],assessmentTitle:r[1],studentCode:r[8],studentPhoto:r[9],assessmentId:r[11],timeLeft:r[6],subjectId:r[10]}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&128&&(i.studentName=n[7]),s&2&&(i.assessmentTitle=n[1]),s&256&&(i.studentCode=n[8]),s&512&&(i.studentPhoto=n[9]),s&64&&(i.timeLeft=n[6]),s&1024&&(i.subjectId=n[10]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function cR(r){let e,t,n,s,i,o,a;const l=[lR,aR],c=[];function u(f,h){return f[0]?0:1}return t=u(r),n=c[t]=l[t](r),{c(){e=I(),n.c(),s=cr()},m(f,h){oe(f,e,h),c[t].m(f,h),oe(f,s,h),i=!0,o||(a=ht(document,"contextmenu",ad(r[13])),o=!0)},p(f,[h]){let d=t;t=u(f),t===d?c[t].p(f,h):(ct(),z(c[d],1,1,()=>{c[d]=null}),ut(),n=c[t],n?n.p(f,h):(n=c[t]=l[t](f),n.c()),R(n,1),n.m(s.parentNode,s))},i(f){i||(R(n),i=!0)},o(f){z(n),i=!1},d(f){f&&ie(e),c[t].d(f),f&&ie(s),o=!1,a()}}}function uR(r,e,t){let n;cn(r,kn,_=>t(14,n=_));let s=!1,i=n.props.assessmentId,o,a,l,c,u,f,h,d,p,g;br(()=>{t(10,g=sessionStorage.getItem("subject")),ze.getWithToken(`/api/cbt/t/session/student/${i}/${g}`,{onSuccess:_=>{t(8,d=_.data.studentCode),t(0,s=_.data.hasStarted),t(1,o=_.data.assessmentTitle),t(2,a=_.data.instructions),t(4,c=_.data.totalQuestions),t(3,l=_.data.assessmentDuration),t(5,u=_.data.totalScore),t(6,f=_.data.remainingTime),t(7,h=_.data.studentName),t(9,p=_.data.studentPhoto)}})});const w=()=>{ze.postWithToken(`/api/cbt/t/start-session/student/${i}/${g}`,{},{onSuccess:_=>{t(0,s=!0)}})};function v(_){sc.call(this,r,_)}return[s,o,a,l,c,u,f,h,d,p,g,i,w,v]}class fR extends It{constructor(e){super(),Ot(this,e,uR,cR,xt,{})}}const dR=Object.freeze(Object.defineProperty({__proto__:null,default:fR},Symbol.toStringTag,{value:"Module"}));function f6(r,e,t){const n=r.slice();return n[8]=e[t],n}function hR(r){let e,t,n=r[0],s=[];for(let o=0;o<n.length;o+=1)s[o]=d6(f6(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){e=x("div");for(let o=0;o<s.length;o+=1)s[o].c();b(e,"class","grid grid-cols-3 gap-5 w-full")},m(o,a){oe(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a&5){n=o[0];let l;for(l=0;l<n.length;l+=1){const c=f6(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=d6(c),s[l].c(),R(s[l],1),s[l].m(e,null))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){o&&ie(e),gr(s,o)}}}function pR(r){let e,t,n,s,i,o;return i=new ft({props:{buttonText:"Sign Out",className:"max-w-fit min-w-max"}}),i.$on("click",r[3]),{c(){e=x("div"),t=x("p"),t.textContent="No exams are available at the moment",n=I(),s=x("div"),de(i.$$.fragment),b(t,"class","text-2xl font-medium text-gray-600 text-center"),b(s,"class","mt-20"),b(e,"class","flex flex-col items-center justify-center w-full")},m(a,l){oe(a,e,l),m(e,t),m(e,n),m(e,s),ue(i,s,null),o=!0},p:Bt,i(a){o||(R(i.$$.fragment,a),o=!0)},o(a){z(i.$$.fragment,a),o=!1},d(a){a&&ie(e),fe(i)}}}function d6(r){let e,t,n,s=r[8].subjectName+"",i,o,a,l,c=r[8].duration/60+"",u,f,h,d,p,g,w;function v(){return r[5](r[8])}return p=new ft({props:{buttonText:"Start"}}),p.$on("click",v),{c(){e=x("div"),t=x("div"),n=x("p"),i=Be(s),o=I(),a=x("p"),l=Be("Duration: "),u=Be(c),f=Be(" Mins"),h=I(),d=x("div"),de(p.$$.fragment),g=I(),b(n,"class","font-bold text-lg text-gray-800"),b(a,"class","text-gray-800"),b(t,"class","space-y-4"),b(d,"class","absolute w-full bottom-0 inset-x-0 px-6 pb-6"),b(e,"class","relative flex flex-col items-center justify-center p-6 w-96 h-80 bg-white border-2 border-gray-300 rounded-lg")},m(_,k){oe(_,e,k),m(e,t),m(t,n),m(n,i),m(t,o),m(t,a),m(a,l),m(a,u),m(a,f),m(e,h),m(e,d),ue(p,d,null),m(e,g),w=!0},p(_,k){r=_,(!w||k&1)&&s!==(s=r[8].subjectName+"")&&rt(i,s),(!w||k&1)&&c!==(c=r[8].duration/60+"")&&rt(u,c)},i(_){w||(R(p.$$.fragment,_),w=!0)},o(_){z(p.$$.fragment,_),w=!1},d(_){_&&ie(e),fe(p)}}}function mR(r){let e,t,n,s,i,o,a,l,c;const u=[pR,hR],f=[];function h(d,p){return d[0].length===0?0:1}return i=h(r),o=f[i]=u[i](r),{c(){e=I(),t=x("div"),n=x("div"),n.textContent=`${r[1]}`,s=I(),o.c(),b(n,"class","text-5xl font-black mb-20 max-w-2xl text-center"),b(t,"class","flex flex-col items-center justify-center min-h-screen container")},m(d,p){oe(d,e,p),oe(d,t,p),m(t,n),m(t,s),f[i].m(t,null),a=!0,l||(c=ht(document,"contextmenu",ad(r[4])),l=!0)},p(d,[p]){let g=i;i=h(d),i===g?f[i].p(d,p):(ct(),z(f[g],1,1,()=>{f[g]=null}),ut(),o=f[i],o?o.p(d,p):(o=f[i]=u[i](d),o.c()),R(o,1),o.m(t,null))},i(d){a||(R(o),a=!0)},o(d){z(o),a=!1},d(d){d&&ie(e),d&&ie(t),f[i].d(),l=!1,c()}}}function gR(r,e,t){let n;cn(r,kn,f=>t(6,n=f));let s=[],i=n.props.assessmentId,o=n.props.assessmentTitle;br(()=>{ze.getWithToken("/api/cbt/t/session/student/"+i,{onSuccess:f=>{t(0,s=f.data)}})});const a=f=>{sessionStorage.setItem("subject",f),window.location.replace(`/cbt/${i}/t/i`)},l=()=>{ze.post(`/cbt/${i}/logout`,{},{onSuccess:f=>{window.location.replace("/cbt/"+i)}})};function c(f){sc.call(this,r,f)}return[s,o,a,l,c,f=>a(f.subjectCode)]}let bR=class extends It{constructor(e){super(),Ot(this,e,gR,mR,xt,{})}};const vR=Object.freeze(Object.defineProperty({__proto__:null,default:bR},Symbol.toStringTag,{value:"Module"}));function Is(r){this.content=r}Is.prototype={constructor:Is,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,s=n.find(r),i=n.content.slice();return s==-1?i.push(t||r,e):(i[s+1]=e,t&&(i[s]=t)),new Is(i)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Is(t)},addToStart:function(r,e){return new Is([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Is(t)},addBefore:function(r,e,t){var n=this.remove(e),s=n.content.slice(),i=n.find(r);return s.splice(i==-1?s.length:i,0,e,t),new Is(s)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Is.from(r),r.size?new Is(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Is.from(r),r.size?new Is(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Is.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Is.from=function(r){if(r instanceof Is)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Is(e)};function k9(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let s=r.child(n),i=e.child(n);if(s==i){t+=s.nodeSize;continue}if(!s.sameMarkup(i))return t;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)t++;return t}if(s.content.size||i.content.size){let o=k9(s.content,i.content,t+1);if(o!=null)return o}t+=s.nodeSize}}function S9(r,e,t,n){for(let s=r.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:t,b:n};let o=r.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){t-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:t,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(o.content.size||a.content.size){let c=S9(o.content,a.content,t-1,n-1);if(c)return c}t-=l,n-=l}}class ot{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,s=0,i){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),n,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,s){let i="",o=!0;return this.nodesBetween(e,t,(a,l)=>{a.isText?(i+=a.text.slice(Math.max(e,l)-l,t-l),o=!n):a.isLeaf?(s?i+=typeof s=="function"?s(a):s:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(s[s.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ot(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],s=0;if(t>e)for(let i=0,o=0;o<t;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),s+=a.nodeSize),o=l}return new ot(n,s)}cutByIndex(e,t){return e==t?ot.empty:e==0&&t==this.content.length?this:new ot(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let s=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return s[e]=t,new ot(s,i)}addToStart(e){return new ot([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ot(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let s=this.content[t];e(s,n,t),n+=s.nodeSize}}findDiffStart(e,t=0){return k9(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return S9(this,e,t,n)}findIndex(e,t=-1){if(e==0)return nh(0,e);if(e==this.size)return nh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),o=s+i.nodeSize;if(o>=e)return o==e||t>0?nh(n+1,o):nh(n,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ot.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ot(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ot.empty;let t,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(t||(t=e.slice(0,s)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new ot(t||e,n)}static from(e){if(!e)return ot.empty;if(e instanceof ot)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ot([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ot.empty=new ot([],0);const dm={index:0,offset:0};function nh(r,e){return dm.index=r,dm.offset=e,dm}function i1(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!i1(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!i1(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let tn=class M2{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&i1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return M2.none;if(e instanceof M2)return[e];let t=e.slice();return t.sort((n,s)=>n.type.rank-s.type.rank),t}};tn.none=[];class o1 extends Error{}class St{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=T9(this.content,e+this.openStart,t);return n&&new St(n,this.openStart,this.openEnd)}removeBetween(e,t){return new St(A9(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return St.empty;let n=t.openStart||0,s=t.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new St(ot.fromJSON(e,t.content),n,s)}static maxOpen(e,t=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)s++;return new St(e,n,s)}}St.empty=new St(ot.empty,0,0);function A9(r,e,t){let{index:n,offset:s}=r.findIndex(e),i=r.maybeChild(n),{index:o,offset:a}=r.findIndex(t);if(s==e||i.isText){if(a!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,i.copy(A9(i.content,e-s-1,t-s-1)))}function T9(r,e,t,n){let{index:s,offset:i}=r.findIndex(e),o=r.maybeChild(s);if(i==e||o.isText)return n&&!n.canReplace(s,s,t)?null:r.cut(0,e).append(t).append(r.cut(e));let a=T9(o.content,e-i-1,t);return a&&r.replaceChild(s,o.copy(a))}function yR(r,e,t){if(t.openStart>r.depth)throw new o1("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new o1("Inconsistent open depths");return N9(r,e,t,0)}function N9(r,e,t,n){let s=r.index(n),i=r.node(n);if(s==e.index(n)&&n<r.depth-t.openStart){let o=N9(r,e,t,n+1);return i.copy(i.content.replaceChild(s,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,a=o.content;return zc(o,a.cut(0,r.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=wR(t,r);return zc(i,C9(r,o,a,e,n))}else return zc(i,a1(r,e,n))}function M9(r,e){if(!e.type.compatibleContent(r.type))throw new o1("Cannot join "+e.type.name+" onto "+r.type.name)}function C2(r,e,t){let n=r.node(t);return M9(n,e.node(t)),n}function Bc(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function $f(r,e,t,n){let s=(e||r).node(t),i=0,o=e?e.index(t):s.childCount;r&&(i=r.index(t),r.depth>t?i++:r.textOffset&&(Bc(r.nodeAfter,n),i++));for(let a=i;a<o;a++)Bc(s.child(a),n);e&&e.depth==t&&e.textOffset&&Bc(e.nodeBefore,n)}function zc(r,e){return r.type.checkContent(e),r.copy(e)}function C9(r,e,t,n,s){let i=r.depth>s&&C2(r,e,s+1),o=n.depth>s&&C2(t,n,s+1),a=[];return $f(null,r,s,a),i&&o&&e.index(s)==t.index(s)?(M9(i,o),Bc(zc(i,C9(r,e,t,n,s+1)),a)):(i&&Bc(zc(i,a1(r,e,s+1)),a),$f(e,t,s,a),o&&Bc(zc(o,a1(t,n,s+1)),a)),$f(n,null,s,a),new ot(a)}function a1(r,e,t){let n=[];if($f(null,r,t,n),r.depth>t){let s=C2(r,e,t+1);Bc(zc(s,a1(r,e,t+1)),n)}return $f(e,null,t,n),new ot(n)}function wR(r,e){let t=e.depth-r.openStart,s=e.node(t).copy(r.content);for(let i=t-1;i>=0;i--)s=e.node(i).copy(ot.from(s));return{start:s.resolveNoCache(r.openStart+t),end:s.resolveNoCache(s.content.size-r.openEnd-t)}}class Qf{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(t);return n?e.child(t).cut(n):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return tn.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),s=e.maybeChild(t);if(!n){let a=n;n=s,s=a}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new l1(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],s=0,i=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(n.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new Qf(t,n,i)}static resolveCached(e,t){for(let s=0;s<hm.length;s++){let i=hm[s];if(i.pos==t&&i.doc==e)return i}let n=hm[pm]=Qf.resolve(e,t);return pm=(pm+1)%_R,n}}let hm=[],pm=0,_R=12;class l1{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xR=Object.create(null);let qc=class L2{constructor(e,t,n,s=tn.none){this.type=e,this.attrs=t,this.marks=s,this.content=n||ot.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,s=0){this.content.nodesBetween(e,t,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,s){return this.content.textBetween(e,t,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&i1(this.attrs,t||e.defaultAttrs||xR)&&tn.sameSet(this.marks,n||tn.none)}copy(e=null){return e==this.content?this:new L2(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new L2(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return St.empty;let s=this.resolve(e),i=this.resolve(t),o=n?0:s.sharedDepth(t),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new St(c,s.depth-o,i.depth-o)}replace(e,t,n){return yR(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let s=this.content.child(t-1);return{node:s,index:t-1,offset:n-s.nodeSize}}resolve(e){return Qf.resolveCached(this,e)}resolveNoCache(e){return Qf.resolve(this,e)}rangeHasMark(e,t,n){let s=!1;return t>e&&this.nodesBetween(e,t,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),L9(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=ot.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=tn.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!tn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let s=ot.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,s,n)}};qc.prototype.text=void 0;let kR=class $2 extends qc{constructor(e,t,n,s){if(super(e,t,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):L9(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new $2(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new $2(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function L9(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Uc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new SR(e,t);if(n.next==null)return Uc.empty;let s=$9(n);n.next&&n.err("Unexpected trailing text");let i=$R(LR(s));return OR(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let s=this;for(let i=t;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let s=[this];function i(o,a){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return ot.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let h=i(f,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!s.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:s}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&t(n.next[s].next)}return t(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Uc.empty=new Uc(!0);class SR{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $9(r){let e=[];do e.push(AR(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AR(r){let e=[];do e.push(TR(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function TR(r){let e=CR(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=NR(r,e);else break;return e}function h6(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function NR(r,e){let t=h6(r),n=t;return r.eat(",")&&(r.next!="}"?n=h6(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function MR(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let s=[];for(let i in t){let o=t[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&r.err("No node type or group '"+e+"' found"),s}function CR(r){if(r.eat("(")){let e=$9(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=MR(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function LR(r){let e=[[]];return s(i(r,0),t()),e;function t(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=t())}else if(o.type=="star"){let l=t();return n(a,l),s(i(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return s(i(o.expr,a),l),s(i(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();n(l,u),s(i(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function O9(r,e){return e-r}function p6(r,e){let t=[];return n(e),t.sort(O9);function n(s){let i=r[s];if(i.length==1&&!i[0].term)return n(i[0].to);t.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&t.indexOf(l)==-1&&n(l)}}}function $R(r){let e=Object.create(null);return t(p6(r,0));function t(n){let s=[];n.forEach(o=>{r[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);p6(r,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[n.join(",")]=new Uc(n.indexOf(r.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(O9);i.next.push({type:s[o][0],next:e[a.join(",")]||t(a)})}return i}}function OR(r,e){for(let t=0,n=[r];t<n.length;t++){let s=n[t],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),n.indexOf(c)==-1&&n.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function I9(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function E9(r,e){let t=Object.create(null);for(let n in r){let s=e&&e[n];if(s===void 0){let i=r[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=s}return t}function P9(r){let e=Object.create(null);if(r)for(let t in r)e[t]=new IR(r[t]);return e}let m6=class D9{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=P9(n.attrs),this.defaultAttrs=I9(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Uc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:E9(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qc(this,this.computeAttrs(e),ot.from(t),tn.setFrom(n))}createChecked(e=null,t,n){return t=ot.from(t),this.checkContent(t),new qc(this,this.computeAttrs(e),t,tn.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=ot.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let s=this.contentMatch.matchFragment(t),i=s&&s.fillBefore(ot.empty,!0);return i?new qc(this,e,t.append(i),tn.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:tn.none:e}static compile(e,t){let n=Object.create(null);e.forEach((i,o)=>n[i]=new D9(i,t,o));let s=t.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};class IR{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class J1{constructor(e,t,n,s){this.name=e,this.rank=t,this.schema=n,this.spec=s,this.attrs=P9(s.attrs),this.excluded=null;let i=I9(this.attrs);this.instance=i?new tn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new tn(this,E9(this.attrs,e))}static compile(e,t){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new J1(i,s++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class ER{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Is.from(e.nodes),t.marks=Is.from(e.marks||{}),this.nodes=m6.compile(this.spec.nodes,this),this.marks=J1.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[o]||(n[o]=Uc.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?g6(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:g6(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof m6){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,s)}text(e,t){let n=this.nodes.text;return new kR(n,n.defaultAttrs,e,tn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return qc.fromJSON(this,e)}markFromJSON(e){return tn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function g6(r,e){let t=[];for(let n=0;n<e.length;n++){let s=e[n],i=r.marks[s],o=i;if(i)t.push(i);else for(let a in r.marks){let l=r.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}class g0{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let s=e.nodes[n.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new v6(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new v6(this,t,!0);return n.addAll(e,t.from,t.to),St.maxOpen(n.finish())}matchTag(e,t,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(RR(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||t.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,t,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<i)break}t.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=y6(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=y6(o)),o.node||o.ignore||o.mark||(o.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new g0(e,g0.schemaRules(e)))}}const R9={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},PR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},F9={ol:!0,ul:!0},c1=1,u1=2,Of=4;function b6(r,e,t){return e!=null?(e?c1:0)|(e==="full"?u1:0):r&&r.whitespace=="pre"?c1|u1:t&~Of}class sh{constructor(e,t,n,s,i,o,a){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=s,this.solid=i,this.options=a,this.content=[],this.activeMarks=tn.none,this.stashMarks=[],this.match=o||(a&Of?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ot.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&c1)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let t=ot.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ot.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let s=n[t];(this.type?this.type.allowsMarkType(s.type):jR(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!R9.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class v6{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let s=t.topNode,i,o=b6(null,t.preserveWhitespace,0)|(n?Of:0);s?i=new sh(s.type,s.attrs,tn.none,tn.none,!0,t.topMatch||s.type.contentMatch,o):n?i=new sh(null,null,tn.none,tn.none,!0,null,o):i=new sh(e.schema.topNodeType,null,tn.none,tn.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,t){let n=e.getAttribute("style");if(!n)return t();let s=this.readStyles(FR(n));if(!s)return;let[i,o]=s,a=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);t();for(let l=0;l<i.length;l++)this.removePendingMark(i[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&u1||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&c1)n.options&u1?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let s=n.content[n.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n=e.nodeName.toLowerCase(),s;F9.hasOwnProperty(n)&&this.parser.normalizeLists&&DR(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,t));if(i?i.ignore:PR.hasOwnProperty(n))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let o,a=this.top,l=this.needsBlock;if(R9.hasOwnProperty(n))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),o&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=tn.none,n=tn.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[s],e[s+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{o.clearMark(a)&&(n=a.addToSet(n))}):t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)i=o;else break}return[t,n]}addElementByRule(e,t,n){let s,i,o;t.node?(i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):s=this.enter(i,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}s&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(e,t,n){let s=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=n==null?null:e.childNodes[n];i!=o;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let t,n;for(let s=this.open;s>=0;s--){let i=this.nodes[s],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length)||i.solid)break}if(!t)return!1;this.sync(n);for(let s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let s=0;s<e.marks.length;s++)(!t.type||t.type.allowsMarkType(e.marks[s].type))&&(n=e.marks[s].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let s=this.findPlace(e.create(t));return s&&this.enterInner(e,t,!0,n),s}enterInner(e,t=null,n=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=b6(e,s,i.options);i.options&Of&&i.content.length==0&&(o|=Of),this.nodes.push(new sh(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(e){let t=BR(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let s=this.nodes[n];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let o=s.popFromStashMark(e);o&&s.type&&s.type.allowsMarkType(o.type)&&(s.activeMarks=o.addToSet(s.activeMarks))}if(s==t)break}}}function DR(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&F9.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function RR(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function FR(r){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,n=[];for(;t=e.exec(r);)n.push(t[1],t[2].trim());return n}function y6(r){let e={};for(let t in r)e[t]=r[t];return e}function jR(r,e){let t=e.schema.nodes;for(let n in t){let s=t[n];if(!s.allowsMarkType(r))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}function BR(r,e){for(let t=0;t<e.length;t++)if(r.eq(e[t]))return e[t]}class ia{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=mm(t).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:s}=ia.renderSpec(mm(t),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let s=this.marks[e.type.name];return s&&ia.renderSpec(mm(n),s(e,t))}static renderSpec(e,t,n=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],i=s.indexOf(" ");i>0&&(n=s.slice(0,i),s=s.slice(i+1));let o,a=n?e.createElementNS(n,s):e.createElement(s),l=t[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let f=u.indexOf(" ");f>0?a.setAttributeNS(u.slice(0,f),u.slice(f+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<t.length;u++){let f=t[u];if(f===0){if(u<t.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:d}=ia.renderSpec(e,f,n);if(a.appendChild(h),d){if(o)throw new RangeError("Multiple content holes");o=d}}}return{dom:a,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ia(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=w6(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return w6(e.marks)}}function w6(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function mm(r){return r.document||window.document}const j9=65535,B9=Math.pow(2,16);function zR(r,e){return r+e*B9}function _6(r){return r&j9}function qR(r){return(r-(r&j9))/B9}const z9=1,q9=2,Eh=4,H9=8;class O2{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&H9)>0}get deletedBefore(){return(this.delInfo&(z9|Eh))>0}get deletedAfter(){return(this.delInfo&(q9|Eh))>0}get deletedAcross(){return(this.delInfo&Eh)>0}}class ji{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ji.empty)return ji.empty}recover(e){let t=0,n=_6(e);if(!this.inverted)for(let s=0;s<n;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+t+qR(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],f=l+c;if(e<=f){let h=c?e==l?-1:e==f?1:t:t,d=l+s+(h<0?0:u);if(n)return d;let p=e==(t<0?l:f)?null:zR(a/3,e-l),g=e==l?q9:e==f?z9:Eh;return(t<0?e!=l:e!=f)&&(g|=H9),new O2(d,g,p)}s+=u-c}return n?e+s:new O2(e+s,0,null)}touches(e,t){let n=0,s=_6(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+t],u=this.ranges[s+n];e(a,a+c,l,l+u),i+=u-c}}invert(){return new ji(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ji.empty:new ji(e<0?[0,-e,0]:[0,0,e])}}ji.empty=new ji([]);class s0{constructor(e=[],t,n=0,s=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=s}slice(e=0,t=this.maps.length){return new s0(this.maps,this.mirror,e,t)}copy(){return new s0(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let s=e.getMirror(t);this.appendMap(e.maps[t],s!=null&&s<t?n+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e.maps[t].invert(),s!=null&&s>t?n-s-1:void 0)}}invert(){let e=new s0;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return n?e:new O2(e,s,null)}}const gm=Object.create(null);class ei{getMap(){return ji.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=gm[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in gm)throw new RangeError("Duplicate use of step JSON ID "+e);return gm[e]=t,t.prototype.jsonID=e,t}}class cs{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new cs(e,null)}static fail(e){return new cs(null,e)}static fromReplace(e,t,n,s){try{return cs.ok(e.replace(t,n,s))}catch(i){if(i instanceof o1)return cs.fail(i.message);throw i}}}function Xg(r,e,t){let n=[];for(let s=0;s<r.childCount;s++){let i=r.child(s);i.content.size&&(i=i.copy(Xg(i.content,e,i))),i.isInline&&(i=e(i,t,s)),n.push(i)}return ot.fromArray(n)}class Hl extends ei{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new St(Xg(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),t.openStart,t.openEnd);return cs.fromReplace(e,this.from,this.to,i)}invert(){return new oa(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Hl(t.pos,n.pos,this.mark)}merge(e){return e instanceof Hl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hl(t.from,t.to,e.markFromJSON(t.mark))}}ei.jsonID("addMark",Hl);class oa extends ei{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new St(Xg(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return cs.fromReplace(e,this.from,this.to,n)}invert(){return new Hl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new oa(t.pos,n.pos,this.mark)}merge(e){return e instanceof oa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new oa(t.from,t.to,e.markFromJSON(t.mark))}}ei.jsonID("removeMark",oa);class Vl extends ei{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cs.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return cs.fromReplace(e,this.pos,this.pos+1,new St(ot.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(n))return new Vl(this.pos,t.marks[s]);return new Vl(this.pos,this.mark)}}return new b0(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Vl(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vl(t.pos,e.markFromJSON(t.mark))}}ei.jsonID("addNodeMark",Vl);class b0 extends ei{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return cs.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return cs.fromReplace(e,this.pos,this.pos+1,new St(ot.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Vl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new b0(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new b0(t.pos,e.markFromJSON(t.mark))}}ei.jsonID("removeNodeMark",b0);class Es extends ei{constructor(e,t,n,s=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=s}apply(e){return this.structure&&I2(e,this.from,this.to)?cs.fail("Structure replace would overwrite content"):cs.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ji([this.from,this.to-this.from,this.slice.size])}invert(e){return new Es(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Es(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Es)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?St.empty:new St(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Es(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?St.empty:new St(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Es(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Es(t.from,t.to,St.fromJSON(e,t.slice),!!t.structure)}}ei.jsonID("replace",Es);class Ms extends ei{constructor(e,t,n,s,i,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(I2(e,this.from,this.gapFrom)||I2(e,this.gapTo,this.to)))return cs.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return cs.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?cs.fromReplace(e,this.from,this.to,n):cs.fail("Content does not fit in gap")}getMap(){return new ji([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ms(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||s<t.pos||i>n.pos?null:new Ms(t.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ms(t.from,t.to,t.gapFrom,t.gapTo,St.fromJSON(e,t.slice),t.insert,!!t.structure)}}ei.jsonID("replaceAround",Ms);function I2(r,e,t){let n=r.resolve(e),s=t-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function HR(r,e,t,n){let s=[],i=[],o,a;r.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let h=Math.max(c,e),d=Math.min(c+l.nodeSize,t),p=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(f[g])?o.to=d:s.push(o=new oa(h,d,f[g])));a&&a.to==h?a.to=d:i.push(a=new Hl(h,d,n))}}),s.forEach(l=>r.step(l)),i.forEach(l=>r.step(l))}function VR(r,e,t,n){let s=[],i=0;r.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(n instanceof J1){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let f=l[u],h;for(let d=0;d<s.length;d++){let p=s[d];p.step==i-1&&f.eq(s[d].style)&&(h=p)}h?(h.to=c,h.step=i):s.push({style:f,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>r.step(new oa(o.from,o.to,o.style)))}function UR(r,e,t,n=t.contentMatch){let s=r.doc.nodeAt(e),i=[],o=e+1;for(let a=0;a<s.childCount;a++){let l=s.child(a),c=o+l.nodeSize,u=n.matchType(l.type);if(!u)i.push(new Es(o,c,St.empty));else{n=u;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||r.step(new oa(o,c,l.marks[f]));if(l.isText&&!t.spec.code){let f,h=/\r?\n|\r/g,d;for(;f=h.exec(l.text);)d||(d=new St(ot.from(t.schema.text(" ",t.allowedMarks(l.marks))),0,0)),i.push(new Es(o+f.index,o+f.index+f[0].length,d))}}o=c}if(!n.validEnd){let a=n.fillBefore(ot.empty,!0);r.replace(o,o,new St(a,0,0))}for(let a=i.length-1;a>=0;a--)r.step(i[a])}function WR(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function L0(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let s=r.$from.node(n),i=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&s.canReplace(i,o,t))return n;if(n==0||s.type.spec.isolating||!WR(s,i,o))break}return null}function YR(r,e,t){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),a=s.after(i+1),l=o,c=a,u=ot.empty,f=0;for(let p=i,g=!1;p>t;p--)g||n.index(p)>0?(g=!0,u=ot.from(n.node(p).copy(u)),f++):l--;let h=ot.empty,d=0;for(let p=i,g=!1;p>t;p--)g||s.after(p+1)<s.end(p)?(g=!0,h=ot.from(s.node(p).copy(h)),d++):c++;r.step(new Ms(l,c,o,a,new St(u.append(h),f,d),u.size-f,!0))}function Zg(r,e,t=null,n=r){let s=QR(r,e),i=s&&GR(n,e);return i?s.map(x6).concat({type:e,attrs:t}).concat(i.map(x6)):null}function x6(r){return{type:r,attrs:null}}function QR(r,e){let{parent:t,startIndex:n,endIndex:s}=r,i=t.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return t.canReplaceWith(n,s,o)?i:null}function GR(r,e){let{parent:t,startIndex:n,endIndex:s}=r,i=t.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<s;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function JR(r,e,t){let n=ot.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let a=t[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ot.from(t[o].type.create(t[o].attrs,n))}let s=e.start,i=e.end;r.step(new Ms(s,i,s,i,new St(n,0,0),t.length,!0))}function KR(r,e,t,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=r.steps.length;r.doc.nodesBetween(e,t,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(n,s)&&XR(r.doc,r.mapping.slice(i).map(a),n)){r.clearIncompatible(r.mapping.slice(i).map(a,1),n);let l=r.mapping.slice(i),c=l.map(a,1),u=l.map(a+o.nodeSize,1);return r.step(new Ms(c,u,c+1,u-1,new St(ot.from(n.create(s,null,o.marks)),0,0),1,!0)),!1}})}function XR(r,e,t){let n=r.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,t)}function ZR(r,e,t,n,s){let i=r.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);let o=t.create(n,null,s||i.marks);if(i.isLeaf)return r.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Ms(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new St(ot.from(o),0,0),1,!0))}function i0(r,e,t=1,n){let s=r.resolve(e),i=s.depth-t,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=t-2;c>i;c--,u--){let f=s.node(c),h=s.index(c);if(f.type.spec.isolating)return!1;let d=f.content.cutByIndex(h,f.childCount),p=n&&n[u+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));let g=n&&n[u]||f;if(!f.canReplace(h+1,f.childCount)||!g.type.validContent(d))return!1}let a=s.indexAfter(i),l=n&&n[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function eF(r,e,t=1,n){let s=r.doc.resolve(e),i=ot.empty,o=ot.empty;for(let a=s.depth,l=s.depth-t,c=t-1;a>l;a--,c--){i=ot.from(s.node(a).copy(i));let u=n&&n[c];o=ot.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}r.step(new Es(e,e,new St(i.append(o),t,t),!0))}function oc(r,e){let t=r.resolve(e),n=t.index();return V9(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function V9(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function K1(r,e,t=-1){let n=r.resolve(e);for(let s=n.depth;;s--){let i,o,a=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):t>0?(i=n.node(s+1),a++,o=n.node(s).maybeChild(a)):(i=n.node(s).maybeChild(a-1),o=n.node(s+1)),i&&!i.isTextblock&&V9(i,o)&&n.node(s).canReplace(a,a+1))return e;if(s==0)break;e=t<0?n.before(s):n.after(s)}}function tF(r,e,t){let n=new Es(e-t,e+t,St.empty,!0);r.step(n)}function rF(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,t))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,t))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function U9(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let s=t.content;for(let i=0;i<t.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(t.openStart==0&&t.size?2:1);i++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let f=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function e5(r,e,t=e,n=St.empty){if(e==t&&!n.size)return null;let s=r.resolve(e),i=r.resolve(t);return W9(s,i,n)?new Es(e,t,n):new nF(s,i,n).fit()}function W9(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class nF{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=ot.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ot.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new St(i,o,a);return e>-1?new Ms(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Es(n.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=bm(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(t==1&&(o?c.matchType(o.type)||(f=c.fillBefore(ot.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:f};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=bm(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new St(e,t+1,Math.max(n,s.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=bm(e,t);if(s.childCount<=1&&t>0){let i=e.size-t<=t+s.size;this.unplaced=new St(wf(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new St(wf(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:s,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:h}=this.frontier[t];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));f=f.matchFragment(s)}let d=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),w=f.matchType(g.type);if(!w)break;c++,(c>1||l==0||g.content.size)&&(f=w,u.push(Y9(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?d:-1)))}let p=c==a.childCount;p||(d=-1),this.placed=_f(this.placed,t,ot.from(u)),this.frontier[t].match=f,p&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=a;g<d;g++){let v=w.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),w=v.content}this.unplaced=p?e==0?St.empty:new St(wf(o.content,e-1,1),e-1,d<0?o.openEnd:e-1):new St(wf(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!vm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:s}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=vm(e,t,s,n,i);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=vm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=_f(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,t=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=_f(this.placed,this.depth,ot.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ot.empty,!0);t.childCount&&(this.placed=_f(this.placed,this.frontier.length,t))}}function wf(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(wf(r.firstChild.content,e-1,t)))}function _f(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(_f(r.lastChild.content,e-1,t)))}function bm(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function Y9(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,Y9(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(ot.empty,!0)))),r.copy(n)}function vm(r,e,t,n,s){let i=r.node(e),o=s?r.indexAfter(e):r.index(e);if(o==i.childCount&&!t.compatibleContent(i.type))return null;let a=n.fillBefore(i.content,!0,o);return a&&!sF(t,i.content,o)?a:null}function sF(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function iF(r){return r.spec.defining||r.spec.definingForContent}function oF(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let s=r.doc.resolve(e),i=r.doc.resolve(t);if(W9(s,i,n))return r.step(new Es(e,t,n));let o=G9(s,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,d=s.pos-1;h>0;h--,d--){let p=s.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==d&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=n.openStart;for(let h=n.content,d=0;;d++){let p=h.firstChild;if(c.push(p),d==n.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let d=c[h],p=iF(d.type);if(p&&!d.sameMarkup(s.node(Math.abs(a)-1)))u=h;else if(p||!d.type.isTextblock)break}for(let h=n.openStart;h>=0;h--){let d=(h+u+1)%(n.openStart+1),p=c[d];if(p)for(let g=0;g<o.length;g++){let w=o[(g+l)%o.length],v=!0;w<0&&(v=!1,w=-w);let _=s.node(w-1),k=s.index(w-1);if(_.canReplaceWith(k,k,p.type,p.marks))return r.replace(s.before(w),v?i.after(w):t,new St(Q9(n.content,0,n.openStart,d),d,n.openEnd))}}let f=r.steps.length;for(let h=o.length-1;h>=0&&(r.replace(e,t,n),!(r.steps.length>f));h--){let d=o[h];d<0||(e=s.before(d),t=i.after(d))}}function Q9(r,e,t,n,s){if(e<t){let i=r.firstChild;r=r.replaceChild(0,i.copy(Q9(i.content,e+1,t,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(r).append(r);r=o.append(i.matchFragment(o).fillBefore(ot.empty,!0))}return r}function aF(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let s=rF(r.doc,e,n.type);s!=null&&(e=t=s)}r.replaceRange(e,t,new St(ot.from(n),0,0))}function lF(r,e,t){let n=r.doc.resolve(e),s=r.doc.resolve(t),i=G9(n,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return r.delete(n.start(a),s.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),s.indexAfter(a-1))))return r.delete(n.before(a),s.after(a))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&s.end(o)-t!=s.depth-o)return r.delete(n.before(o),t);r.delete(e,t)}function G9(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let s=n;s>=0;s--){let i=r.start(s);if(i<r.pos-(r.depth-s)||e.end(s)>e.pos+(e.depth-s)||r.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==r.depth&&s==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&t.push(s)}return t}class o0 extends ei{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return cs.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let s=t.type.create(n,null,t.marks);return cs.fromReplace(e,this.pos,this.pos+1,new St(ot.from(s),0,t.isLeaf?0:1))}getMap(){return ji.empty}invert(e){return new o0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new o0(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new o0(t.pos,t.attr,t.value)}}ei.jsonID("attr",o0);class Gf extends ei{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return cs.ok(n)}getMap(){return ji.empty}invert(e){return new Gf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gf(t.attr,t.value)}}ei.jsonID("docAttr",Gf);let v0=class extends Error{};v0=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};v0.prototype=Object.create(Error.prototype);v0.prototype.constructor=v0;v0.prototype.name="TransformError";class J9{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new s0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new v0(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=St.empty){let s=e5(this.doc,e,t,n);return s&&this.step(s),this}replaceWith(e,t,n){return this.replace(e,t,new St(ot.from(n),0,0))}delete(e,t){return this.replace(e,t,St.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return oF(this,e,t,n),this}replaceRangeWith(e,t,n){return aF(this,e,t,n),this}deleteRange(e,t){return lF(this,e,t),this}lift(e,t){return YR(this,e,t),this}join(e,t=1){return tF(this,e,t),this}wrap(e,t){return JR(this,e,t),this}setBlockType(e,t=e,n,s=null){return KR(this,e,t,n,s),this}setNodeMarkup(e,t,n=null,s){return ZR(this,e,t,n,s),this}setNodeAttribute(e,t,n){return this.step(new o0(e,t,n)),this}setDocAttribute(e,t){return this.step(new Gf(e,t)),this}addNodeMark(e,t){return this.step(new Vl(e,t)),this}removeNodeMark(e,t){if(!(t instanceof tn)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new b0(e,t)),this}split(e,t=1,n){return eF(this,e,t,n),this}addMark(e,t,n){return HR(this,e,t,n),this}removeMark(e,t,n){return VR(this,e,t,n),this}clearIncompatible(e,t,n){return UR(this,e,t,n),this}}const ym=Object.create(null);class ir{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new K9(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=St.empty){let n=t.content.lastChild,s=null;for(let a=0;a<t.openEnd;a++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?St.empty:t),a==0&&A6(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),A6(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let s=e.parent.inlineContent?new tr(e):Bu(e.node(0),e.parent,e.pos,e.index(),t,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=t<0?Bu(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):Bu(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Mo(e.node(0))}static atStart(e){return Bu(e,e,0,0,1)||new Mo(e)}static atEnd(e){return Bu(e,e,e.content.size,e.childCount,-1)||new Mo(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=ym[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in ym)throw new RangeError("Duplicate use of selection JSON ID "+e);return ym[e]=t,t.prototype.jsonID=e,t}getBookmark(){return tr.between(this.$anchor,this.$head).getBookmark()}}ir.prototype.visible=!0;class K9{constructor(e,t){this.$from=e,this.$to=t}}let k6=!1;function S6(r){!k6&&!r.parent.inlineContent&&(k6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class tr extends ir{constructor(e,t=e){S6(e),S6(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return ir.near(n);let s=e.resolve(t.map(this.anchor));return new tr(s.parent.inlineContent?s:n,n)}replace(e,t=St.empty){if(super.replace(e,t),t==St.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof tr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new X1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new tr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let s=e.resolve(t);return new this(s,n==t?s:e.resolve(n))}static between(e,t,n){let s=e.pos-t.pos;if((!n||s)&&(n=s>=0?1:-1),!t.parent.inlineContent){let i=ir.findFrom(t,n,!0)||ir.findFrom(t,-n,!0);if(i)t=i.$head;else return ir.near(t,n)}return e.parent.inlineContent||(s==0?e=t:(e=(ir.findFrom(e,-n,!0)||ir.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new tr(e,t)}}ir.jsonID("text",tr);class X1{constructor(e,t){this.anchor=e,this.head=t}map(e){return new X1(e.map(this.anchor),e.map(this.head))}resolve(e){return tr.between(e.resolve(this.anchor),e.resolve(this.head))}}class er extends ir{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:s}=t.mapResult(this.anchor),i=e.resolve(s);return n?ir.near(i):new er(i)}content(){return new St(ot.from(this.node),0,0)}eq(e){return e instanceof er&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t5(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new er(e.resolve(t.anchor))}static create(e,t){return new er(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}er.prototype.visible=!1;ir.jsonID("node",er);class t5{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new X1(n,n):new t5(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&er.isSelectable(n)?new er(t):ir.near(t)}}class Mo extends ir{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=St.empty){if(t==St.empty){e.delete(0,e.doc.content.size);let n=ir.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Mo(e)}map(e){return new Mo(e)}eq(e){return e instanceof Mo}getBookmark(){return cF}}ir.jsonID("all",Mo);const cF={map(){return this},resolve(r){return new Mo(r)}};function Bu(r,e,t,n,s,i=!1){if(e.inlineContent)return tr.create(r,t);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&er.isSelectable(a))return er.create(r,t-(s<0?a.nodeSize:0))}else{let l=Bu(r,a,t+s,s<0?a.childCount:0,s,i);if(l)return l}t+=a.nodeSize*s}return null}function A6(r,e,t){let n=r.steps.length-1;if(n<e)return;let s=r.steps[n];if(!(s instanceof Es||s instanceof Ms))return;let i=r.mapping.maps[n],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),r.setSelection(ir.near(r.doc.resolve(o),t))}const T6=1,ih=2,N6=4;class uF extends J9{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|T6)&~ih,this.storedMarks=null,this}get selectionSet(){return(this.updated&T6)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ih,this}ensureMarks(e){return tn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ih)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ih,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||tn.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,s.text(e,i)),this.selection.empty||this.setSelection(ir.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=N6,this}get scrolledIntoView(){return(this.updated&N6)>0}}function M6(r,e){return!e||!r?r:r.bind(e)}class xf{constructor(e,t,n){this.name=e,this.init=M6(t.init,n),this.apply=M6(t.apply,n)}}const fF=[new xf("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new xf("selection",{init(r,e){return r.selection||ir.atStart(e.doc)},apply(r){return r.selection}}),new xf("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new xf("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class wm{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=fF.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new xf(n.key,n.spec.state,n))})}}class Wu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<o?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),i=!0}s&&(s[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Wu(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new uF(this)}static create(e){let t=new wm(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Wu(t);for(let s=0;s<t.fields.length;s++)n[t.fields[s].name]=t.fields[s].init(e,n);return n}reconfigure(e){let t=new wm(this.schema,e.plugins),n=t.fields,s=new Wu(t);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new wm(e.schema,e.plugins),i=new Wu(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=qc.fromJSON(e.schema,t.doc);else if(o.name=="selection")i.selection=ir.fromJSON(i.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){i[o.name]=c.fromJSON.call(l,e,t[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function X9(r,e,t){for(let n in r){let s=r[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=X9(s,e,{})),t[n]=s}return t}class Ci{constructor(e){this.spec=e,this.props={},e.props&&X9(e.props,this,this.props),this.key=e.key?e.key.key:Z9("plugin")}getState(e){return e[this.key]}}const _m=Object.create(null);function Z9(r){return r in _m?r+"$"+ ++_m[r]:(_m[r]=0,r+"$")}class zo{constructor(e="key"){this.key=Z9(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ii=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},Jf=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let C6=null;const Ba=function(r,e,t){let n=C6||(C6=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},Wc=function(r,e,t,n){return t&&(L6(r,e,t,n,-1)||L6(r,e,t,n,1))},dF=/^(img|br|input|textarea|hr)$/i;function L6(r,e,t,n,s){for(;;){if(r==t&&e==n)return!0;if(e==(s<0?0:ra(r))){let i=r.parentNode;if(!i||i.nodeType!=1||r5(r)||dF.test(r.nodeName)||r.contentEditable=="false")return!1;e=ii(r)+(s<0?0:1),r=i}else if(r.nodeType==1){if(r=r.childNodes[e+(s<0?-1:0)],r.contentEditable=="false")return!1;e=s<0?ra(r):0}else return!1}}function ra(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function hF(r,e,t){for(let n=e==0,s=e==ra(r);n||s;){if(r==t)return!0;let i=ii(r);if(r=r.parentNode,!r)return!1;n=n&&i==0,s=s&&i==ra(r)}}function r5(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const Z1=function(r){return r.focusNode&&Wc(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Lc(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function pF(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function mF(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:n.offset}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:n.startOffset}}}const da=typeof navigator<"u"?navigator:null,$6=typeof document<"u"?document:null,ac=da&&da.userAgent||"",E2=/Edge\/(\d+)/.exec(ac),e_=/MSIE \d/.exec(ac),P2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ac),Ti=!!(e_||P2||E2),Ql=e_?document.documentMode:P2?+P2[1]:E2?+E2[1]:0,$o=!Ti&&/gecko\/(\d+)/i.test(ac);$o&&+(/Firefox\/(\d+)/.exec(ac)||[0,0])[1];const D2=!Ti&&/Chrome\/(\d+)/.exec(ac),Ys=!!D2,gF=D2?+D2[1]:0,ci=!Ti&&!!da&&/Apple Computer/.test(da.vendor),y0=ci&&(/Mobile\/\w+/.test(ac)||!!da&&da.maxTouchPoints>2),Ki=y0||(da?/Mac/.test(da.platform):!1),bF=da?/Win/.test(da.platform):!1,Ao=/Android \d/.test(ac),gd=!!$6&&"webkitFontSmoothing"in $6.documentElement.style,vF=gd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function yF(r){return{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Ra(r,e){return typeof r=="number"?r:r[e]}function wF(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function O6(r,e,t){let n=r.someProp("scrollThreshold")||0,s=r.someProp("scrollMargin")||5,i=r.dom.ownerDocument;for(let o=t||r.dom;o;o=Jf(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?yF(i):wF(a),u=0,f=0;if(e.top<c.top+Ra(n,"top")?f=-(c.top-e.top+Ra(s,"top")):e.bottom>c.bottom-Ra(n,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+Ra(s,"top")-c.top:e.bottom-c.bottom+Ra(s,"bottom")),e.left<c.left+Ra(n,"left")?u=-(c.left-e.left+Ra(s,"left")):e.right>c.right-Ra(n,"right")&&(u=e.right-c.right+Ra(s,"right")),u||f)if(l)i.defaultView.scrollBy(u,f);else{let h=a.scrollLeft,d=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-d;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function _F(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=r.root.elementFromPoint(i,o);if(!a||a==r.dom||!r.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){n=a,s=l.top;break}}return{refDOM:n,refTop:s,stack:t_(r.dom)}}function t_(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=Jf(n));return e}function xF({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;r_(t,n==0?0:n-e)}function r_(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:s,left:i}=r[t];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let Ou=null;function kF(r){if(r.setActive)return r.setActive();if(Ou)return r.focus(Ou);let e=t_(r);r.focus(Ou==null?{get preventScroll(){return Ou={preventScroll:!0},!0}}:void 0),Ou||(Ou=!1,r_(e,0))}function n_(r,e){let t,n=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=r.firstChild,f=0;u;u=u.nextSibling,f++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Ba(u).getClientRects();else continue;for(let d=0;d<h.length;d++){let p=h[d];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<n){t=u,n=g,s=g&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(i=f+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=f+1)}}return!t&&l&&(t=l,s=c,n=0),t&&t.nodeType==3?SF(t,s):!t||n&&t.nodeType==1?{node:r,offset:i}:n_(t,s)}function SF(r,e){let t=r.nodeValue.length,n=document.createRange();for(let s=0;s<t;s++){n.setEnd(r,s+1),n.setStart(r,s);let i=Ol(n,1);if(i.top!=i.bottom&&n5(e,i))return{node:r,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:r,offset:0}}function n5(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function AF(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function TF(r,e,t){let{node:n,offset:s}=n_(e,t),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,s,i)}function NF(r,e,t,n){let s=-1;for(let i=e,o=!1;i!=r.dom;){let a=r.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!o||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!o&&(o=!0,l.left>n.left||l.top>n.top?s=a.posBefore:(l.right<n.left||l.bottom<n.top)&&(s=a.posAfter)),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:r.docView.posFromDOM(e,t,-1)}function s_(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),i=s;;){let o=r.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(n5(e,c))return s_(o,e,c)}}if((i=(i+1)%n)==s)break}return r}function MF(r,e){let t=r.dom.ownerDocument,n,s=0,i=mF(t,e.left,e.top);i&&({node:n,offset:s}=i);let o=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),a;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=r.dom.getBoundingClientRect();if(!n5(e,c)||(o=s_(r.dom,e,c),!o))return null}if(ci)for(let c=o;n&&c;c=Jf(c))c.draggable&&(n=void 0);if(o=AF(o,e),n){if($o&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let c;gd&&s&&n.nodeType==1&&(c=n.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,n==r.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=r.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(a=NF(r,n,s,e))}a==null&&(a=TF(r,o,e));let l=r.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function I6(r){return r.top<r.bottom||r.left<r.right}function Ol(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(I6(n))return n}return Array.prototype.find.call(t,I6)||r.getBoundingClientRect()}const CF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function i_(r,e,t){let{node:n,offset:s,atom:i}=r.docView.domFromPos(e,t<0?-1:1),o=gd||$o;if(n.nodeType==3)if(o&&(CF.test(n.nodeValue)||(t<0?!s:s==n.nodeValue.length))){let l=Ol(Ba(n,s,s),t);if($o&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let c=Ol(Ba(n,s-1,s-1),-1);if(c.top==l.top){let u=Ol(Ba(n,s,s+1),-1);if(u.top!=l.top)return yf(u,u.left<c.left)}}return l}else{let l=s,c=s,u=t<0?1:-1;return t<0&&!s?(c++,u=-1):t>=0&&s==n.nodeValue.length?(l--,u=1):t<0?l--:c++,yf(Ol(Ba(n,l,c),u),u<0)}if(!r.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(t<0||s==ra(n))){let l=n.childNodes[s-1];if(l.nodeType==1)return xm(l.getBoundingClientRect(),!1)}if(i==null&&s<ra(n)){let l=n.childNodes[s];if(l.nodeType==1)return xm(l.getBoundingClientRect(),!0)}return xm(n.getBoundingClientRect(),t>=0)}if(i==null&&s&&(t<0||s==ra(n))){let l=n.childNodes[s-1],c=l.nodeType==3?Ba(l,ra(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return yf(Ol(c,1),!1)}if(i==null&&s<ra(n)){let l=n.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ba(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return yf(Ol(c,-1),!0)}return yf(Ol(n.nodeType==3?Ba(n):n,-t),t>=0)}function yf(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function xm(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function o_(r,e,t){let n=r.state,s=r.root.activeElement;n!=e&&r.updateState(e),s!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),s!=r.dom&&s&&s.focus()}}function LF(r,e,t){let n=e.selection,s=t=="up"?n.$from:n.$to;return o_(r,e,()=>{let{node:i}=r.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let a=r.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=i_(r,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ba(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const $F=/[\u0590-\u08ac]/;function OF(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,a=r.domSelection();return!$F.test(n.parent.textContent)||!a.modify?t=="left"||t=="backward"?i:o:o_(r,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=r.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",t,"character");let d=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:p,focusOffset:g}=r.domSelectionRange(),w=p&&!d.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),w})}let E6=null,P6=null,D6=!1;function IF(r,e,t){return E6==e&&P6==t?D6:(E6=e,P6=t,D6=t=="up"||t=="down"?LF(r,e,t):OF(r,e,t))}const no=0,R6=1,Ic=2,ha=3;class bd{constructor(e,t,n,s){this.parent=e,this.children=t,this.dom=n,this.contentDOM=s,this.dirty=no,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let s=this.children[t];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>ii(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!t||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let s=this.children[t],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],a=i+o.size;if(a>e||o instanceof l_){s=e-i;break}i=a}if(s)return this.children[n].domFromPos(s-this.children[n].border,t);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof a_&&i.side>=0;n--);if(t<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&t&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,t):{node:this.contentDOM,offset:i?ii(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,t):{node:this.contentDOM,offset:i?ii(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=ii(h.dom)+1;break}e-=h.size}s==-1&&(s=0)}if(s>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=ii(f.dom);break}t+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,s=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let h=0,d=0;h<this.children.length;h++){let p=this.children[h],g=d+p.size;if(i>d&&o<g)return p.setSelection(e-d-p.border,t-d-p.border,n,s);d=g}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=n.getSelection(),u=!1;if(($o||ci)&&e==t){let{node:h,offset:d}=a;if(h.nodeType==3){if(u=!!(d&&h.nodeValue[d-1]==`
`),u&&d==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:ii(g)+1});break}let w=p.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let p=h.childNodes[d-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if($o&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||u&&ci)&&Wc(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Wc(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||e==t)&&!u){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let d=a;a=l,l=d}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let a=n+i.border,l=o-i.border;if(e>=a&&t<=l){this.dirty=e==n||t==o?Ic:R6,e==a&&t==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ha:i.markDirty(e-a,t-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Ic:ha}n=o}this.dirty=Ic}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?Ic:R6;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class a_ extends bd{constructor(e,t,n,s){let i,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==no&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class EF extends bd{constructor(e,t,n,s){super(e,[],t,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Yc extends bd{constructor(e,t,n,s){super(e,[],n,s),this.mark=t}static create(e,t,n,s){let i=s.nodeViews[t.type.name],o=i&&i(t,s,n);return(!o||!o.dom)&&(o=ia.renderSpec(document,t.type.spec.toDOM(t,n))),new Yc(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ha||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ha&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=no){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=no}}slice(e,t,n){let s=Yc.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=j2(i,t,o,n)),e>0&&(i=j2(i,0,e,n));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class Gl extends bd{constructor(e,t,n,s,i,o,a,l,c){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=a}static create(e,t,n,s,i,o){let a=i.nodeViews[t.type.name],l,c=a&&a(t,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,s),u=c&&c.dom,f=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=ia.renderSpec(document,t.type.spec.toDOM(t)));!f&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let h=u;return u=f_(u,n,t),c?l=new PF(e,t,n,s,u,f||null,h,c,i,o+1):t.isText?new ep(e,t,n,s,u,h,i):new Gl(e,t,n,s,u,f||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ot.empty)}return e}matchesNode(e,t,n){return this.dirty==no&&e.eq(this.node)&&F2(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,s=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new RF(this,o&&o.node,e);BF(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?tn.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,s)},(c,u,f,h)=>{l.syncToMarks(c.marks,n,e);let d;l.findNodeMatch(c,u,f,h)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(d=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,f,d,e)||l.updateNextNode(c,u,f,e,h,s)||l.addNode(c,u,f,e,s),s+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ic)&&(o&&this.protectLocalComposition(e,o),c_(this.contentDOM,this.children,e),y0&&zF(this.dom))}localCompositionInfo(e,t){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof tr)||n<t||s>t+this.node.content.size)return null;let i=e.domSelectionRange(),o=qF(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,l=HF(this.node.content,a,n-t,s-t);return l<0?null:{node:o,pos:l,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:s}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new EF(this,i,t,s);e.input.compositionNodes.push(o),this.children=j2(this.children,n,n+s.length,e,o)}update(e,t,n,s){return this.dirty==ha||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,s),!0)}updateInner(e,t,n,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=no}updateOuterDeco(e){if(F2(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=u_(this.dom,this.nodeDOM,R2(this.outerDeco,this.node,t),R2(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function F6(r,e,t,n,s){f_(n,e,r);let i=new Gl(void 0,r,e,t,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class ep extends Gl{constructor(e,t,n,s,i,o,a){super(e,t,n,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,s){return this.dirty==ha||this.dirty!=no&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=no||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=no,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let s=this.node.cut(e,t),i=document.createTextNode(s.text);return new ep(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ha)}get domAtom(){return!1}}class l_ extends bd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==no&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class PF extends Gl{constructor(e,t,n,s,i,o,a,l,c,u){super(e,t,n,s,i,o,a,c,u),this.spec=l}update(e,t,n,s){if(this.dirty==ha)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,s){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function c_(r,e,t){let n=r.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==r){for(;a!=n;)n=j6(n),s=!0;n=n.nextSibling}else s=!0,r.insertBefore(a,n);if(o instanceof Yc){let l=n?n.previousSibling:r.lastChild;c_(o.contentDOM,o.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=j6(n),s=!0;s&&t.trackWrites==r&&(t.trackWrites=null)}const If=function(r){r&&(this.nodeName=r)};If.prototype=Object.create(null);const Ec=[new If];function R2(r,e,t){if(r.length==0)return Ec;let n=t?Ec[0]:new If,s=[n];for(let i=0;i<r.length;i++){let o=r[i].type.attrs;if(o){o.nodeName&&s.push(n=new If(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&s.length==1&&s.push(n=new If(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return s}function u_(r,e,t,n){if(t==Ec&&n==Ec)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],a=t[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=r&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=Ec[0]),s=l}DF(s,a||Ec[0],o)}return s}function DF(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&r.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&r.classList.add(s[i]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)r.style.removeProperty(s[1])}t.style&&(r.style.cssText+=t.style)}}function f_(r,e,t){return u_(r,r,Ec,R2(e,t,r.nodeType!=1))}function F2(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function j6(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class RF{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=FF(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=no,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Yc.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,s,i){let o=this.top.children[s];return o.dirty==ha&&o.dom==o.contentDOM&&(o.dirty=Ic),o.update(e,t,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=t}}updateNextNode(e,t,n,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Gl){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,f,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ha&&F2(t,l.outerDeco));if(!h&&l.update(e,t,n,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,e,t,n,s,o)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Ic,f.updateChildren(s,o+1),f.dirty=no),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,s,i,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let a=Gl.create(this.top,t,n,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,n,s,i){let o=Gl.create(this.top,e,t,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new a_(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Yc;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ep)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ci||Ys)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new l_(this.top,[],n,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function FF(r,e){let t=e,n=t.children.length,s=r.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(n){let c=t.children[n-1];if(c instanceof Yc)t=c,n=c.children.length;else{a=c,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=r.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function jF(r,e){return r.type.side-e.type.side}function BF(r,e,t,n){let s=e.locals(r),i=0;if(s.length==0){for(let c=0;c<r.childCount;c++){let u=r.child(c);n(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<s.length&&s[o].to==i;){let w=s[o++];w.widget&&(u?(f||(f=[u])).push(w):u=w)}if(u)if(f){f.sort(jF);for(let w=0;w<f.length;w++)t(f[w],c,!!l)}else t(u,c,!!l);let h,d;if(l)d=-1,h=l,l=null;else if(c<r.childCount)d=c,h=r.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=i&&a.splice(w--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let p=i+h.nodeSize;if(h.isText){let w=p;o<s.length&&s[o].from<w&&(w=s[o].from);for(let v=0;v<a.length;v++)a[v].to<w&&(w=a[v].to);w<p&&(l=h.cut(w-i),h=h.cut(0,w-i),p=w,d=-1)}let g=h.isInline&&!h.isLeaf?a.filter(w=>!w.inline):a.slice();n(h,g,e.forChild(i,h),d),i=p}}function zF(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function qF(r,e){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0){if(r.childNodes.length>e&&r.childNodes[e].nodeType==3)return r.childNodes[e];r=r.childNodes[e-1],e=ra(r)}else if(r.nodeType==1&&e<r.childNodes.length)r=r.childNodes[e],e=0;else return null}}function HF(r,e,t,n){for(let s=0,i=0;s<r.childCount&&i<=n;){let o=r.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<r.childCount;){let c=r.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=t){if(i>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function j2(r,e,t,n,s){let i=[];for(let o=0,a=0;o<r.length;o++){let l=r[o],c=a,u=a+=l.size;c>=t||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,n)),s&&(i.push(s),s=void 0),u>t&&i.push(l.slice(t-c,l.size,n)))}return i}function s5(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let s=r.docView.nearestDesc(t.focusNode),i=s&&s.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(Z1(t)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&er.isSelectable(u)&&s.parent&&!(u.isInline&&hF(t.focusNode,t.focusOffset,s.dom))){let f=s.posBefore;c=new er(o==f?a:n.resolve(f))}}else{let u=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(u<0)return null;l=n.resolve(u)}if(!c){let u=e=="pointer"||r.state.selection.head<a.pos&&!i?1:-1;c=i5(r,l,a,u)}return c}function d_(r){return r.editable?r.hasFocus():p_(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function Ya(r,e=!1){let t=r.state.selection;if(h_(r,t),!!d_(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Ys){let n=r.domSelectionRange(),s=r.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Wc(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)UF(r);else{let{anchor:n,head:s}=t,i,o;B6&&!(t instanceof tr)&&(t.$from.parent.inlineContent||(i=z6(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=z6(r,t.to))),r.docView.setSelection(n,s,r.root,e),B6&&(i&&q6(i),o&&q6(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&VF(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const B6=ci||Ys&&gF<63;function z6(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),s=n<t.childNodes.length?t.childNodes[n]:null,i=n?t.childNodes[n-1]:null;if(ci&&s&&s.contentEditable=="false")return km(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return km(s);if(i)return km(i)}}function km(r){return r.contentEditable="true",ci&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function q6(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function VF(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!d_(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function UF(r){let e=r.domSelection(),t=document.createRange(),n=r.cursorWrapper.dom,s=n.nodeName=="IMG";s?t.setEnd(n.parentNode,ii(n)+1):t.setEnd(n,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!s&&!r.state.selection.visible&&Ti&&Ql<=11&&(n.disabled=!0,n.disabled=!1)}function h_(r,e){if(e instanceof er){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(H6(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else H6(r)}function H6(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function i5(r,e,t,n){return r.someProp("createSelectionBetween",s=>s(r,e,t))||tr.between(e,t,n)}function V6(r){return r.editable&&!r.hasFocus()?!1:p_(r)}function p_(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function WF(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return Wc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function B2(r,e){let{$anchor:t,$head:n}=r.selection,s=e>0?t.max(n):t.min(n),i=s.parent.inlineContent?s.depth?r.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ir.findFrom(i,e)}function El(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function U6(r,e,t){let n=r.state.selection;if(n instanceof tr)if(t.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=r.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return El(r,new tr(n.$anchor,o))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let s=B2(r.state,e);return s&&s instanceof er?El(r,s):!1}else if(!(Ki&&t.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=r.docView.descAt(a))&&!o.contentDOM?er.isSelectable(i)?El(r,new er(e<0?r.state.doc.resolve(s.pos-i.nodeSize):s)):gd?El(r,new tr(r.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof er&&n.node.isInline)return El(r,new tr(e>0?n.$to:n.$from));{let s=B2(r.state,e);return s?El(r,s):!1}}}function f1(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Ef(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Iu(r,e){return e<0?YF(r):QF(r)}function YF(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s,i,o=!1;for($o&&t.nodeType==1&&n<f1(t)&&Ef(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let a=t.childNodes[n-1];if(Ef(a,-1))s=t,i=--n;else if(a.nodeType==3)t=a,n=t.nodeValue.length;else break}}else{if(m_(t))break;{let a=t.previousSibling;for(;a&&Ef(a,-1);)s=t.parentNode,i=ii(a),a=a.previousSibling;if(a)t=a,n=f1(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?z2(r,t,n):s&&z2(r,s,i)}function QF(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s=f1(t),i,o;for(;;)if(n<s){if(t.nodeType!=1)break;let a=t.childNodes[n];if(Ef(a,1))i=t,o=++n;else break}else{if(m_(t))break;{let a=t.nextSibling;for(;a&&Ef(a,1);)i=a.parentNode,o=ii(a)+1,a=a.nextSibling;if(a)t=a,n=0,s=f1(t);else{if(t=t.parentNode,t==r.dom)break;n=s=0}}}i&&z2(r,i,o)}function m_(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function GF(r,e){for(;r&&e==r.childNodes.length&&!r5(r);)e=ii(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function JF(r,e){for(;r&&!e&&!r5(r);)e=ii(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function z2(r,e,t){if(e.nodeType!=3){let i,o;(o=GF(e,t))?(e=o,t=0):(i=JF(e,t))&&(e=i,t=i.nodeValue.length)}let n=r.domSelection();if(Z1(n)){let i=document.createRange();i.setEnd(e,t),i.setStart(e,t),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:s}=r;setTimeout(()=>{r.state==s&&Ya(r)},50)}function W6(r,e){let t=r.state.doc.resolve(e);if(!(Ys||bF)&&t.parent.inlineContent){let s=r.coordsAtPos(e);if(e>t.start()){let i=r.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<t.end()){let i=r.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function Y6(r,e,t){let n=r.state.selection;if(n instanceof tr&&!n.empty||t.indexOf("s")>-1||Ki&&t.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=B2(r.state,e);if(o&&o instanceof er)return El(r,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=n instanceof Mo?ir.near(o,e):ir.findFrom(o,e);return a?El(r,a):!1}return!1}function Q6(r,e){if(!(r.state.selection instanceof tr))return!0;let{$head:t,$anchor:n,empty:s}=r.state.selection;if(!t.sameParent(n))return!0;if(!s)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(i&&!i.isText){let o=r.state.tr;return e<0?o.delete(t.pos-i.nodeSize,t.pos):o.delete(t.pos,t.pos+i.nodeSize),r.dispatch(o),!0}return!1}function G6(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function KF(r){if(!ci||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;G6(r,n,"true"),setTimeout(()=>G6(r,n,"false"),20)}return!1}function XF(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function ZF(r,e){let t=e.keyCode,n=XF(e);if(t==8||Ki&&t==72&&n=="c")return Q6(r,-1)||Iu(r,-1);if(t==46&&!e.shiftKey||Ki&&t==68&&n=="c")return Q6(r,1)||Iu(r,1);if(t==13||t==27)return!0;if(t==37||Ki&&t==66&&n=="c"){let s=t==37?W6(r,r.state.selection.from)=="ltr"?-1:1:-1;return U6(r,s,n)||Iu(r,s)}else if(t==39||Ki&&t==70&&n=="c"){let s=t==39?W6(r,r.state.selection.from)=="ltr"?1:-1:1;return U6(r,s,n)||Iu(r,s)}else{if(t==38||Ki&&t==80&&n=="c")return Y6(r,-1,n)||Iu(r,-1);if(t==40||Ki&&t==78&&n=="c")return KF(r)||Y6(r,1,n)||Iu(r,1);if(n==(Ki?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function g_(r,e){r.someProp("transformCopied",d=>{e=d(e,r)});let t=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let d=n.firstChild;t.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),n=d.content}let o=r.someProp("clipboardSerializer")||ia.fromSchema(r.state.schema),a=x_(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=__[c.nodeName.toLowerCase()]);){for(let d=u.length-1;d>=0;d--){let p=a.createElement(u[d]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(t)}`);let h=r.someProp("clipboardTextSerializer",d=>d(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h}}function b_(r,e,t,n,s){let i=s.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(n||i||!t);if(l){if(r.someProp("transformPastedText",h=>{e=h(e,i||n,r)}),i)return e?new St(ot.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):St.empty;let f=r.someProp("clipboardTextParser",h=>h(e,s,n,r));if(f)a=f;else{let h=s.marks(),{schema:d}=r.state,p=ia.fromSchema(d);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=o.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(d.text(g,h)))})}}else r.someProp("transformPastedHTML",f=>{t=f(t,r)}),o=rj(t),gd&&nj(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(r.someProp("clipboardParser")||r.someProp("domParser")||g0.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!ej.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=sj(J6(a,+u[1],+u[2]),u[4]);else if(a=St.maxOpen(tj(a.content,s),!0),a.openStart||a.openEnd){let f=0,h=0;for(let d=a.content.firstChild;f<a.openStart&&!d.type.spec.isolating;f++,d=d.firstChild);for(let d=a.content.lastChild;h<a.openEnd&&!d.type.spec.isolating;h++,d=d.lastChild);a=J6(a,f,h)}return r.someProp("transformPasted",f=>{a=f(a,r)}),a}const ej=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function tj(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),i,o=[];if(r.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&y_(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=w_(o[o.length-1],i.length));let u=v_(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return ot.from(o)}return r}function v_(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,ot.from(r));return r}function y_(r,e,t,n,s){if(s<r.length&&s<e.length&&r[s]==e[s]){let i=y_(r,e,t,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==r.length-1?t.type:r[s+1]))return n.copy(n.content.append(ot.from(v_(t,r,s+1))))}}function w_(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,w_(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(ot.empty,!0);return r.copy(t.append(n))}function q2(r,e,t,n,s,i){let o=e<0?r.firstChild:r.lastChild,a=o.content;return r.childCount>1&&(i=0),s<n-1&&(a=q2(a,e,t,n,s+1,i)),s>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ot.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(a))}function J6(r,e,t){return e<r.openStart&&(r=new St(q2(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new St(q2(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const __={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let K6=null;function x_(){return K6||(K6=document.implementation.createHTMLDocument("title"))}function rj(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=x_().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),s;if((s=n&&__[n[1].toLowerCase()])&&(r=s.map(i=>"<"+i+">").join("")+r+s.map(i=>"</"+i+">").reverse().join("")),t.innerHTML=r,s)for(let i=0;i<s.length;i++)t=t.querySelector(s[i])||t;return t}function nj(r){let e=r.querySelectorAll(Ys?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function sj(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:s,openStart:i,openEnd:o}=r;for(let a=n.length-2;a>=0;a-=2){let l=t.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;s=ot.from(l.create(n[a+1],s)),i++,o++}return new St(s,i,o)}const ui={},fi={},ij={touchstart:!0,touchmove:!0};class oj{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function aj(r){for(let e in ui){let t=ui[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{cj(r,n)&&!o5(r,n)&&(r.editable||!(n.type in fi))&&t(r,n)},ij[e]?{passive:!0}:void 0)}ci&&r.dom.addEventListener("input",()=>null),H2(r)}function Ul(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function lj(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function H2(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>o5(r,n))})}function o5(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function cj(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function uj(r,e){!o5(r,e)&&ui[e.type]&&(r.editable||!(e.type in fi))&&ui[e.type](r,e)}fi.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!S_(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Ao&&Ys&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),y0&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",s=>s(r,Lc(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||ZF(r,t)?t.preventDefault():Ul(r,"key")};fi.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};fi.keypress=(r,e)=>{let t=e;if(S_(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ki&&t.metaKey)return;if(r.someProp("handleKeyPress",s=>s(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof tr)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!r.someProp("handleTextInput",i=>i(r,n.$from.pos,n.$to.pos,s))&&r.dispatch(r.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function tp(r){return{left:r.clientX,top:r.clientY}}function fj(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function a5(r,e,t,n,s){if(n==-1)return!1;let i=r.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(r.someProp(e,a=>o>i.depth?a(r,t,i.nodeAfter,i.before(o),s,!0):a(r,t,i.node(o),i.before(o),s,!1)))return!0;return!1}function a0(r,e,t){r.focused||r.focus();let n=r.state.tr.setSelection(e);t=="pointer"&&n.setMeta("pointer",!0),r.dispatch(n)}function dj(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&er.isSelectable(n)?(a0(r,new er(t),"pointer"),!0):!1}function hj(r,e){if(e==-1)return!1;let t=r.state.selection,n,s;t instanceof er&&(n=t.node);let i=r.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(er.isSelectable(a)){n&&t.$from.depth>0&&o>=t.$from.depth&&i.before(t.$from.depth+1)==t.$from.pos?s=i.before(t.$from.depth):s=i.before(o);break}}return s!=null?(a0(r,er.create(r.state.doc,s),"pointer"),!0):!1}function pj(r,e,t,n,s){return a5(r,"handleClickOn",e,t,n)||r.someProp("handleClick",i=>i(r,e,n))||(s?hj(r,t):dj(r,t))}function mj(r,e,t,n){return a5(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",s=>s(r,e,n))}function gj(r,e,t,n){return a5(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",s=>s(r,e,n))||bj(r,t,n)}function bj(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(a0(r,tr.create(n,0,n.content.size),"pointer"),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)a0(r,tr.create(n,a+1,a+1+o.content.size),"pointer");else if(er.isSelectable(o))a0(r,er.create(n,a),"pointer");else continue;return!0}}function l5(r){return d1(r)}const k_=Ki?"metaKey":"ctrlKey";ui.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=l5(r),s=Date.now(),i="singleClick";s-r.input.lastClick.time<500&&fj(t,r.input.lastClick)&&!t[k_]&&(r.input.lastClick.type=="singleClick"?i="doubleClick":r.input.lastClick.type=="doubleClick"&&(i="tripleClick")),r.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:i};let o=r.posAtCoords(tp(t));o&&(i=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new vj(r,o,t,!!n)):(i=="doubleClick"?mj:gj)(r,o.pos,o.inside,t)?t.preventDefault():Ul(r,"pointer"))};class vj{constructor(e,t,n,s){this.view=e,this.pos=t,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[k_],this.allowDefault=n.shiftKey;let i,o;if(t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof er&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$o&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ul(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ya(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(tp(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ul(this.view,"pointer"):pj(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ci&&this.mightDrag&&!this.mightDrag.node.isAtom||Ys&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(a0(this.view,ir.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ul(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ul(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ui.touchstart=r=>{r.input.lastTouch=Date.now(),l5(r),Ul(r,"pointer")};ui.touchmove=r=>{r.input.lastTouch=Date.now(),Ul(r,"pointer")};ui.contextmenu=r=>l5(r);function S_(r,e){return r.composing?!0:ci&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const yj=Ao?5e3:-1;fi.compositionstart=fi.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),d1(r,!0),r.markCursor=null;else if(d1(r),$o&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){r.domSelection().collapse(o,o.nodeValue.length);break}else s=o,i=-1}}r.input.composing=!0}A_(r,yj)};fi.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,A_(r,20))};function A_(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>d1(r),e))}function T_(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=wj());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function wj(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function d1(r,e=!1){if(!(Ao&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),T_(r),e||r.docView&&r.docView.dirty){let t=s5(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):r.updateState(r.state),!0}return!1}}function _j(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const w0=Ti&&Ql<15||y0&&vF<604;ui.copy=fi.cut=(r,e)=>{let t=e,n=r.state.selection,s=t.type=="cut";if(n.empty)return;let i=w0?null:t.clipboardData,o=n.content(),{dom:a,text:l}=g_(r,o);i?(t.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):_j(r,a),s&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xj(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function kj(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Kf(r,n.value,null,s,e):Kf(r,n.textContent,n.innerHTML,s,e)},50)}function Kf(r,e,t,n,s){let i=b_(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,s,i||St.empty)))return!0;if(!i)return!1;let o=xj(i),a=o?r.state.tr.replaceSelectionWith(o,n):r.state.tr.replaceSelection(i);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}fi.paste=(r,e)=>{let t=e;if(r.composing&&!Ao)return;let n=w0?null:t.clipboardData,s=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Kf(r,n.getData("text/plain"),n.getData("text/html"),s,t)?t.preventDefault():kj(r,t)};class Sj{constructor(e,t){this.slice=e,this.move=t}}const N_=Ki?"altKey":"ctrlKey";ui.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let s=r.state.selection,i=s.empty?null:r.posAtCoords(tp(t));if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof er?s.to-1:s.to))){if(n&&n.mightDrag)r.dispatch(r.state.tr.setSelection(er.create(r.state.doc,n.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let c=r.docView.nearestDesc(t.target,!0);c&&c.node.type.spec.draggable&&c!=r.docView&&r.dispatch(r.state.tr.setSelection(er.create(r.state.doc,c.posBefore)))}}let o=r.state.selection.content(),{dom:a,text:l}=g_(r,o);t.dataTransfer.clearData(),t.dataTransfer.setData(w0?"Text":"text/html",a.innerHTML),t.dataTransfer.effectAllowed="copyMove",w0||t.dataTransfer.setData("text/plain",l),r.dragging=new Sj(o,!t[N_])};ui.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};fi.dragover=fi.dragenter=(r,e)=>e.preventDefault();fi.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let s=r.posAtCoords(tp(t));if(!s)return;let i=r.state.doc.resolve(s.pos),o=n&&n.slice;o?r.someProp("transformPasted",p=>{o=p(o,r)}):o=b_(r,t.dataTransfer.getData(w0?"Text":"text/plain"),w0?null:t.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&!t[N_]);if(r.someProp("handleDrop",p=>p(r,t,o||St.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?U9(r.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=r.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let d=c.doc.resolve(u);if(f&&er.isSelectable(o.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new er(d));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,w,v,_)=>p=_),c.setSelection(i5(r,d,c.doc.resolve(p)))}r.focus(),r.dispatch(c.setMeta("uiEvent","drop"))};ui.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&Ya(r)},20))};ui.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};ui.beforeinput=(r,e)=>{if(Ys&&Ao&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",i=>i(r,Lc(8,"Backspace")))))return;let{$cursor:s}=r.state.selection;s&&s.pos>0&&r.dispatch(r.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let r in fi)ui[r]=fi[r];function Xf(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class h1{constructor(e,t){this.toDOM=e,this.spec=t||Hc,this.side=this.spec.side||0}map(e,t,n,s){let{pos:i,deleted:o}=e.mapResult(t.from+s,this.side<0?-1:1);return o?null:new Ai(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof h1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jl{constructor(e,t){this.attrs=e,this.spec=t||Hc}map(e,t,n,s){let i=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Ai(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Jl&&Xf(this.attrs,e.attrs)&&Xf(this.spec,e.spec)}static is(e){return e.type instanceof Jl}destroy(){}}class c5{constructor(e,t){this.attrs=e,this.spec=t||Hc}map(e,t,n,s){let i=e.mapResult(t.from+s,1);if(i.deleted)return null;let o=e.mapResult(t.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Ai(i.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:s}=e.content.findIndex(t.from),i;return s==t.from&&!(i=e.child(n)).isText&&s+i.nodeSize==t.to}eq(e){return this==e||e instanceof c5&&Xf(this.attrs,e.attrs)&&Xf(this.spec,e.spec)}destroy(){}}class Ai{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Ai(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Ai(e,e,new h1(t,n))}static inline(e,t,n,s){return new Ai(e,t,new Jl(n,s))}static node(e,t,n,s){return new Ai(e,t,new c5(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jl}get widget(){return this.type instanceof h1}}const zu=[],Hc={};class zn{constructor(e,t){this.local=e.length?e:zu,this.children=t.length?t:zu}static create(e,t){return t.length?p1(t,e,0,Hc):Ws}find(e,t,n){let s=[];return this.findInner(e??0,t??1e9,s,0,n),s}findInner(e,t,n,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,s+a,i)}}map(e,t,n){return this==Ws||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Hc)}mapInner(e,t,n,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,s);l&&l.type.valid(t,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?Aj(this.children,o||[],e,t,n,s,i):o?new zn(o.sort(Vc),zu):Ws}add(e,t){return t.length?this==Ws?zn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let s,i=0;e.forEach((a,l)=>{let c=l+n,u;if(u=C_(t,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,p1(u,a,c+1,Hc)),i+=3}});let o=M_(i?L_(t):t,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new zn(o.length?this.local.concat(o).sort(Vc):this.local,s||this.children)}remove(e){return e.length==0||this==Ws?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,a=n[i]+t,l=n[i+1]+t;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(o,a+1);c!=Ws?n[i+2]=c:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,t)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new zn(s,n):Ws}forChild(e,t){if(this==Ws)return this;if(t.isLeaf)return zn.empty;let n,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let i=e+1,o=i+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Jl){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new zn(s.sort(Vc),zu);return n?new Dl([a,n]):a}return n||Ws}eq(e){if(this==e)return!0;if(!(e instanceof zn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return u5(this.localsInner(e))}localsInner(e){if(this==Ws)return zu;if(e.inlineContent||!this.local.some(Jl.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Jl||t.push(this.local[n]);return t}}zn.empty=new zn([],[]);zn.removeOverlap=u5;const Ws=zn.empty;class Dl{constructor(e){this.members=e}map(e,t){const n=this.members.map(s=>s.map(e,t,Hc));return Dl.from(n)}forChild(e,t){if(t.isLeaf)return zn.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,t);i!=Ws&&(i instanceof Dl?n=n.concat(i.members):n.push(i))}return Dl.from(n)}eq(e){if(!(e instanceof Dl)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!t)t=i;else{n&&(t=t.slice(),n=!1);for(let o=0;o<i.length;o++)t.push(i[o])}}return t?u5(n?t:t.sort(Vc)):zu}static from(e){switch(e.length){case 0:return Ws;case 1:return e[0];default:return new Dl(e.every(t=>t instanceof zn)?e:e.reduce((t,n)=>t.concat(n instanceof zn?n:n.members),[]))}}}function Aj(r,e,t,n,s,i,o){let a=r.slice();for(let c=0,u=i;c<t.maps.length;c++){let f=0;t.maps[c].forEach((h,d,p,g)=>{let w=g-p-(d-h);for(let v=0;v<a.length;v+=3){let _=a[v+1];if(_<0||h>_+u-f)continue;let k=a[v]+u-f;d>=k?a[v+1]=h<=k?-2:-1:p>=s&&w&&(a[v]+=w,a[v+1]+=w)}f+=w}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(r[c]+i),f=u-s;if(f<0||f>=n.content.size){l=!0;continue}let h=t.map(r[c+1]+i,-1),d=h-s,{index:p,offset:g}=n.content.findIndex(f),w=n.maybeChild(p);if(w&&g==f&&g+w.nodeSize==d){let v=a[c+2].mapInner(t,w,u+1,r[c]+i+1,o);v!=Ws?(a[c]=f,a[c+1]=d,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Tj(a,r,e,t,s,i,o),u=p1(c,n,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<u.children.length;f+=3){let d=u.children[f];for(;h<a.length&&a[h]<d;)h+=3;a.splice(h,0,u.children[f],u.children[f+1],u.children[f+2])}}return new zn(e.sort(Vc),a)}function M_(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let s=r[n];t.push(new Ai(s.from+e,s.to+e,s.type))}return t}function Tj(r,e,t,n,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(n,s,c);f?t.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&a(r[l+2],e[l]+i+1);return t}function C_(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,s=null;for(let i=0,o;i<r.length;i++)(o=r[i])&&o.from>t&&o.to<n&&((s||(s=[])).push(o),r[i]=null);return s}function L_(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function p1(r,e,t,n){let s=[],i=!1;e.forEach((a,l)=>{let c=C_(r,a,l+t);if(c){i=!0;let u=p1(c,a,t+l+1,n);u!=Ws&&s.push(l,l+a.nodeSize,u)}});let o=M_(i?L_(r):r,-t).sort(Vc);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new zn(o,s):Ws}function Vc(r,e){return r.from-e.from||r.to-e.to}function u5(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let s=t+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==r&&(e=r.slice()),e[s]=i.copy(i.from,n.to),X6(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,i.from),X6(e,s,n.copy(i.from,n.to)));break}}}return e}function X6(r,e,t){for(;e<r.length&&Vc(t,r[e])>0;)e++;r.splice(e,0,t)}function Sm(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=Ws&&e.push(n)}),r.cursorWrapper&&e.push(zn.create(r.state.doc,[r.cursorWrapper.deco])),Dl.from(e)}const Nj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Mj=Ti&&Ql<=11;class Cj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Lj{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Cj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Ti&&Ql<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Mj&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Nj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(V6(this.view)){if(this.suppressingSelectionUpdates)return Ya(this.view);if(Ti&&Ql<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let i=e.focusNode;i;i=Jf(i))t.add(i);for(let i=e.anchorNode;i;i=Jf(i))if(t.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&V6(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let f=this.registerMutation(t[u],l);f&&(i=i<0?f.from:Math.min(f.from,i),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if($o&&l.length>1){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let f=u[0],h=u[1];f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Z1(n)&&(c=s5(e))&&c.eq(ir.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ya(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),$j(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Ya(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)t.push(e.addedNodes[u]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Ti&&Ql<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:h}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let o=s&&s.parentNode==e.target?ii(s)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?ii(i):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Z6=new WeakMap,e7=!1;function $j(r){if(!Z6.has(r)&&(Z6.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=$o,e7)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),e7=!0}}function Oj(r){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}r.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",t,!0);let n=e.startContainer,s=e.startOffset,i=e.endContainer,o=e.endOffset,a=r.domAtPos(r.state.selection.anchor);return Wc(a.node,a.offset,i,o)&&([n,s,i,o]=[i,o,n,s]),{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o}}function Ij(r,e,t){let{node:n,fromOffset:s,toOffset:i,from:o,to:a}=r.docView.parseRange(e,t),l=r.domSelectionRange(),c,u=l.anchorNode;if(u&&r.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Z1(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ys&&r.input.lastKeyCode===8)for(let w=i;w>s;w--){let v=n.childNodes[w-1],_=v.pmViewDesc;if(v.nodeName=="BR"&&!_){i=w;break}if(!_||_.size)break}let f=r.state.doc,h=r.someProp("domParser")||g0.fromSchema(r.state.schema),d=f.resolve(o),p=null,g=h.parse(n,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:s,to:i,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Ej,context:d});if(c&&c[0].pos!=null){let w=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=w),p={anchor:w+o,head:v+o}}return{doc:g,sel:p,from:o,to:a}}function Ej(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(ci&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||ci&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Pj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Dj(r,e,t,n,s){let i=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let D=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,Q=s5(r,D);if(Q&&!r.state.selection.eq(Q)){if(Ys&&Ao&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",j=>j(r,Lc(13,"Enter"))))return;let E=r.state.tr.setSelection(Q);D=="pointer"?E.setMeta("pointer",!0):D=="key"&&E.scrollIntoView(),i&&E.setMeta("composition",i),r.dispatch(E)}return}let o=r.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=r.state.doc.resolve(t).after(a+1);let l=r.state.selection,c=Ij(r,e,t),u=r.state.doc,f=u.slice(c.from,c.to),h,d;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(h=r.state.selection.to,d="end"):(h=r.state.selection.from,d="start"),r.input.lastKeyCode=null;let p=jj(f.content,c.doc.content,c.from,h,d);if((y0&&r.input.lastIOSEnter>Date.now()-225||Ao)&&s.some(D=>D.nodeType==1&&!Pj.test(D.nodeName))&&(!p||p.endA>=p.endB)&&r.someProp("handleKeyDown",D=>D(r,Lc(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof tr&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let D=t7(r,r.state.doc,c.sel);if(D&&!D.eq(r.state.selection)){let Q=r.state.tr.setSelection(D);i&&Q.setMeta("composition",i),r.dispatch(Q)}}return}if(Ys&&r.cursorWrapper&&c.sel&&c.sel.anchor==r.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let D=p.endB-p.start;c.sel={anchor:c.sel.anchor+D,head:c.sel.anchor+D}}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&p.start==p.endB&&r.state.selection instanceof tr&&(p.start>r.state.selection.from&&p.start<=r.state.selection.from+2&&r.state.selection.from>=c.from?p.start=r.state.selection.from:p.endA<r.state.selection.to&&p.endA>=r.state.selection.to-2&&r.state.selection.to<=c.to&&(p.endB+=r.state.selection.to-p.endA,p.endA=r.state.selection.to)),Ti&&Ql<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),w=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),_=g.sameParent(w)&&g.parent.inlineContent&&v.end()>=p.endA,k;if((y0&&r.input.lastIOSEnter>Date.now()-225&&(!_||s.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!_&&g.pos<c.doc.content.size&&!g.sameParent(w)&&(k=ir.findFrom(c.doc.resolve(g.pos+1),1,!0))&&k.head==w.pos)&&r.someProp("handleKeyDown",D=>D(r,Lc(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>p.start&&Fj(u,p.start,p.endA,g,w)&&r.someProp("handleKeyDown",D=>D(r,Lc(8,"Backspace")))){Ao&&Ys&&r.domObserver.suppressSelectionUpdates();return}Ys&&Ao&&p.endB==p.start&&(r.input.lastAndroidDelete=Date.now()),Ao&&!_&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,w=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{r.someProp("handleKeyDown",function(D){return D(r,Lc(13,"Enter"))})},20));let A=p.start,C=p.endA,N,T,O;if(_){if(g.pos==w.pos)Ti&&Ql<=11&&g.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ya(r),20)),N=r.state.tr.delete(A,C),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(O=Rj(g.parent.content.cut(g.parentOffset,w.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))N=r.state.tr,O.type=="add"?N.addMark(A,C,O.mark):N.removeMark(A,C,O.mark);else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,w.parentOffset);if(r.someProp("handleTextInput",Q=>Q(r,A,C,D)))return;N=r.state.tr.insertText(D,A,C)}}if(N||(N=r.state.tr.replace(A,C,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let D=t7(r,N.doc,c.sel);D&&!(Ys&&Ao&&r.composing&&D.empty&&(p.start!=p.endB||r.input.lastAndroidDelete<Date.now()-100)&&(D.head==A||D.head==N.mapping.map(C)-1)||Ti&&D.empty&&D.head==A)&&N.setSelection(D)}T&&N.ensureMarks(T),i&&N.setMeta("composition",i),r.dispatch(N.scrollIntoView())}function t7(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:i5(r,e.resolve(t.anchor),e.resolve(t.head))}function Rj(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,s=t,i=n,o,a,l;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<t.length;u++)i=t[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ot.from(c).eq(r))return{mark:a,type:o}}function Fj(r,e,t,n,s){if(!n.parent.isTextblock||t-e<=s.pos-n.pos||Am(n,!0,!1)<s.pos)return!1;let i=r.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=r.resolve(Am(i,!0,!0));return!o.parent.isTextblock||o.pos>t||Am(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Am(r,e,t){let n=r.depth,s=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,s++,e=!1;if(t){let i=r.node(n).maybeChild(r.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function jj(r,e,t,n,s){let i=r.findDiffStart(e,t);if(i==null)return null;let{a:o,b:a}=r.findDiffEnd(e,t+r.size,t+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));n-=o+l-i}if(o<i&&r.size<e.size){let l=n<=i&&n>=o?i-n:0;i-=l,a=i+(a-o),o=i}else if(a<i){let l=n<=i&&n>=a?i-n:0;i-=l,o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}class Bj{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new oj,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(o7),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=s7(this),n7(this),this.nodeViews=i7(this),this.docView=F6(this.state.doc,r7(this),Sm(this),this.dom,this),this.domObserver=new Lj(this,(n,s,i,o)=>Dj(this,n,s,i,o)),this.domObserver.start(),aj(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&H2(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(o7),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(T_(this),i=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=i7(this);qj(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&H2(this),this.editable=s7(this),n7(this);let a=Sm(this),l=r7(this),c=n.plugins!=e.plugins&&!n.doc.eq(e.doc)?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",u=s||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(n.selection))&&(i=!0);let f=c=="preserve"&&i&&this.dom.style.overflowAnchor==null&&_F(this);if(i){this.domObserver.stop();let h=u&&(Ti||Ys)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&zj(n.selection,e.selection);if(u){let d=Ys?this.trackWrites=this.domSelectionRange().focusNode:null;(s||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=F6(e.doc,l,a,this.dom,this)),d&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WF(this))?Ya(this,h):(h_(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&xF(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof er){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&O6(this,t.getBoundingClientRect(),e)}else O6(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}someProp(e,t){let n=this._props&&this._props[e],s;if(n!=null&&(s=t?t(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=t?t(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=t?t(a):a))return s}}hasFocus(){if(Ti){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&kF(this.dom),Ya(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return MF(this,e)}coordsAtPos(e,t=1){return i_(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let s=this.docView.posFromDOM(e,t,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return IF(this,t||this.state,e)}pasteHTML(e,t){return Kf(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Kf(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(lj(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Sm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return uj(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return ci&&this.root.nodeType===11&&pF(this.dom.ownerDocument)==this.dom?Oj(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function r7(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[Ai.node(0,r.state.doc.content.size,e)]}function n7(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Ai.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function s7(r){return!r.someProp("editable",e=>e(r.state)===!1)}function zj(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function i7(r){let e=Object.create(null);function t(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function qj(r,e){let t=0,n=0;for(let s in r){if(r[s]!=e[s])return!0;t++}for(let s in e)n++;return t!=n}function o7(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ec={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Hj=typeof navigator<"u"&&/Mac/.test(navigator.platform),Vj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ps=0;Ps<10;Ps++)ec[48+Ps]=ec[96+Ps]=String(Ps);for(var Ps=1;Ps<=24;Ps++)ec[Ps+111]="F"+Ps;for(var Ps=65;Ps<=90;Ps++)ec[Ps]=String.fromCharCode(Ps+32),m1[Ps]=String.fromCharCode(Ps);for(var Tm in ec)m1.hasOwnProperty(Tm)||(m1[Tm]=ec[Tm]);function Uj(r){var e=Hj&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Vj&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?m1:ec)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Wj=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Yj(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Wj?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),s&&(t="Ctrl-"+t),o&&(t="Meta-"+t),i&&(t="Shift-"+t),t}function Qj(r){let e=Object.create(null);for(let t in r)e[Yj(t)]=r[t];return e}function Nm(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function Gj(r){return new Ci({props:{handleKeyDown:f5(r)}})}function f5(r){let e=Qj(r);return function(t,n){let s=Uj(n),i,o=e[Nm(s,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let a=e[Nm(s,n,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=ec[n.keyCode])&&i!=s){let a=e[Nm(i,n)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const Jj=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function Kj(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const Xj=(r,e,t)=>{let n=Kj(r,t);if(!n)return!1;let s=$_(n);if(!s){let o=n.blockRange(),a=o&&L0(o);return a==null?!1:(e&&e(r.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&E_(r,s,e))return!0;if(n.parent.content.size==0&&(_0(i,"end")||er.isSelectable(i))){let o=e5(r.doc,n.before(),n.after(),St.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=r.tr.step(o);a.setSelection(_0(i,"end")?ir.findFrom(a.doc.resolve(a.mapping.map(s.pos,-1)),-1):er.create(a.doc,s.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function _0(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Zj=(r,e,t)=>{let{$head:n,empty:s}=r.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;i=$_(n)}let o=i&&i.nodeBefore;return!o||!er.isSelectable(o)?!1:(e&&e(r.tr.setSelection(er.create(r.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function $_(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function eB(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const tB=(r,e,t)=>{let n=eB(r,t);if(!n)return!1;let s=O_(n);if(!s)return!1;let i=s.nodeAfter;if(E_(r,s,e))return!0;if(n.parent.content.size==0&&(_0(i,"start")||er.isSelectable(i))){let o=e5(r.doc,n.before(),n.after(),St.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=r.tr.step(o);a.setSelection(_0(i,"start")?ir.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):er.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},rB=(r,e,t)=>{let{$head:n,empty:s}=r.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;i=O_(n)}let o=i&&i.nodeAfter;return!o||!er.isSelectable(o)?!1:(e&&e(r.tr.setSelection(er.create(r.doc,i.pos)).scrollIntoView()),!0)};function O_(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const nB=(r,e)=>{let t=r.selection,n=t instanceof er,s;if(n){if(t.node.isTextblock||!oc(r.doc,t.from))return!1;s=t.from}else if(s=K1(r.doc,t.from,-1),s==null)return!1;if(e){let i=r.tr.join(s);n&&i.setSelection(er.create(i.doc,s-r.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},sB=(r,e)=>{let t=r.selection,n;if(t instanceof er){if(t.node.isTextblock||!oc(r.doc,t.to))return!1;n=t.to}else if(n=K1(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},iB=(r,e)=>{let{$from:t,$to:n}=r.selection,s=t.blockRange(n),i=s&&L0(s);return i==null?!1:(e&&e(r.tr.lift(s,i).scrollIntoView()),!0)},oB=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function I_(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const aB=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let s=t.node(-1),i=t.indexAfter(-1),o=I_(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=t.after(),l=r.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ir.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},lB=(r,e)=>{let t=r.selection,{$from:n,$to:s}=t;if(t instanceof Mo||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=I_(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,a=r.tr.insert(o,i.createAndFill());a.setSelection(tr.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},cB=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let i=t.before();if(i0(r.doc,i))return e&&e(r.tr.split(i).scrollIntoView()),!0}let n=t.blockRange(),s=n&&L0(n);return s==null?!1:(e&&e(r.tr.lift(n,s).scrollIntoView()),!0)},uB=(r,e)=>{let{$from:t,to:n}=r.selection,s,i=t.sharedDepth(n);return i==0?!1:(s=t.before(i),e&&e(r.tr.setSelection(er.create(r.doc,s))),!0)};function fB(r,e,t){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||oc(r.doc,e.pos))?!1:(t&&t(r.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function E_(r,e,t){let n=e.nodeBefore,s=e.nodeAfter,i,o;if(n.type.spec.isolating||s.type.spec.isolating)return!1;if(fB(r,e,t))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(i=(o=n.contentMatchAt(n.childCount)).findWrapping(s.type))&&o.matchType(i[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,h=ot.empty;for(let g=i.length-1;g>=0;g--)h=ot.from(i[g].create(null,h));h=ot.from(n.copy(h));let d=r.tr.step(new Ms(e.pos-1,f,e.pos,f,new St(h,1,0),i.length,!0)),p=f+2*i.length;oc(d.doc,p)&&d.join(p),t(d.scrollIntoView())}return!0}let l=ir.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&L0(c);if(u!=null&&u>=e.depth)return t&&t(r.tr.lift(c,u).scrollIntoView()),!0;if(a&&_0(s,"start",!0)&&_0(n,"end")){let f=n,h=[];for(;h.push(f),!f.isTextblock;)f=f.lastChild;let d=s,p=1;for(;!d.isTextblock;d=d.firstChild)p++;if(f.canReplace(f.childCount,f.childCount,d.content)){if(t){let g=ot.empty;for(let v=h.length-1;v>=0;v--)g=ot.from(h[v].copy(g));let w=r.tr.step(new Ms(e.pos-h.length,e.pos+s.nodeSize,e.pos+p,e.pos+s.nodeSize-p,new St(g,h.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function P_(r){return function(e,t){let n=e.selection,s=r<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(t&&t(e.tr.setSelection(tr.create(e.doc,r<0?s.start(i):s.end(i)))),!0):!1}}const dB=P_(-1),hB=P_(1);function pB(r,e=null){return function(t,n){let{$from:s,$to:i}=t.selection,o=s.blockRange(i),a=o&&Zg(o,r,e);return a?(n&&n(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function a7(r,e=null){return function(t,n){let s=!1;for(let i=0;i<t.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[i];t.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)s=!0;else{let u=t.doc.resolve(c),f=u.index();s=u.parent.canReplaceWith(f,f+1,r)}})}if(!s)return!1;if(n){let i=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];i.setBlockType(a,l,r,e)}n(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function mB(r,e=null){return function(t,n){let{$from:s,$to:i}=t.selection,o=s.blockRange(i),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(r)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let u=t.doc.resolve(o.start-2);l=new l1(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new l1(s,t.doc.resolve(i.end(o.depth)),o.depth)),a=!0}let c=Zg(l,r,e,o);return c?(n&&n(gB(t.tr,o,c,a,r).scrollIntoView()),!0):!1}}function gB(r,e,t,n,s){let i=ot.empty;for(let u=t.length-1;u>=0;u--)i=ot.from(t[u].type.create(t[u].attrs,i));r.step(new Ms(e.start-(n?2:0),e.end,e.start,e.end,new St(i,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==s&&(o=u+1);let a=t.length-o,l=e.start+t.length-(n?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,h=!0;u<f;u++,h=!1)!h&&i0(r.doc,l,a)&&(r.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return r}function bB(r){return function(e,t){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==r);return i?t?n.node(i.depth-1).type==r?vB(e,t,r,i):yB(e,t,i):!0:!1}}function vB(r,e,t,n){let s=r.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new Ms(i-1,o,i,o,new St(ot.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new l1(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const a=L0(n);if(a==null)return!1;s.lift(n,a);let l=s.mapping.map(i,-1)-1;return oc(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function yB(r,e,t){let n=r.tr,s=t.parent;for(let d=t.end,p=t.endIndex-1,g=t.startIndex;p>g;p--)d-=s.child(p).nodeSize,n.delete(d-1,d+1);let i=n.doc.resolve(t.start),o=i.nodeAfter;if(n.mapping.map(t.end)!=t.start+i.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?ot.empty:ot.from(s))))return!1;let f=i.pos,h=f+o.nodeSize;return n.step(new Ms(f-(a?1:0),h+(l?1:0),f+1,h-1,new St((a?ot.empty:ot.from(s.copy(ot.empty))).append(l?ot.empty:ot.from(s.copy(ot.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function wB(r){return function(e,t){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,c=>c.childCount>0&&c.firstChild.type==r);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=r)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=ot.from(c?r.create():null),f=new St(ot.from(r.create(null,ot.from(a.type.create(null,u)))),c?3:1,0),h=i.start,d=i.end;t(e.tr.step(new Ms(h-(c?3:1),d,h,d,f,1,!0)).scrollIntoView())}return!0}}function rp(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:s}=t,{storedMarks:i}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=t.selection,s=t.doc,i=t.storedMarks,t}}}class np{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:s}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(n).map(([h,d])=>[h,(...g)=>{const w=this.buildProps(c,t),v=d(...g)(w);return a.push(v),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:n}=this,s=!1,i=e||n.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,t=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:rp({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class _B{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(s=>s!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function qt(r,e,t){return r.config[e]===void 0&&r.parent?qt(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?qt(r.parent,e,t):null}):r.config[e]}function sp(r){const e=r.filter(s=>s.type==="extension"),t=r.filter(s=>s.type==="node"),n=r.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function D_(r){const e=[],{nodeExtensions:t,markExtensions:n}=sp(r),s=[...t,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=qt(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([h,d])=>{e.push({type:f,name:h,attribute:{...i,...d}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=qt(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const h={...i,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Ls(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function xn(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const a=i?i.split(" "):[],l=n[s]?n[s].split(" "):[],c=a.filter(u=>!l.includes(u));n[s]=[...l,...c].join(" ")}else s==="style"?n[s]=[n[s],i].join("; "):n[s]=i}),n},{})}function V2(r,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>xn(t,n),{})}function R_(r){return typeof r=="function"}function yr(r,e=void 0,...t){return R_(r)?e?r.bind(e)(...t):r(...t):r}function xB(r={}){return Object.keys(r).length===0&&r.constructor===Object}function kB(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function l7(r,e){return r.style?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):kB(t.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...n,...s}}}}function c7(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&xB(t)?!1:t!=null))}function SB(r,e){var t;const n=D_(r),{nodeExtensions:s,markExtensions:i}=sp(r),o=(t=s.find(c=>qt(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(s.map(c=>{const u=n.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=r.reduce((v,_)=>{const k=qt(_,"extendNodeSchema",f);return{...v,...k?k(c):{}}},{}),d=c7({...h,content:yr(qt(c,"content",f)),marks:yr(qt(c,"marks",f)),group:yr(qt(c,"group",f)),inline:yr(qt(c,"inline",f)),atom:yr(qt(c,"atom",f)),selectable:yr(qt(c,"selectable",f)),draggable:yr(qt(c,"draggable",f)),code:yr(qt(c,"code",f)),defining:yr(qt(c,"defining",f)),isolating:yr(qt(c,"isolating",f)),attrs:Object.fromEntries(u.map(v=>{var _;return[v.name,{default:(_=v==null?void 0:v.attribute)===null||_===void 0?void 0:_.default}]}))}),p=yr(qt(c,"parseHTML",f));p&&(d.parseDOM=p.map(v=>l7(v,u)));const g=qt(c,"renderHTML",f);g&&(d.toDOM=v=>g({node:v,HTMLAttributes:V2(v,u)}));const w=qt(c,"renderText",f);return w&&(d.toText=w),[c.name,d]})),l=Object.fromEntries(i.map(c=>{const u=n.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=r.reduce((w,v)=>{const _=qt(v,"extendMarkSchema",f);return{...w,..._?_(c):{}}},{}),d=c7({...h,inclusive:yr(qt(c,"inclusive",f)),excludes:yr(qt(c,"excludes",f)),group:yr(qt(c,"group",f)),spanning:yr(qt(c,"spanning",f)),code:yr(qt(c,"code",f)),attrs:Object.fromEntries(u.map(w=>{var v;return[w.name,{default:(v=w==null?void 0:w.attribute)===null||v===void 0?void 0:v.default}]}))}),p=yr(qt(c,"parseHTML",f));p&&(d.parseDOM=p.map(w=>l7(w,u)));const g=qt(c,"renderHTML",f);return g&&(d.toDOM=w=>g({mark:w,HTMLAttributes:V2(w,u)})),[c.name,d]}));return new ER({topNode:o,nodes:a,marks:l})}function Mm(r,e){return e.nodes[r]||e.marks[r]||null}function u7(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}const AB=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";t+=u.slice(0,Math.max(0,n-i))}),t};function d5(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class ip{constructor(e){this.find=e.find,this.handler=e.handler}}const TB=(r,e)=>{if(d5(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Cm(r){var e;const{editor:t,from:n,to:s,text:i,rules:o,plugin:a}=r,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const f=AB(c)+i;return o.forEach(h=>{if(u)return;const d=TB(f,h.find);if(!d)return;const p=l.state.tr,g=rp({state:l.state,transaction:p}),w={from:n-(d[0].length-i.length),to:s},{commands:v,chain:_,can:k}=new np({editor:t,state:g});h.handler({state:g,range:w,match:d,commands:v,chain:_,can:k})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:n,to:s,text:i}),l.dispatch(p),u=!0)}),u}function NB(r){const{editor:e,rules:t}=r,n=new Ci({state:{init(){return null},apply(s,i){const o=s.getMeta(n);return o||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,o,a){return Cm({editor:e,from:i,to:o,text:a,rules:t,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Cm({editor:e,from:i.pos,to:i.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Cm({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function MB(r){return typeof r=="number"}class CB{constructor(e){this.find=e.find,this.handler=e.handler}}const LB=(r,e)=>{if(d5(e))return[...r.matchAll(e)];const t=e(r);return t?t.map(n=>{const s=[n.text];return s.index=n.index,s.input=r,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(n.replaceWith)),s}):[]};function $B(r){const{editor:e,state:t,from:n,to:s,rule:i,pasteEvent:o,dropEvent:a}=r,{commands:l,chain:c,can:u}=new np({editor:e,state:t}),f=[];return t.doc.nodesBetween(n,s,(d,p)=>{if(!d.isTextblock||d.type.spec.code)return;const g=Math.max(n,p),w=Math.min(s,p+d.content.size),v=d.textBetween(g-p,w-p,void 0,"￼");LB(v,i.find).forEach(k=>{if(k.index===void 0)return;const A=g+k.index+1,C=A+k[0].length,N={from:t.tr.mapping.map(A),to:t.tr.mapping.map(C)},T=i.handler({state:t,range:N,match:k,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});f.push(T)})}),f.every(d=>d!==null)}function OB(r){const{editor:e,rules:t}=r;let n=null,s=!1,i=!1,o=new ClipboardEvent("paste"),a=new DragEvent("drop");return t.map(c=>new Ci({view(u){const f=h=>{var d;n=!((d=u.dom.parentElement)===null||d===void 0)&&d.contains(h.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(u,f)=>(i=n===u.dom.parentElement,a=f,!1),paste:(u,f)=>{var h;const d=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return o=f,s=!!(d!=null&&d.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,h)=>{const d=u[0],p=d.getMeta("uiEvent")==="paste"&&!s,g=d.getMeta("uiEvent")==="drop"&&!i;if(!p&&!g)return;const w=f.doc.content.findDiffStart(h.doc.content),v=f.doc.content.findDiffEnd(h.doc.content);if(!MB(w)||!v||w===v.b)return;const _=h.tr,k=rp({state:h,transaction:_});if(!(!$B({editor:e,state:k,from:Math.max(w-1,0),to:v.b-1,rule:c,pasteEvent:o,dropEvent:a})||!_.steps.length))return a=new DragEvent("drop"),o=new ClipboardEvent("paste"),_}}))}function IB(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return[...new Set(e)]}class Yu{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Yu.resolve(e),this.schema=SB(this.extensions,t),this.extensions.forEach(n=>{var s;this.editor.extensionStorage[n.name]=n.storage;const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Mm(n.name,this.schema)};n.type==="mark"&&(!((s=yr(qt(n,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(n.name);const o=qt(n,"onBeforeCreate",i);o&&this.editor.on("beforeCreate",o);const a=qt(n,"onCreate",i);a&&this.editor.on("create",a);const l=qt(n,"onUpdate",i);l&&this.editor.on("update",l);const c=qt(n,"onSelectionUpdate",i);c&&this.editor.on("selectionUpdate",c);const u=qt(n,"onTransaction",i);u&&this.editor.on("transaction",u);const f=qt(n,"onFocus",i);f&&this.editor.on("focus",f);const h=qt(n,"onBlur",i);h&&this.editor.on("blur",h);const d=qt(n,"onDestroy",i);d&&this.editor.on("destroy",d)})}static resolve(e){const t=Yu.sort(Yu.flatten(e)),n=IB(t.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},s=qt(t,"addExtensions",n);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((n,s)=>{const i=qt(n,"priority")||100,o=qt(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Mm(t.name,this.schema)},s=qt(t,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=Yu.sort([...this.extensions].reverse()),n=[],s=[],i=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Mm(o.name,this.schema)},l=[],c=qt(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&o.config.exitable&&(u.ArrowRight=()=>pa.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([w,v])=>[w,()=>v({editor:e})]));u={...u,...g}}const f=Gj(u);l.push(f);const h=qt(o,"addInputRules",a);u7(o,e.options.enableInputRules)&&h&&n.push(...h());const d=qt(o,"addPasteRules",a);u7(o,e.options.enablePasteRules)&&d&&s.push(...d());const p=qt(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[NB({editor:e,rules:n}),...OB({editor:e,rules:s}),...i]}get attributes(){return D_(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=sp(this.extensions);return Object.fromEntries(t.filter(n=>!!qt(n,"addNodeView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e,type:Ls(n.name,this.schema)},o=qt(n,"addNodeView",i);if(!o)return[];const a=(l,c,u,f)=>{const h=V2(l,s);return o()({editor:e,node:l,getPos:u,decorations:f,HTMLAttributes:h,extension:n})};return[n.name,a]}))}}function EB(r){return Object.prototype.toString.call(r).slice(8,-1)}function Lm(r){return EB(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function op(r,e){const t={...r};return Lm(r)&&Lm(e)&&Object.keys(e).forEach(n=>{Lm(e[n])?n in r?t[n]=op(r[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}class Bi{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yr(qt(this,"addOptions",{name:this.name}))),this.storage=yr(qt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bi(e)}configure(e={}){const t=this.extend();return t.options=op(this.options,e),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Bi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yr(qt(t,"addOptions",{name:t.name})),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}}function F_(r,e,t){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=t||{};let a="",l=!0;return r.nodesBetween(n,s,(c,u,f,h)=>{var d;const p=o==null?void 0:o[c.type.name];p?(c.isBlock&&!l&&(a+=i,l=!0),f&&(a+=p({node:c,pos:u,parent:f,index:h,range:e}))):c.isText?(a+=(d=c==null?void 0:c.text)===null||d===void 0?void 0:d.slice(Math.max(n,u)-u,s-u),l=!1):c.isBlock&&!l&&(a+=i,l=!0)}),a}function j_(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const PB=Bi.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Ci({key:new zo("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=j_(t);return F_(n,{from:o,to:a},{textSerializers:l})}}})]}}),DB=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),RB=(r=!1)=>({commands:e})=>e.setContent("",r),FB=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:s}=n;return t&&s.forEach(({$from:i,$to:o})=>{r.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),d=f.blockRange(h);if(!d)return;const p=L0(d);if(a.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(d.start,g)}(p||p===0)&&e.lift(d,p)})}),!0},jB=r=>e=>r(e),BB=()=>({state:r,dispatch:e})=>lB(r,e),zB=(r,e)=>({editor:t,tr:n})=>{const{state:s}=t,i=s.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new tr(n.doc.resolve(o-1))),!0},qB=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const s=r.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const a=s.before(i),l=s.after(i);r.delete(a,l).scrollIntoView()}return!0}return!1},HB=r=>({tr:e,state:t,dispatch:n})=>{const s=Ls(r,t.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},VB=r=>({tr:e,dispatch:t})=>{const{from:n,to:s}=r;return t&&e.delete(n,s),!0},UB=()=>({state:r,dispatch:e})=>Jj(r,e),WB=()=>({commands:r})=>r.keyboardShortcut("Enter"),YB=()=>({state:r,dispatch:e})=>aB(r,e);function g1(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>t.strict?e[s]===r[s]:d5(e[s])?e[s].test(r[s]):e[s]===r[s]):!0}function U2(r,e,t={}){return r.find(n=>n.type===e&&g1(n.attrs,t))}function QB(r,e,t={}){return!!U2(r,e,t)}function h5(r,e,t={}){if(!r||!e)return;let n=r.parent.childAfter(r.parentOffset);if(r.parentOffset===n.offset&&n.offset!==0&&(n=r.parent.childBefore(r.parentOffset)),!n.node)return;const s=U2([...n.node.marks],e,t);if(!s)return;let i=n.index,o=r.start()+n.offset,a=i+1,l=o+n.node.nodeSize;for(U2([...n.node.marks],e,t);i>0&&s.isInSet(r.parent.child(i-1).marks);)i-=1,o-=r.parent.child(i).nodeSize;for(;a<r.parent.childCount&&QB([...r.parent.child(a).marks],e,t);)l+=r.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function lc(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const GB=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const i=lc(r,n.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(s){const f=h5(l,i,e);if(f&&f.from<=c&&f.to>=u){const h=tr.create(o,f.from,f.to);t.setSelection(h)}}return!0},JB=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function B_(r){return r instanceof tr}function Pc(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function z_(r,e=null){if(!e)return null;const t=ir.atStart(r),n=ir.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const s=t.from,i=n.to;return e==="all"?tr.create(r,Pc(0,s,i),Pc(r.content.size,s,i)):tr.create(r,Pc(e,s,i),Pc(e,s,i))}function p5(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const KB=(r=null,e={})=>({editor:t,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{p5()&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(i&&r===null&&!B_(t.state.selection))return o(),!0;const a=z_(s.doc,r)||t.state.selection,l=t.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},XB=(r,e)=>t=>r.every((n,s)=>e(n,{...t,index:s})),ZB=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e);function f7(r){const e=`<body>${r}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function b1(r,e,t){if(t={slice:!0,parseOptions:{},...t},typeof r=="object"&&r!==null)try{return Array.isArray(r)&&r.length>0?ot.fromArray(r.map(n=>e.nodeFromJSON(n))):e.nodeFromJSON(r)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",n),b1("",e,t)}if(typeof r=="string"){const n=g0.fromSchema(e);return t.slice?n.parseSlice(f7(r),t.parseOptions).content:n.parse(f7(r),t.parseOptions)}return b1("",e,t)}function ez(r,e,t){const n=r.steps.length-1;if(n<e)return;const s=r.steps[n];if(!(s instanceof Es||s instanceof Ms))return;const i=r.mapping.maps[n];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),r.setSelection(ir.near(r.doc.resolve(o),t))}const tz=r=>r.toString().startsWith("<"),rz=(r,e,t)=>({tr:n,dispatch:s,editor:i})=>{if(s){t={parseOptions:{},updateSelection:!0,...t};const o=b1(e,i.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions}});if(o.toString()==="<>")return!0;let{from:a,to:l}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},c=!0,u=!0;if((tz(o)?o:[o]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,u=u?h.isBlock:!1}),a===l&&u){const{parent:h}=n.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,l+=1)}c?Array.isArray(e)?n.insertText(e.map(h=>h.text||"").join(""),a,l):typeof e=="object"&&e&&e.text?n.insertText(e.text,a,l):n.insertText(e,a,l):n.replaceWith(a,l,o),t.updateSelection&&ez(n,n.steps.length-1,-1)}return!0},nz=()=>({state:r,dispatch:e})=>nB(r,e),sz=()=>({state:r,dispatch:e})=>sB(r,e),iz=()=>({state:r,dispatch:e})=>Xj(r,e),oz=()=>({state:r,dispatch:e})=>tB(r,e),az=()=>({tr:r,state:e,dispatch:t})=>{try{const n=K1(e.doc,e.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),t&&t(r),!0)}catch{return!1}},lz=()=>({state:r,dispatch:e,tr:t})=>{try{const n=K1(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}};function m5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cz(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))p5()||m5()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),i&&(t=`Shift-${t}`),t}const uz=r=>({editor:e,view:t,tr:n,dispatch:s})=>{const i=cz(r).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&s&&n.maybeStep(u)}),!0};function Zf(r,e,t={}){const{from:n,to:s,empty:i}=r.selection,o=e?Ls(e,r.schema):null,a=[];r.doc.nodesBetween(n,s,(f,h)=>{if(f.isText)return;const d=Math.max(n,h),p=Math.min(s,h+f.nodeSize);a.push({node:f,from:d,to:p})});const l=s-n,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>g1(f.node.attrs,t,{strict:!1}));return i?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}const fz=(r,e={})=>({state:t,dispatch:n})=>{const s=Ls(r,t.schema);return Zf(t,s,e)?iB(t,n):!1},dz=()=>({state:r,dispatch:e})=>cB(r,e),hz=r=>({state:e,dispatch:t})=>{const n=Ls(r,e.schema);return bB(n)(e,t)},pz=()=>({state:r,dispatch:e})=>oB(r,e);function ap(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function d7(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,s)=>(t.includes(s)||(n[s]=r[s]),n),{})}const mz=(r,e)=>({tr:t,state:n,dispatch:s})=>{let i=null,o=null;const a=ap(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(i=Ls(r,n.schema)),a==="mark"&&(o=lc(r,n.schema)),s&&t.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&t.setNodeMarkup(u,void 0,d7(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&t.addMark(u,u+c.nodeSize,o.create(d7(f.attrs,e)))})})}),!0):!1},gz=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),bz=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size}),vz=()=>({state:r,dispatch:e})=>Zj(r,e),yz=()=>({state:r,dispatch:e})=>rB(r,e),wz=()=>({state:r,dispatch:e})=>uB(r,e),_z=()=>({state:r,dispatch:e})=>hB(r,e),xz=()=>({state:r,dispatch:e})=>dB(r,e);function q_(r,e,t={}){return b1(r,e,{slice:!1,parseOptions:t})}const kz=(r,e=!1,t={})=>({tr:n,editor:s,dispatch:i})=>{const{doc:o}=n,a=q_(r,s.schema,t);return i&&n.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!e),!0};function lp(r,e){const t=lc(e,r.schema),{from:n,to:s,empty:i}=r.selection,o=[];i?(r.storedMarks&&o.push(...r.storedMarks),o.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function Sz(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function H_(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function g5(r){return e=>H_(e.$from,r)}function Az(r,e){const t=ia.fromSchema(e).serializeFragment(r),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function Tz(r,e){const t={from:0,to:r.content.size};return F_(r,t,e)}function Nz(r,e){const t=Ls(e,r.schema),{from:n,to:s}=r.selection,i=[];r.doc.nodesBetween(n,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function Mz(r,e){const t=ap(typeof e=="string"?e:e.name,r.schema);return t==="node"?Nz(r,e):t==="mark"?lp(r,e):{}}function V_(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(s=>{const i=t.resolve(r-1),o=h5(i,s.type);o&&n.push({mark:s,...o})}):t.nodesBetween(r,e,(s,i)=>{n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}function Ph(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const s=r.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}function W2(r,e,t={}){const{empty:n,ranges:s}=r.selection,i=e?lc(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>g1(f.attrs,t,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:f,$to:h})=>{const d=f.pos,p=h.pos;r.doc.nodesBetween(d,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(d,w),_=Math.min(p,w+g.nodeSize),k=_-v;o+=k,a.push(...g.marks.map(A=>({mark:A,from:v,to:_})))})}),o===0)return!1;const l=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>g1(f.mark.attrs,t,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=o}function Cz(r,e,t={}){if(!e)return Zf(r,null,t)||W2(r,null,t);const n=ap(e,r.schema);return n==="node"?Zf(r,e,t):n==="mark"?W2(r,e,t):!1}function h7(r,e){const{nodeExtensions:t}=sp(e),n=t.find(o=>o.name===r);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=yr(qt(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Lz(r){var e;const t=(e=r.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),n=r.toJSON();return JSON.stringify(t)===JSON.stringify(n)}function $z(r,e,t){var n;const{selection:s}=e;let i=null;if(B_(s)&&(i=s.$cursor),i){const a=(n=r.storedMarks)!==null&&n!==void 0?n:i.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(a.pos,l.pos,(u,f,h)=>{if(c)return!1;if(u.isInline){const d=!h||h.type.allowsMarkType(t),p=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=d&&p}return!c}),c})}const Oz=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const{selection:i}=t,{empty:o,ranges:a}=i,l=lc(r,n.schema);if(s)if(o){const c=lp(n,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(u,f,(h,d)=>{const p=Math.max(d,u),g=Math.min(d+h.nodeSize,f);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&t.addMark(p,g,l.create({...v.attrs,...e}))}):t.addMark(p,g,l.create(e))})});return $z(n,t,l)},Iz=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),Ez=(r,e={})=>({state:t,dispatch:n,chain:s})=>{const i=Ls(r,t.schema);return i.isTextblock?s().command(({commands:o})=>a7(i,e)(t)?!0:o.clearNodes()).command(({state:o})=>a7(i,e)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Pz=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,s=Pc(r,0,n.content.size),i=er.create(n,s);e.setSelection(i)}return!0},Dz=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:s,to:i}=typeof r=="number"?{from:r,to:r}:r,o=tr.atStart(n).from,a=tr.atEnd(n).to,l=Pc(s,o,a),c=Pc(i,o,a),u=tr.create(n,l,c);e.setSelection(u)}return!0},Rz=r=>({state:e,dispatch:t})=>{const n=Ls(r,e.schema);return wB(n)(e,t)};function p7(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(s=>e==null?void 0:e.includes(s.type.name));r.tr.ensureMarks(n)}}const Fz=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=Ph(c,a.node().type.name,a.node().attrs);if(i instanceof er&&i.node.isBlock)return!a.parentOffset||!i0(o,a.pos)?!1:(n&&(r&&p7(t,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(n){const f=l.parentOffset===l.parent.content.size;i instanceof tr&&e.deleteSelection();const h=a.depth===0?void 0:Sz(a.node(-1).contentMatchAt(a.indexAfter(-1)));let d=f&&h?[{type:h,attrs:u}]:void 0,p=i0(e.doc,e.mapping.map(a.pos),1,d);if(!d&&!p&&i0(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,d=h?[{type:h,attrs:u}]:void 0),p&&(e.split(e.mapping.map(a.pos),1,d),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),w=e.doc.resolve(g);a.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}r&&p7(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},jz=r=>({tr:e,state:t,dispatch:n,editor:s})=>{var i;const o=Ls(r,t.schema),{$from:a,$to:l}=t.selection,c=t.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==o)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(n){let w=ot.empty;const v=a.index(-1)?1:a.index(-2)?2:3;for(let T=a.depth-v;T>=a.depth-3;T-=1)w=ot.from(a.node(T).copy(w));const _=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,k=Ph(f,a.node().type.name,a.node().attrs),A=((i=o.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(k))||void 0;w=w.append(ot.from(o.createAndFill(null,A)||void 0));const C=a.before(a.depth-(v-1));e.replace(C,a.after(-_),new St(w,4-v,0));let N=-1;e.doc.nodesBetween(C,e.doc.content.size,(T,O)=>{if(N>-1)return!1;T.isTextblock&&T.content.size===0&&(N=O+1)}),N>-1&&e.setSelection(tr.near(e.doc.resolve(N))),e.scrollIntoView()}return!0}const h=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,d=Ph(f,u.type.name,u.attrs),p=Ph(f,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const g=h?[{type:o,attrs:d},{type:h,attrs:p}]:[{type:o,attrs:d}];if(!i0(e.doc,a.pos,2))return!1;if(n){const{selection:w,storedMarks:v}=t,{splittableMarks:_}=s.extensionManager,k=v||w.$to.parentOffset&&w.$from.marks();if(e.split(a.pos,2,g).scrollIntoView(),!k||!n)return!0;const A=k.filter(C=>_.includes(C.type.name));e.ensureMarks(A)}return!0},$m=(r,e)=>{const t=g5(o=>o.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&oc(r.doc,t.pos)&&r.join(t.pos),!0},Om=(r,e)=>{const t=g5(o=>o.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&oc(r.doc,n)&&r.join(n),!0},Bz=(r,e,t,n={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:h}=s.extensionManager,d=Ls(r,o.schema),p=Ls(e,o.schema),{selection:g,storedMarks:w}=o,{$from:v,$to:_}=g,k=v.blockRange(_),A=w||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const C=g5(N=>h7(N.type.name,f))(g);if(k.depth>=1&&C&&k.depth-C.depth<=1){if(C.node.type===d)return c.liftListItem(p);if(h7(C.node.type.name,f)&&d.validContent(C.node.content)&&a)return l().command(()=>(i.setNodeMarkup(C.pos,d),!0)).command(()=>$m(i,d)).command(()=>Om(i,d)).run()}return!t||!A||!a?l().command(()=>u().wrapInList(d,n)?!0:c.clearNodes()).wrapInList(d,n).command(()=>$m(i,d)).command(()=>Om(i,d)).run():l().command(()=>{const N=u().wrapInList(d,n),T=A.filter(O=>h.includes(O.type.name));return i.ensureMarks(T),N?!0:c.clearNodes()}).wrapInList(d,n).command(()=>$m(i,d)).command(()=>Om(i,d)).run()},zz=(r,e={},t={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=t,o=lc(r,n.schema);return W2(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},qz=(r,e,t={})=>({state:n,commands:s})=>{const i=Ls(r,n.schema),o=Ls(e,n.schema);return Zf(n,i,t)?s.setNode(o):s.setNode(i,t)},Hz=(r,e={})=>({state:t,commands:n})=>{const s=Ls(r,t.schema);return Zf(t,s,e)?n.lift(s):n.wrapIn(s,e)},Vz=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const s=t[n];let i;if(s.spec.isInputRules&&(i=s.getState(r))){if(e){const o=r.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,r.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},Uz=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:s}=t;return n||e&&s.forEach(i=>{r.removeMark(i.$from.pos,i.$to.pos)}),!0},Wz=(r,e={})=>({tr:t,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=lc(r,n.schema),{$from:c,empty:u,ranges:f}=a;if(!s)return!0;if(u&&o){let{from:h,to:d}=a;const p=(i=c.marks().find(w=>w.type===l))===null||i===void 0?void 0:i.attrs,g=h5(c,l,p);g&&(h=g.from,d=g.to),t.removeMark(h,d,l)}else f.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos,l)});return t.removeStoredMark(l),!0},Yz=(r,e={})=>({tr:t,state:n,dispatch:s})=>{let i=null,o=null;const a=ap(typeof r=="string"?r:r.name,n.schema);return a?(a==="node"&&(i=Ls(r,n.schema)),a==="mark"&&(o=lc(r,n.schema)),s&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;n.doc.nodesBetween(c,u,(f,h)=>{i&&i===f.type&&t.setNodeMarkup(h,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(d=>{if(o===d.type){const p=Math.max(h,c),g=Math.min(h+f.nodeSize,u);t.addMark(p,g,o.create({...d.attrs,...e}))}})})}),!0):!1},Qz=(r,e={})=>({state:t,dispatch:n})=>{const s=Ls(r,t.schema);return pB(s,e)(t,n)},Gz=(r,e={})=>({state:t,dispatch:n})=>{const s=Ls(r,t.schema);return mB(s,e)(t,n)};var Jz=Object.freeze({__proto__:null,blur:DB,clearContent:RB,clearNodes:FB,command:jB,createParagraphNear:BB,cut:zB,deleteCurrentNode:qB,deleteNode:HB,deleteRange:VB,deleteSelection:UB,enter:WB,exitCode:YB,extendMarkRange:GB,first:JB,focus:KB,forEach:XB,insertContent:ZB,insertContentAt:rz,joinUp:nz,joinDown:sz,joinBackward:iz,joinForward:oz,joinItemBackward:az,joinItemForward:lz,keyboardShortcut:uz,lift:fz,liftEmptyBlock:dz,liftListItem:hz,newlineInCode:pz,resetAttributes:mz,scrollIntoView:gz,selectAll:bz,selectNodeBackward:vz,selectNodeForward:yz,selectParentNode:wz,selectTextblockEnd:_z,selectTextblockStart:xz,setContent:kz,setMark:Oz,setMeta:Iz,setNode:Ez,setNodeSelection:Pz,setTextSelection:Dz,sinkListItem:Rz,splitBlock:Fz,splitListItem:jz,toggleList:Bz,toggleMark:zz,toggleNode:qz,toggleWrap:Hz,undoInputRule:Vz,unsetAllMarks:Uz,unsetMark:Wz,updateAttributes:Yz,wrapIn:Qz,wrapInList:Gz});const Kz=Bi.create({name:"commands",addCommands(){return{...Jz}}}),Xz=Bi.create({name:"editable",addProseMirrorPlugins(){return[new Ci({key:new zo("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Zz=Bi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Ci({key:new zo("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),eq=Bi.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:h,parent:d}=f,p=f.parent.isTextblock?a.doc.resolve(h-1):f,g=p.parent.type.spec.isolating,w=f.pos-f.parentOffset,v=g&&p.parent.childCount===1?w===f.pos:ir.atStart(c).from===h;return!u||!v||!d.type.isTextblock||d.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return p5()||m5()?i:s},addProseMirrorPlugins(){return[new Ci({key:new zo("clearDocument"),appendTransaction:(r,e,t)=>{if(!(r.some(p=>p.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:s,from:i,to:o}=e.selection,a=ir.atStart(e.doc).from,l=ir.atEnd(e.doc).to;if(s||!(i===a&&o===l)||!(t.doc.textBetween(0,t.doc.content.size," "," ").length===0))return;const f=t.tr,h=rp({state:t,transaction:f}),{commands:d}=new np({editor:this.editor,state:h});if(d.clearNodes(),!!f.steps.length)return f}})]}}),tq=Bi.create({name:"tabindex",addProseMirrorPlugins(){return[new Ci({key:new zo("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var rq=Object.freeze({__proto__:null,ClipboardTextSerializer:PB,Commands:Kz,Editable:Xz,FocusEvents:Zz,Keymap:eq,Tabindex:tq});const nq=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function sq(r,e,t){const n=document.querySelector(`style[data-tiptap-style${t?`-${t}`:""}]`);if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute(`data-tiptap-style${t?`-${t}`:""}`,""),s.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(s),s}class iq extends _B{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=sq(nq,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=R_(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(t))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(rq):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new Yu(t,this)}createCommandManager(){this.commandManager=new np({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=q_(this.options.content,this.schema,this.options.parseOptions),t=z_(e,this.options.autofocus);this.view=new Bj(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Wu.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Mz(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return Cz(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Az(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Tz(this.state.doc,{blockSeparator:t,textSerializers:{...j_(this.schema),...n}})}get isEmpty(){return Lz(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function x0(r){return new ip({find:r.find,handler:({state:e,range:t,match:n})=>{const s=yr(r.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(V_(t.from,t.to,e.doc).filter(d=>d.mark.type.excluded.find(g=>g===r.type&&g!==d.mark.type)).filter(d=>d.to>c).length)return null;u<t.to&&i.delete(u,t.to),c>t.from&&i.delete(t.from+l,c);const h=t.from+l+o.length;i.addMark(t.from+l,h,r.type.create(s||{})),i.removeStoredMark(r.type)}}})}function U_(r){return new ip({find:r.find,handler:({state:e,range:t,match:n})=>{const s=yr(r.getAttributes,void 0,n)||{},{tr:i}=e,o=t.from;let a=t.to;const l=r.type.create(s);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=o+c;u>a?u=a:a=u+n[1].length;const f=n[0][n[0].length-1];i.insertText(f,o+n[0].length-1),i.replaceWith(u,a,l)}else n[0]&&i.insert(o-1,r.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a));i.scrollIntoView()}})}function Y2(r){return new ip({find:r.find,handler:({state:e,range:t,match:n})=>{const s=e.doc.resolve(t.from),i=yr(r.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,i)}})}function ed(r){return new ip({find:r.find,handler:({state:e,range:t,match:n,chain:s})=>{const i=yr(r.getAttributes,void 0,n)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&Zg(l,r.type,i);if(!c)return null;if(o.wrap(l,c),r.keepMarks&&r.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:d}=r.editor.extensionManager,p=h||f.$to.parentOffset&&f.$from.marks();if(p){const g=p.filter(w=>d.includes(w.type.name));o.ensureMarks(g)}}if(r.keepAttributes){const f=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===r.type&&oc(o.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,u))&&o.join(t.from-1)}})}class pa{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yr(qt(this,"addOptions",{name:this.name}))),this.storage=yr(qt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new pa(e)}configure(e={}){const t=this.extend();return t.options=op(this.options,e),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new pa(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yr(qt(t,"addOptions",{name:t.name})),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&n.removeStoredMark(l),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}}let gs=class Q2{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=yr(qt(this,"addOptions",{name:this.name}))),this.storage=yr(qt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Q2(e)}configure(e={}){const t=this.extend();return t.options=op(this.options,e),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Q2(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=yr(qt(t,"addOptions",{name:t.name})),t.storage=yr(qt(t,"addStorage",{name:t.name,options:t.options})),t}};function k0(r){return new CB({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:s})=>{const i=yr(r.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=t.to;if(a){const u=l.search(/\S/),f=t.from+l.indexOf(a),h=f+a.length;if(V_(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===r.type&&w!==p.mark.type)).filter(p=>p.to>f).length)return null;h<t.to&&o.delete(h,t.to),f>t.from&&o.delete(t.from+u,f),c=t.from+u+a.length,o.addMark(t.from+u,c,r.type.create(i||{})),o.removeStoredMark(r.type)}}})}const oq=/^\s*>\s$/,aq=gs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ed({find:oq,type:this.type})]}}),lq=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,cq=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,uq=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,fq=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,dq=pa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[x0({find:lq,type:this.type}),x0({find:uq,type:this.type})]},addPasteRules(){return[k0({find:cq,type:this.type}),k0({find:fq,type:this.type})]}}),hq=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",xn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),m7=pa.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["span",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:r,commands:e})=>{const t=lp(r,this.type);return Object.entries(t).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),g7=/^\s*([-+*])\s$/,pq=gs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(hq.name,this.editor.getAttributes(m7.name)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=ed({find:g7,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=ed({find:g7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(m7.name),editor:this.editor})),[r]}}),mq=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,gq=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,bq=pa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[x0({find:mq,type:this.type})]},addPasteRules(){return[k0({find:gq,type:this.type})]}}),vq=/^```([a-z]+)?[\s\n]$/,yq=/^~~~([a-z]+)?[\s\n]$/,wq=gs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,i=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",xn(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:s}=t;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:r.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:s,empty:i}=t;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0||n.nodeAt(a)?!1:r.commands.exitCode()}}},addInputRules(){return[Y2({find:vq,type:this.type,getAttributes:r=>({language:r[1]})}),Y2({find:yq,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Ci({key:new zo("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!t||!i)return!1;const{tr:o}=r.state;return o.replaceSelectionWith(this.type.create({language:i})),o.setSelection(tr.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(t.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),r.dispatch(o),!0}}})]}}),_q=gs.create({name:"doc",topNode:!0,content:"block+"});function xq(r={}){return new Ci({view(e){return new kq(e,r)}})}class kq{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),f=a?u.bottom:u.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!i){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=U9(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Sq=Bi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[xq(this.options)]}});class qn extends ir{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return qn.valid(n)?new qn(n):ir.near(n)}content(){return St.empty}eq(e){return e instanceof qn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new qn(e.resolve(t.pos))}getBookmark(){return new b5(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Aq(e)||!Tq(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&qn.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=t;let l=e.doc.resolve(s);if(qn.valid(l))return l}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!er.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*t),n=!1;continue e}break}i=o,s+=t;let a=e.doc.resolve(s);if(qn.valid(a))return a}return null}}}qn.prototype.visible=!1;qn.findFrom=qn.findGapCursorFrom;ir.jsonID("gapcursor",qn);class b5{constructor(e){this.pos=e}map(e){return new b5(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return qn.valid(t)?new qn(t):ir.near(t)}}function Aq(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Tq(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Nq(){return new Ci({props:{decorations:$q,createSelectionBetween(r,e,t){return e.pos==t.pos&&qn.valid(t)?new qn(t):null},handleClick:Cq,handleKeyDown:Mq,handleDOMEvents:{beforeinput:Lq}}})}const Mq=f5({ArrowLeft:oh("horiz",-1),ArrowRight:oh("horiz",1),ArrowUp:oh("vert",-1),ArrowDown:oh("vert",1)});function oh(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof tr){if(!i.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=qn.findGapCursorFrom(a,e,l);return c?(s&&s(n.tr.setSelection(new qn(c))),!0):!1}}function Cq(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!qn.valid(n))return!1;let s=r.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&er.isSelectable(r.state.doc.nodeAt(s.inside))?!1:(r.dispatch(r.state.tr.setSelection(new qn(n))),!0)}function Lq(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof qn))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let s=ot.empty;for(let o=n.length-1;o>=0;o--)s=ot.from(n[o].createAndFill(null,s));let i=r.state.tr.replace(t.pos,t.pos,new St(s,0,0));return i.setSelection(tr.near(i.doc.resolve(t.pos+1))),r.dispatch(i),!1}function $q(r){if(!(r.selection instanceof qn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",zn.create(r.doc,[Ai.widget(r.selection.head,e,{key:"gapcursor"})])}const Oq=Bi.create({name:"gapCursor",addProseMirrorPlugins(){return[Nq()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=yr(qt(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Iq=gs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",xn(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:s,storedMarks:i}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(h=>a.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Eq=gs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,xn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>Y2({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var v1=200,Cs=function(){};Cs.prototype.append=function(e){return e.length?(e=Cs.from(e),!this.length&&e||e.length<v1&&this.leafAppend(e)||this.length<v1&&e.leafPrepend(this)||this.appendInner(e)):this};Cs.prototype.prepend=function(e){return e.length?Cs.from(e).append(this):this};Cs.prototype.appendInner=function(e){return new Pq(this,e)};Cs.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Cs.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Cs.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Cs.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Cs.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},t,n),s};Cs.from=function(e){return e instanceof Cs?e:e&&e.length?new W_(e):Cs.empty};var W_=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=v1)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=v1)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Cs);Cs.empty=new W_([]);var Pq=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(n,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(n,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(n,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(n,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Cs);const Dq=500;class To{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;t&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,h)=>{if(!f.step){s||(s=this.remapping(n,h+1),i=s.maps.length),i--,u.push(f);return}if(s){u.push(new Jo(f.map));let d=f.step.map(s.slice(i)),p;d&&o.maybeStep(d).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new Jo(p,void 0,void 0,c.length+u.length))),i--,p&&s.appendMap(p,i)}else o.maybeStep(f.step);if(f.selection)return a=s?f.selection.map(s.slice(i)):f.selection,l=new To(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,n,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),h=new Jo(e.mapping.maps[u],f,t),d;(d=l&&l.merge(h))&&(h=d,u?i.pop():a=a.slice(0,a.length-1)),i.push(h),t&&(o++,t=void 0),s||(l=h)}let c=o-n.depth;return c>Fq&&(a=Rq(a,c),o-=c),new To(a.append(i),o)}remapping(e,t){let n=new s0;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new To(this.items.append(e.map(t=>new Jo(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},s);let l=t;this.items.forEach(h=>{let d=i.getMirror(--l);if(d==null)return;o=Math.min(o,d);let p=i.maps[d];if(h.step){let g=e.steps[d].invert(e.docs[d]),w=h.selection&&h.selection.map(i.slice(l+1,d));w&&a++,n.push(new Jo(p,g,w))}else n.push(new Jo(p))},s);let c=[];for(let h=t;h<o;h++)c.push(new Jo(i.maps[h]));let u=this.items.slice(0,s).append(c).append(n),f=new To(u,a);return f.emptyItemCount()>Dq&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){let u=o.selection&&o.selection.map(t.slice(n));u&&i++;let f=new Jo(c.invert(),l,u),h,d=s.length-1;(h=s.length&&s[d].merge(f))?s[d]=h:s.push(f)}}else o.map&&n--},this.items.length,0),new To(Cs.from(s.reverse()),i)}}To.empty=new To(Cs.empty,0);function Rq(r,e){let t;return r.forEach((n,s)=>{if(n.selection&&e--==0)return t=s,!1}),r.slice(t)}class Jo{constructor(e,t,n,s){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Jo(t.getMap().invert(),t,this.selection)}}}class Pl{constructor(e,t,n,s,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const Fq=20;function jq(r,e,t,n){let s=t.getMeta(Kl),i;if(s)return s.historyState;t.getMeta(zq)&&(r=new Pl(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(Kl))return o.getMeta(Kl).redo?new Pl(r.done.addTransform(t,void 0,n,Dh(e)),r.undone,b7(t.mapping.maps[t.steps.length-1]),r.prevTime,r.prevComposition):new Pl(r.done,r.undone.addTransform(t,void 0,n,Dh(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=r.prevTime==0||!o&&r.prevComposition!=a&&(r.prevTime<(t.time||0)-n.newGroupDelay||!Bq(t,r.prevRanges)),c=o?Im(r.prevRanges,t.mapping):b7(t.mapping.maps[t.steps.length-1]);return new Pl(r.done.addTransform(t,l?e.selection.getBookmark():void 0,n,Dh(e)),To.empty,c,t.time,a??r.prevComposition)}else return(i=t.getMeta("rebased"))?new Pl(r.done.rebased(t,i),r.undone.rebased(t,i),Im(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Pl(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),Im(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function Bq(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(t=!0)}),t}function b7(r){let e=[];return r.forEach((t,n,s,i)=>e.push(s,i)),e}function Im(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let s=e.map(r[n],1),i=e.map(r[n+1],-1);s<=i&&t.push(s,i)}return t}function Y_(r,e,t,n){let s=Dh(e),i=Kl.get(e).spec.config,o=(n?r.undone:r.done).popEvent(e,s);if(!o)return;let a=o.selection.resolve(o.transform.doc),l=(n?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),c=new Pl(n?l:o.remaining,n?o.remaining:l,null,0,-1);t(o.transform.setSelection(a).setMeta(Kl,{redo:n,historyState:c}).scrollIntoView())}let Em=!1,v7=null;function Dh(r){let e=r.plugins;if(v7!=e){Em=!1,v7=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Em=!0;break}}return Em}const Kl=new zo("history"),zq=new zo("closeHistory");function qq(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Ci({key:Kl,state:{init(){return new Pl(To.empty,To.empty,null,0,-1)},apply(e,t,n){return jq(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,s=n=="historyUndo"?Q_:n=="historyRedo"?G_:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const Q_=(r,e)=>{let t=Kl.getState(r);return!t||t.done.eventCount==0?!1:(e&&Y_(t,r,e,!1),!0)},G_=(r,e)=>{let t=Kl.getState(r);return!t||t.undone.eventCount==0?!1:(e&&Y_(t,r,e,!0),!0)},Hq=Bi.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>Q_(r,e),redo:()=>({state:r,dispatch:e})=>G_(r,e)}},addProseMirrorPlugins(){return[qq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Vq=gs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",xn(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{$to:t}=e.selection,n=r();return t.parentOffset===0?n.insertContentAt(Math.max(t.pos-2,0),{type:this.name}):n.insertContent({type:this.name}),n.command(({tr:s,dispatch:i})=>{var o;if(i){const{$to:a}=s.selection,l=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?s.setSelection(tr.create(s.doc,a.pos+1)):a.nodeAfter.isBlock?s.setSelection(er.create(s.doc,a.pos)):s.setSelection(tr.create(s.doc,a.pos));else{const c=(o=a.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();c&&(s.insert(l,c),s.setSelection(tr.create(s.doc,l+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[U_({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Uq=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Wq=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Yq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Qq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Gq=pa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[x0({find:Uq,type:this.type}),x0({find:Yq,type:this.type})]},addPasteRules(){return[k0({find:Wq,type:this.type}),k0({find:Qq,type:this.type})]}}),Jq=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",xn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Kq=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",xn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),y7=pa.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["span",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:r,commands:e})=>{const t=lp(r,this.type);return Object.entries(t).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),w7=/^(\d+)\.\s$/,Xq=gs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",xn(this.options.HTMLAttributes,t),0]:["ol",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Kq.name,this.editor.getAttributes(y7.name)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=ed({find:w7,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=ed({find:w7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(y7.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),Zq=gs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eH=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,tH=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,rH=pa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",xn(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){const r={};return m5()?r["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():r["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),r},addInputRules(){return[x0({find:eH,type:this.type})]},addPasteRules(){return[k0({find:tH,type:this.type})]}}),nH=gs.create({name:"text",group:"inline"}),sH=Bi.create({name:"starterKit",addExtensions(){var r,e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v;const _=[];return this.options.blockquote!==!1&&_.push(aq.configure((r=this.options)===null||r===void 0?void 0:r.blockquote)),this.options.bold!==!1&&_.push(dq.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&_.push(pq.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&_.push(bq.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&_.push(wq.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&_.push(_q.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&_.push(Sq.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&_.push(Oq.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&_.push(Iq.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&_.push(Eq.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&_.push(Hq.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&_.push(Vq.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&_.push(Gq.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&_.push(Jq.configure((d=this.options)===null||d===void 0?void 0:d.listItem)),this.options.orderedList!==!1&&_.push(Xq.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&_.push(Zq.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&_.push(rH.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&_.push(nH.configure((v=this.options)===null||v===void 0?void 0:v.text)),_}});var G2,J2;if(typeof WeakMap<"u"){let r=new WeakMap;G2=e=>r.get(e),J2=(e,t)=>(r.set(e,t),t)}else{const r=[];let t=0;G2=n=>{for(let s=0;s<r.length;s+=2)if(r[s]==n)return r[s+1]},J2=(n,s)=>(t==10&&(t=0),r[t++]=n,r[t++]=s)}var Hn=class{constructor(r,e,t,n){this.width=r,this.height=e,this.map=t,this.problems=n}findCell(r){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=r)continue;const n=e%this.width,s=e/this.width|0;let i=n+1,o=s+1;for(let a=1;i<this.width&&this.map[e+a]==t;a++)i++;for(let a=1;o<this.height&&this.map[e+this.width*a]==t;a++)o++;return{left:n,top:s,right:i,bottom:o}}throw new RangeError(`No cell with offset ${r} found`)}colCount(r){for(let e=0;e<this.map.length;e++)if(this.map[e]==r)return e%this.width;throw new RangeError(`No cell with offset ${r} found`)}nextCell(r,e,t){const{left:n,right:s,top:i,bottom:o}=this.findCell(r);return e=="horiz"?(t<0?n==0:s==this.width)?null:this.map[i*this.width+(t<0?n-1:s)]:(t<0?i==0:o==this.height)?null:this.map[n+this.width*(t<0?i-1:o)]}rectBetween(r,e){const{left:t,right:n,top:s,bottom:i}=this.findCell(r),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(s,l),right:Math.max(n,a),bottom:Math.max(i,c)}}cellsInRect(r){const e=[],t={};for(let n=r.top;n<r.bottom;n++)for(let s=r.left;s<r.right;s++){const i=n*this.width+s,o=this.map[i];t[o]||(t[o]=!0,!(s==r.left&&s&&this.map[i-1]==o||n==r.top&&n&&this.map[i-this.width]==o)&&e.push(o))}return e}positionAt(r,e,t){for(let n=0,s=0;;n++){const i=s+t.child(n).nodeSize;if(n==r){let o=e+r*this.width;const a=(r+1)*this.width;for(;o<a&&this.map[o]<s;)o++;return o==a?i-1:this.map[o]}s=i}}static get(r){return G2(r)||J2(r,iH(r))}};function iH(r){if(r.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+r.type.name);const e=oH(r),t=r.childCount,n=[];let s=0,i=null;const o=[];for(let c=0,u=e*t;c<u;c++)n[c]=0;for(let c=0,u=0;c<t;c++){const f=r.child(c);u++;for(let p=0;;p++){for(;s<n.length&&n[s]!=0;)s++;if(p==f.childCount)break;const g=f.child(p),{colspan:w,rowspan:v,colwidth:_}=g.attrs;for(let k=0;k<v;k++){if(k+c>=t){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:v-k});break}const A=s+k*e;for(let C=0;C<w;C++){n[A+C]==0?n[A+C]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:w-C});const N=_&&_[C];if(N){const T=(A+C)%e*2,O=o[T];O==null||O!=N&&o[T+1]==1?(o[T]=N,o[T+1]=1):O==N&&o[T+1]++}}}s+=w,u+=g.nodeSize}const h=(c+1)*e;let d=0;for(;s<h;)n[s++]==0&&d++;d&&(i||(i=[])).push({type:"missing",row:c,n:d}),u++}const a=new Hn(e,t,n,i);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<t&&(l=!0);return l&&aH(a,o,r),a}function oH(r){let e=-1,t=!1;for(let n=0;n<r.childCount;n++){const s=r.child(n);let i=0;if(t)for(let o=0;o<n;o++){const a=r.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>n&&(i+=c.attrs.colspan)}}for(let o=0;o<s.childCount;o++){const a=s.child(o);i+=a.attrs.colspan,a.attrs.rowspan>1&&(t=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function aH(r,e,t){r.problems||(r.problems=[]);const n={};for(let s=0;s<r.map.length;s++){const i=r.map[s];if(n[i])continue;n[i]=!0;const o=t.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(s+c)%r.width,f=e[u*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((a||(a=lH(l)))[c]=f)}a&&r.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}function lH(r){if(r.colwidth)return r.colwidth.slice();const e=[];for(let t=0;t<r.colspan;t++)e.push(0);return e}function Js(r){let e=r.cached.tableNodeTypes;if(!e){e=r.cached.tableNodeTypes={};for(const t in r.nodes){const n=r.nodes[t],s=n.spec.tableRole;s&&(e[s]=n)}}return e}var Rl=new zo("selectingCells");function $0(r){for(let e=r.depth-1;e>0;e--)if(r.node(e).type.spec.tableRole=="row")return r.node(0).resolve(r.before(e+1));return null}function cH(r){for(let e=r.depth;e>0;e--){const t=r.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return r.node(e)}return null}function qo(r){const e=r.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function cp(r){const e=r.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=$0(e.$head)||uH(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function uH(r){for(let e=r.nodeAfter,t=r.pos;e;e=e.firstChild,t++){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return r.doc.resolve(t)}for(let e=r.nodeBefore,t=r.pos;e;e=e.lastChild,t--){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return r.doc.resolve(t-e.nodeSize)}}function K2(r){return r.parent.type.spec.tableRole=="row"&&!!r.nodeAfter}function fH(r){return r.node(0).resolve(r.pos+r.nodeAfter.nodeSize)}function v5(r,e){return r.depth==e.depth&&r.pos>=e.start(-1)&&r.pos<=e.end(-1)}function J_(r,e,t){const n=r.node(-1),s=Hn.get(n),i=r.start(-1),o=s.nextCell(r.pos-i,e,t);return o==null?null:r.node(0).resolve(i+o)}function Qc(r,e,t=1){const n={...r,colspan:r.colspan-t};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,t),n.colwidth.some(s=>s>0)||(n.colwidth=null)),n}function K_(r,e,t=1){const n={...r,colspan:r.colspan+t};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let s=0;s<t;s++)n.colwidth.splice(e,0,0)}return n}function dH(r,e,t){const n=Js(e.type.schema).header_cell;for(let s=0;s<r.height;s++)if(e.nodeAt(r.map[t+s*r.width]).type!=n)return!1;return!0}var Or=class extends ir{constructor(r,e=r){const t=r.node(-1),n=Hn.get(t),s=r.start(-1),i=n.rectBetween(r.pos-s,e.pos-s),o=r.node(0),a=n.cellsInRect(i).filter(c=>c!=e.pos-s);a.unshift(e.pos-s);const l=a.map(c=>{const u=t.nodeAt(c);if(!u)throw RangeError(`No cell with offset ${c} found`);const f=s+c+1;return new K9(o.resolve(f),o.resolve(f+u.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=r,this.$headCell=e}map(r,e){const t=r.resolve(e.map(this.$anchorCell.pos)),n=r.resolve(e.map(this.$headCell.pos));if(K2(t)&&K2(n)&&v5(t,n)){const s=this.$anchorCell.node(-1)!=t.node(-1);return s&&this.isRowSelection()?Or.rowSelection(t,n):s&&this.isColSelection()?Or.colSelection(t,n):new Or(t,n)}return tr.between(t,n)}content(){const r=this.$anchorCell.node(-1),e=Hn.get(r),t=this.$anchorCell.start(-1),n=e.rectBetween(this.$anchorCell.pos-t,this.$headCell.pos-t),s={},i=[];for(let a=n.top;a<n.bottom;a++){const l=[];for(let c=a*e.width+n.left,u=n.left;u<n.right;u++,c++){const f=e.map[c];if(s[f])continue;s[f]=!0;const h=e.findCell(f);let d=r.nodeAt(f);if(!d)throw RangeError(`No cell with offset ${f} found`);const p=n.left-h.left,g=h.right-n.right;if(p>0||g>0){let w=d.attrs;if(p>0&&(w=Qc(w,0,p)),g>0&&(w=Qc(w,w.colspan-g,g)),h.left<n.left){if(d=d.type.createAndFill(w),!d)throw RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else d=d.type.create(w,d.content)}if(h.top<n.top||h.bottom>n.bottom){const w={...d.attrs,rowspan:Math.min(h.bottom,n.bottom)-Math.max(h.top,n.top)};h.top<n.top?d=d.type.createAndFill(w):d=d.type.create(w,d.content)}l.push(d)}i.push(r.child(a).copy(ot.from(l)))}const o=this.isColSelection()&&this.isRowSelection()?r:i;return new St(ot.from(o),1,1)}replace(r,e=St.empty){const t=r.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){const{$from:o,$to:a}=n[i],l=r.mapping.slice(t);r.replace(l.map(o.pos),l.map(a.pos),i?St.empty:e)}const s=ir.findFrom(r.doc.resolve(r.mapping.slice(t).map(this.to)),-1);s&&r.setSelection(s)}replaceWith(r,e){this.replace(r,new St(ot.from(e),0,0))}forEachCell(r){const e=this.$anchorCell.node(-1),t=Hn.get(e),n=this.$anchorCell.start(-1),s=t.cellsInRect(t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n));for(let i=0;i<s.length;i++)r(e.nodeAt(s[i]),n+s[i])}isColSelection(){const r=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(r,e)>0)return!1;const t=r+this.$anchorCell.nodeAfter.attrs.rowspan,n=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(t,n)==this.$headCell.node(-1).childCount}static colSelection(r,e=r){const t=r.node(-1),n=Hn.get(t),s=r.start(-1),i=n.findCell(r.pos-s),o=n.findCell(e.pos-s),a=r.node(0);return i.top<=o.top?(i.top>0&&(r=a.resolve(s+n.map[i.left])),o.bottom<n.height&&(e=a.resolve(s+n.map[n.width*(n.height-1)+o.right-1]))):(o.top>0&&(e=a.resolve(s+n.map[o.left])),i.bottom<n.height&&(r=a.resolve(s+n.map[n.width*(n.height-1)+i.right-1]))),new Or(r,e)}isRowSelection(){const r=this.$anchorCell.node(-1),e=Hn.get(r),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),s=e.colCount(this.$headCell.pos-t);if(Math.min(n,s)>0)return!1;const i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==e.width}eq(r){return r instanceof Or&&r.$anchorCell.pos==this.$anchorCell.pos&&r.$headCell.pos==this.$headCell.pos}static rowSelection(r,e=r){const t=r.node(-1),n=Hn.get(t),s=r.start(-1),i=n.findCell(r.pos-s),o=n.findCell(e.pos-s),a=r.node(0);return i.left<=o.left?(i.left>0&&(r=a.resolve(s+n.map[i.top*n.width])),o.right<n.width&&(e=a.resolve(s+n.map[n.width*(o.top+1)-1]))):(o.left>0&&(e=a.resolve(s+n.map[o.top*n.width])),i.right<n.width&&(r=a.resolve(s+n.map[n.width*(i.top+1)-1]))),new Or(r,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(r,e){return new Or(r.resolve(e.anchor),r.resolve(e.head))}static create(r,e,t=e){return new Or(r.resolve(e),r.resolve(t))}getBookmark(){return new X_(this.$anchorCell.pos,this.$headCell.pos)}};Or.prototype.visible=!1;ir.jsonID("cell",Or);var X_=class{constructor(r,e){this.anchor=r,this.head=e}map(r){return new X_(r.map(this.anchor),r.map(this.head))}resolve(r){const e=r.resolve(this.anchor),t=r.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&t.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&t.index()<t.parent.childCount&&v5(e,t)?new Or(e,t):ir.near(t,1)}};function hH(r){if(!(r.selection instanceof Or))return null;const e=[];return r.selection.forEachCell((t,n)=>{e.push(Ai.node(n,n+t.nodeSize,{class:"selectedCell"}))}),zn.create(r.doc,e)}function pH({$from:r,$to:e}){if(r.pos==e.pos||r.pos<r.pos-6)return!1;let t=r.pos,n=e.pos,s=r.depth;for(;s>=0&&!(r.after(s+1)<r.end(s));s--,t++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,n--);return t==n&&/row|table/.test(r.node(s).type.spec.tableRole)}function mH({$from:r,$to:e}){let t,n;for(let s=r.depth;s>0;s--){const i=r.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){t=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}return t!==n&&e.parentOffset===0}function gH(r,e,t){const n=(e||r).selection,s=(e||r).doc;let i,o;if(n instanceof er&&(o=n.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")i=Or.create(s,n.from);else if(o=="row"){const a=s.resolve(n.from+1);i=Or.rowSelection(a,a)}else if(!t){const a=Hn.get(n.node),l=n.from+1,c=l+a.map[a.width*a.height-1];i=Or.create(s,l+1,c)}}else n instanceof tr&&pH(n)?i=tr.create(s,n.from):n instanceof tr&&mH(n)&&(i=tr.create(s,n.$from.start(),n.$from.end()));return i&&(e||(e=r.tr)).setSelection(i),e}var bH=new zo("fix-tables");function Z_(r,e,t,n){const s=r.childCount,i=e.childCount;e:for(let o=0,a=0;o<i;o++){const l=e.child(o);for(let c=a,u=Math.min(s,o+3);c<u;c++)if(r.child(c)==l){a=c+1,t+=l.nodeSize;continue e}n(l,t),a<s&&r.child(a).sameMarkup(l)?Z_(r.child(a),l,t+1,n):l.nodesBetween(0,l.content.size,n,t+1),t+=l.nodeSize}}function ex(r,e){let t;const n=(s,i)=>{s.type.spec.tableRole=="table"&&(t=vH(r,s,i,t))};return e?e.doc!=r.doc&&Z_(e.doc,r.doc,0,n):r.doc.descendants(n),t}function vH(r,e,t,n){const s=Hn.get(e);if(!s.problems)return n;n||(n=r.tr);const i=[];for(let l=0;l<s.height;l++)i.push(0);for(let l=0;l<s.problems.length;l++){const c=s.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const f=u.attrs;for(let h=0;h<f.rowspan;h++)i[c.row+h]+=c.n;n.setNodeMarkup(n.mapping.map(t+1+c.pos),null,Qc(f,f.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(t+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;n.setNodeMarkup(n.mapping.map(t+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<i.length;l++)i[l]&&(o==null&&(o=l),a=l);for(let l=0,c=t+1;l<s.height;l++){const u=e.child(l),f=c+u.nodeSize,h=i[l];if(h>0){let d="cell";u.firstChild&&(d=u.firstChild.type.spec.tableRole);const p=[];for(let w=0;w<h;w++){const v=Js(r.schema)[d].createAndFill();v&&p.push(v)}const g=(l==0||o==l-1)&&a==l?c+1:f-1;n.insert(n.mapping.map(g),p)}c=f}return n.setMeta(bH,{fixTables:!0})}function yH(r){if(!r.size)return null;let{content:e,openStart:t,openEnd:n}=r;for(;e.childCount==1&&(t>0&&n>0||e.child(0).type.spec.tableRole=="table");)t--,n--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,o=s.type.schema,a=[];if(i=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,t-1),f=l<e.childCount-1?0:Math.max(0,n-1);(u||f)&&(c=X2(Js(o).row,new St(c,u,f)).content),a.push(c)}else if(i=="cell"||i=="header_cell")a.push(t||n?X2(Js(o).row,new St(e,t,n)).content:e);else return null;return wH(o,a)}function wH(r,e){const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(let o=i.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=i.child(o).attrs;for(let c=s;c<s+a;c++)t[c]=(t[c]||0)+l}}let n=0;for(let s=0;s<t.length;s++)n=Math.max(n,t[s]);for(let s=0;s<t.length;s++)if(s>=e.length&&e.push(ot.empty),t[s]<n){const i=Js(r).cell.createAndFill(),o=[];for(let a=t[s];a<n;a++)o.push(i);e[s]=e[s].append(ot.from(o))}return{height:e.length,width:n,rows:e}}function X2(r,e){const t=r.createAndFill();return new J9(t).replace(0,t.content.size,e).doc}function _H({width:r,height:e,rows:t},n,s){if(r!=n){const i=[],o=[];for(let a=0;a<t.length;a++){const l=t[a],c=[];for(let u=i[a]||0,f=0;u<n;f++){let h=l.child(f%l.childCount);u+h.attrs.colspan>n&&(h=h.type.createChecked(Qc(h.attrs,h.attrs.colspan,u+h.attrs.colspan-n),h.content)),c.push(h),u+=h.attrs.colspan;for(let d=1;d<h.attrs.rowspan;d++)i[a+d]=(i[a+d]||0)+h.attrs.colspan}o.push(ot.from(c))}t=o,r=n}if(e!=s){const i=[];for(let o=0,a=0;o<s;o++,a++){const l=[],c=t[a%e];for(let u=0;u<c.childCount;u++){let f=c.child(u);o+f.attrs.rowspan>s&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,s-f.attrs.rowspan)},f.content)),l.push(f)}i.push(ot.from(l))}t=i,e=s}return{width:r,height:e,rows:t}}function xH(r,e,t,n,s,i,o){const a=r.doc.type.schema,l=Js(a);let c,u;if(s>e.width)for(let f=0,h=0;f<e.height;f++){const d=t.child(f);h+=d.nodeSize;const p=[];let g;d.lastChild==null||d.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let w=e.width;w<s;w++)p.push(g);r.insert(r.mapping.slice(o).map(h-1+n),p)}if(i>e.height){const f=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,s);p++){const w=p>=e.width?!1:t.nodeAt(e.map[g+p]).type==l.header_cell;f.push(w?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,ot.from(f)),d=[];for(let p=e.height;p<i;p++)d.push(h);r.insert(r.mapping.slice(o).map(n+t.nodeSize-2),d)}return!!(c||u)}function _7(r,e,t,n,s,i,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=s;c<i;c++){const u=o*e.width+c,f=e.map[u];if(e.map[u-e.width]==f){l=!0;const h=t.nodeAt(f),{top:d,left:p}=e.findCell(f);r.setNodeMarkup(r.mapping.slice(a).map(f+n),null,{...h.attrs,rowspan:o-d}),r.insert(r.mapping.slice(a).map(e.positionAt(o,p,t)),h.type.createAndFill({...h.attrs,rowspan:d+h.attrs.rowspan-o})),c+=h.attrs.colspan-1}}return l}function x7(r,e,t,n,s,i,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=s;c<i;c++){const u=c*e.width+o,f=e.map[u];if(e.map[u-1]==f){l=!0;const h=t.nodeAt(f),d=e.colCount(f),p=r.mapping.slice(a).map(f+n);r.setNodeMarkup(p,null,Qc(h.attrs,o-d,h.attrs.colspan-(o-d))),r.insert(p+h.nodeSize,h.type.createAndFill(Qc(h.attrs,0,o-d))),c+=h.attrs.rowspan-1}}return l}function k7(r,e,t,n,s){let i=t?r.doc.nodeAt(t-1):r.doc;if(!i)throw new Error("No table found");let o=Hn.get(i);const{top:a,left:l}=n,c=l+s.width,u=a+s.height,f=r.tr;let h=0;function d(){if(i=t?f.doc.nodeAt(t-1):f.doc,!i)throw new Error("No table found");o=Hn.get(i),h=f.mapping.maps.length}xH(f,o,i,t,c,u,h)&&d(),_7(f,o,i,t,l,c,a,h)&&d(),_7(f,o,i,t,l,c,u,h)&&d(),x7(f,o,i,t,a,u,l,h)&&d(),x7(f,o,i,t,a,u,c,h)&&d();for(let p=a;p<u;p++){const g=o.positionAt(p,l,i),w=o.positionAt(p,c,i);f.replace(f.mapping.slice(h).map(g+t),f.mapping.slice(h).map(w+t),new St(s.rows[p-a],0,0))}d(),f.setSelection(new Or(f.doc.resolve(t+o.positionAt(a,l,i)),f.doc.resolve(t+o.positionAt(u-1,c-1,i)))),e(f)}var kH=f5({ArrowLeft:ah("horiz",-1),ArrowRight:ah("horiz",1),ArrowUp:ah("vert",-1),ArrowDown:ah("vert",1),"Shift-ArrowLeft":lh("horiz",-1),"Shift-ArrowRight":lh("horiz",1),"Shift-ArrowUp":lh("vert",-1),"Shift-ArrowDown":lh("vert",1),Backspace:ch,"Mod-Backspace":ch,Delete:ch,"Mod-Delete":ch});function Rh(r,e,t){return t.eq(r.selection)?!1:(e&&e(r.tr.setSelection(t).scrollIntoView()),!0)}function ah(r,e){return(t,n,s)=>{if(!s)return!1;const i=t.selection;if(i instanceof Or)return Rh(t,n,ir.near(i.$headCell,e));if(r!="horiz"&&!i.empty)return!1;const o=tx(s,r,e);if(o==null)return!1;if(r=="horiz")return Rh(t,n,ir.near(t.doc.resolve(i.head+e),e));{const a=t.doc.resolve(o),l=J_(a,r,e);let c;return l?c=ir.near(l,1):e<0?c=ir.near(t.doc.resolve(a.before(-1)),-1):c=ir.near(t.doc.resolve(a.after(-1)),1),Rh(t,n,c)}}}function lh(r,e){return(t,n,s)=>{if(!s)return!1;const i=t.selection;let o;if(i instanceof Or)o=i;else{const l=tx(s,r,e);if(l==null)return!1;o=new Or(t.doc.resolve(l))}const a=J_(o.$headCell,r,e);return a?Rh(t,n,new Or(o.$anchorCell,a)):!1}}function ch(r,e){const t=r.selection;if(!(t instanceof Or))return!1;if(e){const n=r.tr,s=Js(r.schema).cell.createAndFill().content;t.forEachCell((i,o)=>{i.content.eq(s)||n.replace(n.mapping.map(o+1),n.mapping.map(o+i.nodeSize-1),new St(s,0,0))}),n.docChanged&&e(n)}return!0}function SH(r,e){const t=r.state.doc,n=$0(t.resolve(e));return n?(r.dispatch(r.state.tr.setSelection(new Or(n))),!0):!1}function AH(r,e,t){if(!qo(r.state))return!1;let n=yH(t);const s=r.state.selection;if(s instanceof Or){n||(n={width:1,height:1,rows:[ot.from(X2(Js(r.state.schema).cell,t))]});const i=s.$anchorCell.node(-1),o=s.$anchorCell.start(-1),a=Hn.get(i).rectBetween(s.$anchorCell.pos-o,s.$headCell.pos-o);return n=_H(n,a.right-a.left,a.bottom-a.top),k7(r.state,r.dispatch,o,a,n),!0}else if(n){const i=cp(r.state),o=i.start(-1);return k7(r.state,r.dispatch,o,Hn.get(i.node(-1)).findCell(i.pos-o),n),!0}else return!1}function TH(r,e){var t;if(e.ctrlKey||e.metaKey)return;const n=S7(r,e.target);let s;if(e.shiftKey&&r.state.selection instanceof Or)i(r.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(s=$0(r.state.selection.$anchor))!=null&&((t=Pm(r,e))==null?void 0:t.pos)!=s.pos)i(s,e),e.preventDefault();else if(!n)return;function i(l,c){let u=Pm(r,c);const f=Rl.getState(r.state)==null;if(!u||!v5(l,u))if(f)u=l;else return;const h=new Or(l,u);if(f||!r.state.selection.eq(h)){const d=r.state.tr.setSelection(h);f&&d.setMeta(Rl,l.pos),r.dispatch(d)}}function o(){r.root.removeEventListener("mouseup",o),r.root.removeEventListener("dragstart",o),r.root.removeEventListener("mousemove",a),Rl.getState(r.state)!=null&&r.dispatch(r.state.tr.setMeta(Rl,-1))}function a(l){const c=l,u=Rl.getState(r.state);let f;if(u!=null)f=r.state.doc.resolve(u);else if(S7(r,c.target)!=n&&(f=Pm(r,e),!f))return o();f&&i(f,c)}r.root.addEventListener("mouseup",o),r.root.addEventListener("dragstart",o),r.root.addEventListener("mousemove",a)}function tx(r,e,t){if(!(r.state.selection instanceof tr))return null;const{$head:n}=r.state.selection;for(let s=n.depth-1;s>=0;s--){const i=n.node(s);if((t<0?n.index(s):n.indexAfter(s))!=(t<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=n.before(s),l=e=="vert"?t>0?"down":"up":t>0?"right":"left";return r.endOfTextblock(l)?a:null}}return null}function S7(r,e){for(;e&&e!=r.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Pm(r,e){const t=r.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?$0(r.state.doc.resolve(t.pos)):null}var NH=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Z2(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Z2(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Z2(r,e,t,n,s,i){var o;let a=0,l=!0,c=e.firstChild;const u=r.firstChild;if(u){for(let f=0,h=0;f<u.childCount;f++){const{colspan:d,colwidth:p}=u.child(f).attrs;for(let g=0;g<d;g++,h++){const w=s==h?i:p&&p[g],v=w?w+"px":"";a+=w||n,w||(l=!1),c?(c.style.width!=v&&(c.style.width=v),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=v}}for(;c;){const f=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=f}l?(t.style.width=a+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=a+"px")}}var Zi=new zo("tableColumnResizing");function MH({handleWidth:r=5,cellMinWidth:e=25,View:t=NH,lastColumnResizable:n=!0}={}){const s=new Ci({key:Zi,state:{init(i,o){return s.spec.props.nodeViews[Js(o.schema).table.name]=(a,l)=>new t(a,e,l),new Fh(-1,!1)},apply(i,o){return o.apply(i)}},props:{attributes:i=>{const o=Zi.getState(i);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(i,o)=>{CH(i,o,r,e,n)},mouseleave:i=>{LH(i)},mousedown:(i,o)=>{$H(i,o,e)}},decorations:i=>{const o=Zi.getState(i);if(o&&o.activeHandle>-1)return RH(i,o.activeHandle)},nodeViews:{}}});return s}var Fh=class{constructor(r,e){this.activeHandle=r,this.dragging=e}apply(r){const e=this,t=r.getMeta(Zi);if(t&&t.setHandle!=null)return new Fh(t.setHandle,!1);if(t&&t.setDragging!==void 0)return new Fh(e.activeHandle,t.setDragging);if(e.activeHandle>-1&&r.docChanged){let n=r.mapping.map(e.activeHandle,-1);return K2(r.doc.resolve(n))||(n=-1),new Fh(n,e.dragging)}return e}};function CH(r,e,t,n,s){const i=Zi.getState(r.state);if(i&&!i.dragging){const o=IH(e.target);let a=-1;if(o){const{left:l,right:c}=o.getBoundingClientRect();e.clientX-l<=t?a=A7(r,e,"left",t):c-e.clientX<=t&&(a=A7(r,e,"right",t))}if(a!=i.activeHandle){if(!s&&a!==-1){const l=r.state.doc.resolve(a),c=l.node(-1),u=Hn.get(c),f=l.start(-1);if(u.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==u.width-1)return}rx(r,a)}}}function LH(r){const e=Zi.getState(r.state);e&&e.activeHandle>-1&&!e.dragging&&rx(r,-1)}function $H(r,e,t){const n=Zi.getState(r.state);if(!n||n.activeHandle==-1||n.dragging)return!1;const s=r.state.doc.nodeAt(n.activeHandle),i=OH(r,n.activeHandle,s.attrs);r.dispatch(r.state.tr.setMeta(Zi,{setDragging:{startX:e.clientX,startWidth:i}}));function o(l){window.removeEventListener("mouseup",o),window.removeEventListener("mousemove",a);const c=Zi.getState(r.state);c!=null&&c.dragging&&(EH(r,c.activeHandle,T7(c.dragging,l,t)),r.dispatch(r.state.tr.setMeta(Zi,{setDragging:null})))}function a(l){if(!l.which)return o(l);const c=Zi.getState(r.state);if(c&&c.dragging){const u=T7(c.dragging,l,t);PH(r,c.activeHandle,u,t)}}return window.addEventListener("mouseup",o),window.addEventListener("mousemove",a),e.preventDefault(),!0}function OH(r,e,{colspan:t,colwidth:n}){const s=n&&n[n.length-1];if(s)return s;const i=r.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=t;if(n)for(let c=0;c<t;c++)n[c]&&(a-=n[c],l--);return a/l}function IH(r){for(;r&&r.nodeName!="TD"&&r.nodeName!="TH";)r=r.classList&&r.classList.contains("ProseMirror")?null:r.parentNode;return r}function A7(r,e,t,n){const s=t=="right"?-n:n,i=r.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:o}=i,a=$0(r.state.doc.resolve(o));if(!a)return-1;if(t=="right")return a.pos;const l=Hn.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function T7(r,e,t){const n=e.clientX-r.startX;return Math.max(t,r.startWidth+n)}function rx(r,e){r.dispatch(r.state.tr.setMeta(Zi,{setHandle:e}))}function EH(r,e,t){const n=r.state.doc.resolve(e),s=n.node(-1),i=Hn.get(s),o=n.start(-1),a=i.colCount(n.pos-o)+n.nodeAfter.attrs.colspan-1,l=r.state.tr;for(let c=0;c<i.height;c++){const u=c*i.width+a;if(c&&i.map[u]==i.map[u-i.width])continue;const f=i.map[u],h=s.nodeAt(f).attrs,d=h.colspan==1?0:a-i.colCount(f);if(h.colwidth&&h.colwidth[d]==t)continue;const p=h.colwidth?h.colwidth.slice():DH(h.colspan);p[d]=t,l.setNodeMarkup(o+f,null,{...h,colwidth:p})}l.docChanged&&r.dispatch(l)}function PH(r,e,t,n){const s=r.state.doc.resolve(e),i=s.node(-1),o=s.start(-1),a=Hn.get(i).colCount(s.pos-o)+s.nodeAfter.attrs.colspan-1;let l=r.domAtPos(s.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Z2(i,l.firstChild,l,n,a,t)}function DH(r){return Array(r).fill(0)}function RH(r,e){const t=[],n=r.doc.resolve(e),s=n.node(-1);if(!s)return zn.empty;const i=Hn.get(s),o=n.start(-1),a=i.colCount(n.pos-o)+n.nodeAfter.attrs.colspan;for(let l=0;l<i.height;l++){const c=a+l*i.width-1;if((a==i.width||i.map[c]!=i.map[c+1])&&(l==0||i.map[c]!=i.map[c-i.width])){const u=i.map[c],f=o+u+s.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",t.push(Ai.widget(f,h))}}return zn.create(r.doc,t)}function ya(r){const e=r.selection,t=cp(r),n=t.node(-1),s=t.start(-1),i=Hn.get(n);return{...e instanceof Or?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(t.pos-s),tableStart:s,map:i,table:n}}function nx(r,{map:e,tableStart:t,table:n},s){let i=s>0?-1:0;dH(e,n,s+i)&&(i=s==0||s==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+s;if(s>0&&s<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=n.nodeAt(l);r.setNodeMarkup(r.mapping.map(t+l),null,K_(c.attrs,s-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=i==null?Js(n.type.schema).cell:n.nodeAt(e.map[a+i]).type,c=e.positionAt(o,s,n);r.insert(r.mapping.map(t+c),l.createAndFill())}}return r}function FH(r,e){if(!qo(r))return!1;if(e){const t=ya(r);e(nx(r.tr,t,t.left))}return!0}function jH(r,e){if(!qo(r))return!1;if(e){const t=ya(r);e(nx(r.tr,t,t.right))}return!0}function BH(r,{map:e,table:t,tableStart:n},s){const i=r.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+s,l=e.map[a],c=t.nodeAt(l),u=c.attrs;if(s>0&&e.map[a-1]==l||s<e.width-1&&e.map[a+1]==l)r.setNodeMarkup(r.mapping.slice(i).map(n+l),null,Qc(u,s-e.colCount(l)));else{const f=r.mapping.slice(i).map(n+l);r.delete(f,f+c.nodeSize)}o+=u.rowspan}}function zH(r,e){if(!qo(r))return!1;if(e){const t=ya(r),n=r.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let s=t.right-1;BH(n,t,s),s!=t.left;s--){const i=t.tableStart?n.doc.nodeAt(t.tableStart-1):n.doc;if(!i)throw RangeError("No table found");t.table=i,t.map=Hn.get(i)}e(n)}return!0}function qH(r,e,t){var n;const s=Js(e.type.schema).header_cell;for(let i=0;i<r.width;i++)if(((n=e.nodeAt(r.map[i+t*r.width]))==null?void 0:n.type)!=s)return!1;return!0}function sx(r,{map:e,tableStart:t,table:n},s){var i;let o=t;for(let c=0;c<s;c++)o+=n.child(c).nodeSize;const a=[];let l=s>0?-1:0;qH(e,n,s+l)&&(l=s==0||s==e.height?null:0);for(let c=0,u=e.width*s;c<e.width;c++,u++)if(s>0&&s<e.height&&e.map[u]==e.map[u-e.width]){const f=e.map[u],h=n.nodeAt(f).attrs;r.setNodeMarkup(t+f,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{const f=l==null?Js(n.type.schema).cell:(i=n.nodeAt(e.map[u+l*e.width]))==null?void 0:i.type,h=f==null?void 0:f.createAndFill();h&&a.push(h)}return r.insert(o,Js(n.type.schema).row.create(null,a)),r}function HH(r,e){if(!qo(r))return!1;if(e){const t=ya(r);e(sx(r.tr,t,t.top))}return!0}function VH(r,e){if(!qo(r))return!1;if(e){const t=ya(r);e(sx(r.tr,t,t.bottom))}return!0}function UH(r,{map:e,table:t,tableStart:n},s){let i=0;for(let l=0;l<s;l++)i+=t.child(l).nodeSize;const o=i+t.child(s).nodeSize,a=r.mapping.maps.length;r.delete(i+n,o+n);for(let l=0,c=s*e.width;l<e.width;l++,c++){const u=e.map[c];if(s>0&&u==e.map[c-e.width]){const f=t.nodeAt(u).attrs;r.setNodeMarkup(r.mapping.slice(a).map(u+n),null,{...f,rowspan:f.rowspan-1}),l+=f.colspan-1}else if(s<e.width&&u==e.map[c+e.width]){const f=t.nodeAt(u),h=f.attrs,d=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),p=e.positionAt(s+1,l,t);r.insert(r.mapping.slice(a).map(n+p),d),l+=h.colspan-1}}}function WH(r,e){if(!qo(r))return!1;if(e){const t=ya(r),n=r.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let s=t.bottom-1;UH(n,t,s),s!=t.top;s--){const i=t.tableStart?n.doc.nodeAt(t.tableStart-1):n.doc;if(!i)throw RangeError("No table found");t.table=i,t.map=Hn.get(t.table)}e(n)}return!0}function N7(r){const e=r.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function YH({width:r,height:e,map:t},n){let s=n.top*r+n.left,i=s,o=(n.bottom-1)*r+n.left,a=s+(n.right-n.left-1);for(let l=n.top;l<n.bottom;l++){if(n.left>0&&t[i]==t[i-1]||n.right<r&&t[a]==t[a+1])return!0;i+=r,a+=r}for(let l=n.left;l<n.right;l++){if(n.top>0&&t[s]==t[s-r]||n.bottom<e&&t[o]==t[o+r])return!0;s++,o++}return!1}function M7(r,e){const t=r.selection;if(!(t instanceof Or)||t.$anchorCell.pos==t.$headCell.pos)return!1;const n=ya(r),{map:s}=n;if(YH(s,n))return!1;if(e){const i=r.tr,o={};let a=ot.empty,l,c;for(let u=n.top;u<n.bottom;u++)for(let f=n.left;f<n.right;f++){const h=s.map[u*s.width+f],d=n.table.nodeAt(h);if(!(o[h]||!d))if(o[h]=!0,l==null)l=h,c=d;else{N7(d)||(a=a.append(d.content));const p=i.mapping.map(h+n.tableStart);i.delete(p,p+d.nodeSize)}}if(l==null||c==null)return!0;if(i.setNodeMarkup(l+n.tableStart,null,{...K_(c.attrs,c.attrs.colspan,n.right-n.left-c.attrs.colspan),rowspan:n.bottom-n.top}),a.size){const u=l+1+c.content.size,f=N7(c)?l+1:u;i.replaceWith(f+n.tableStart,u+n.tableStart,a)}i.setSelection(new Or(i.doc.resolve(l+n.tableStart))),e(i)}return!0}function C7(r,e){const t=Js(r.schema);return QH(({node:n})=>t[n.type.spec.tableRole])(r,e)}function QH(r){return(e,t)=>{var n;const s=e.selection;let i,o;if(s instanceof Or){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,o=s.$anchorCell.pos}else{if(i=cH(s.$from),!i)return!1;o=(n=$0(s.$from))==null?void 0:n.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(t){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=ya(e),f=e.tr;for(let d=0;d<u.right-u.left;d++)l.push(c?{...a,colwidth:c&&c[d]?[c[d]]:null}:a);let h;for(let d=u.top;d<u.bottom;d++){let p=u.map.positionAt(d,u.left,u.table);d==u.top&&(p+=i.nodeSize);for(let g=u.left,w=0;g<u.right;g++,w++)g==u.left&&d==u.top||f.insert(h=f.mapping.map(p+u.tableStart,1),r({node:i,row:d,col:g}).createAndFill(l[w]))}f.setNodeMarkup(o,r({node:i,row:u.top,col:u.left}),l[0]),s instanceof Or&&f.setSelection(new Or(f.doc.resolve(s.$anchorCell.pos),h?f.doc.resolve(h):void 0)),t(f)}return!0}}function GH(r,e){return function(t,n){if(!qo(t))return!1;const s=cp(t);if(s.nodeAfter.attrs[r]===e)return!1;if(n){const i=t.tr;t.selection instanceof Or?t.selection.forEachCell((o,a)=>{o.attrs[r]!==e&&i.setNodeMarkup(a,null,{...o.attrs,[r]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[r]:e}),n(i)}return!0}}function JH(r){return function(e,t){if(!qo(e))return!1;if(t){const n=Js(e.schema),s=ya(e),i=e.tr,o=s.map.cellsInRect(r=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:r=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),a=o.map(l=>s.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==n.header_cell&&i.setNodeMarkup(s.tableStart+o[l],n.cell,a[l].attrs);if(i.steps.length==0)for(let l=0;l<o.length;l++)i.setNodeMarkup(s.tableStart+o[l],n.header_cell,a[l].attrs);t(i)}return!0}}function L7(r,e,t){const n=e.map.cellsInRect({left:0,top:0,right:r=="row"?e.map.width:1,bottom:r=="column"?e.map.height:1});for(let s=0;s<n.length;s++){const i=e.table.nodeAt(n[s]);if(i&&i.type!==t.header_cell)return!1}return!0}function td(r,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?JH(r):function(t,n){if(!qo(t))return!1;if(n){const s=Js(t.schema),i=ya(t),o=t.tr,a=L7("row",i,s),l=L7("column",i,s),u=(r==="column"?a:r==="row"?l:!1)?1:0,f=r=="column"?{left:0,top:u,right:1,bottom:i.map.height}:r=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,h=r=="column"?l?s.cell:s.header_cell:r=="row"?a?s.cell:s.header_cell:s.cell;i.map.cellsInRect(f).forEach(d=>{const p=d+i.tableStart,g=o.doc.nodeAt(p);g&&o.setNodeMarkup(p,h,g.attrs)}),n(o)}return!0}}td("row",{useDeprecatedLogic:!0});td("column",{useDeprecatedLogic:!0});var KH=td("cell",{useDeprecatedLogic:!0});function XH(r,e){if(e<0){const t=r.nodeBefore;if(t)return r.pos-t.nodeSize;for(let n=r.index(-1)-1,s=r.before();n>=0;n--){const i=r.node(-1).child(n),o=i.lastChild;if(o)return s-1-o.nodeSize;s-=i.nodeSize}}else{if(r.index()<r.parent.childCount-1)return r.pos+r.nodeAfter.nodeSize;const t=r.node(-1);for(let n=r.indexAfter(-1),s=r.after();n<t.childCount;n++){const i=t.child(n);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function $7(r){return function(e,t){if(!qo(e))return!1;const n=XH(cp(e),r);if(n==null)return!1;if(t){const s=e.doc.resolve(n);t(e.tr.setSelection(tr.between(s,fH(s))).scrollIntoView())}return!0}}function ZH(r,e){const t=r.selection.$anchor;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="table")return e&&e(r.tr.delete(t.before(n),t.after(n)).scrollIntoView()),!0;return!1}function eV({allowTableNodeSelection:r=!1}={}){return new Ci({key:Rl,state:{init(){return null},apply(e,t){const n=e.getMeta(Rl);if(n!=null)return n==-1?null:n;if(t==null||!e.docChanged)return t;const{deleted:s,pos:i}=e.mapping.mapResult(t);return s?null:i}},props:{decorations:hH,handleDOMEvents:{mousedown:TH},createSelectionBetween(e){return Rl.getState(e.state)!=null?e.state.selection:null},handleTripleClick:SH,handleKeyDown:kH,handlePaste:AH},appendTransaction(e,t,n){return gH(n,ex(n,t),r)}})}function O7(r,e,t,n,s,i){let o=0,a=!0,l=e.firstChild;const c=r.firstChild;for(let u=0,f=0;u<c.childCount;u+=1){const{colspan:h,colwidth:d}=c.child(u).attrs;for(let p=0;p<h;p+=1,f+=1){const g=s===f?i:d&&d[p],w=g?`${g}px`:"";o+=g||n,g||(a=!1),l?(l.style.width!==w&&(l.style.width=w),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=w}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(t.style.width=`${o}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${o}px`)}class tV{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),O7(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,O7(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function I7(r,e){return e?r.createChecked(null,e):r.createAndFill()}function rV(r){if(r.cached.tableNodeTypes)return r.cached.tableNodeTypes;const e={};return Object.keys(r.nodes).forEach(t=>{const n=r.nodes[t];n.spec.tableRole&&(e[n.spec.tableRole]=n)}),r.cached.tableNodeTypes=e,e}function nV(r,e,t,n,s){const i=rV(r),o=[],a=[];for(let c=0;c<t;c+=1){const u=I7(i.cell,s);if(u&&a.push(u),n){const f=I7(i.header_cell,s);f&&o.push(f)}}const l=[];for(let c=0;c<e;c+=1)l.push(i.row.createChecked(null,n&&c===0?o:a));return i.table.createChecked(null,l)}function sV(r){return r instanceof Or}const uh=({editor:r})=>{const{selection:e}=r.state;if(!sV(e))return!1;let t=0;const n=H_(e.ranges[0].$from,i=>i.type.name==="table");return n==null||n.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(t+=1)}),t===e.ranges.length?(r.commands.deleteTable(),!0):!1},iV=gs.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:tV,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:r}){return["table",xn(this.options.HTMLAttributes,r),["tbody",0]]},addCommands(){return{insertTable:({rows:r=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:n,dispatch:s,editor:i})=>{const o=nV(i.schema,r,e,t);if(s){const a=n.selection.anchor+1;n.replaceSelectionWith(o).scrollIntoView().setSelection(tr.near(n.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:r,dispatch:e})=>FH(r,e),addColumnAfter:()=>({state:r,dispatch:e})=>jH(r,e),deleteColumn:()=>({state:r,dispatch:e})=>zH(r,e),addRowBefore:()=>({state:r,dispatch:e})=>HH(r,e),addRowAfter:()=>({state:r,dispatch:e})=>VH(r,e),deleteRow:()=>({state:r,dispatch:e})=>WH(r,e),deleteTable:()=>({state:r,dispatch:e})=>ZH(r,e),mergeCells:()=>({state:r,dispatch:e})=>M7(r,e),splitCell:()=>({state:r,dispatch:e})=>C7(r,e),toggleHeaderColumn:()=>({state:r,dispatch:e})=>td("column")(r,e),toggleHeaderRow:()=>({state:r,dispatch:e})=>td("row")(r,e),toggleHeaderCell:()=>({state:r,dispatch:e})=>KH(r,e),mergeOrSplit:()=>({state:r,dispatch:e})=>M7(r,e)?!0:C7(r,e),setCellAttribute:(r,e)=>({state:t,dispatch:n})=>GH(r,e)(t,n),goToNextCell:()=>({state:r,dispatch:e})=>$7(1)(r,e),goToPreviousCell:()=>({state:r,dispatch:e})=>$7(-1)(r,e),fixTables:()=>({state:r,dispatch:e})=>(e&&ex(r),!0),setCellSelection:r=>({tr:e,dispatch:t})=>{if(t){const n=Or.create(e.doc,r.anchorCell,r.headCell);e.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:uh,"Mod-Backspace":uh,Delete:uh,"Mod-Delete":uh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[MH({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],eV({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(r){const e={name:r.name,options:r.options,storage:r.storage};return{tableRole:yr(qt(r,"tableRole",e))}}}),oV=gs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:r}){return["td",xn(this.options.HTMLAttributes,r),0]}}),aV=gs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:r=>{const e=r.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:r}){return["th",xn(this.options.HTMLAttributes,r),0]}}),lV=gs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:r}){return["tr",xn(this.options.HTMLAttributes,r),0]}}),cV=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,uV=gs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",xn(this.options.HTMLAttributes,r)]},addCommands(){return{setImage:r=>({commands:e})=>e.insertContent({type:this.name,attrs:r})}},addInputRules(){return[U_({find:cV,type:this.type,getAttributes:r=>{const[,,e,t,n]=r;return{src:t,alt:e,title:n}}})]}});class Ri{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Ri(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class ua{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new ua(t,Ri.range(this,e))}}class mt{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,s,i,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;s=o.start,i=o.end,s===a.length?n+=" at end of input: ":n+=" at position "+(s+1)+": ";var l=a.slice(s,i).replace(/[^]/g,"$&̲"),c;s>15?c="…"+a.slice(s-15,s):c=a.slice(0,s);var u;i+15<a.length?u=a.slice(i,i+15)+"…":u=a.slice(i),n+=c+l+u}var f=new Error(n);return f.name="ParseError",f.__proto__=mt.prototype,f.position=s,s!=null&&i!=null&&(f.length=i-s),f.rawMessage=e,f}}mt.prototype.__proto__=Error.prototype;var fV=function(e,t){return e.indexOf(t)!==-1},dV=function(e,t){return e===void 0?t:e},hV=/([A-Z])/g,pV=function(e){return e.replace(hV,"-$1").toLowerCase()},mV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},gV=/[&><"']/g;function bV(r){return String(r).replace(gV,e=>mV[e])}var ix=function r(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?r(e.body[0]):e:e.type==="font"?r(e.body):e},vV=function(e){var t=ix(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},yV=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},wV=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},or={contains:fV,deflt:dV,escape:bV,hyphenate:pV,getBaseElem:ix,isCharacterBox:vV,protocolFromUrl:wV},jh={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,e)=>(e.push(r),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function _V(r){if(r.default)return r.default;var e=r.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class y5{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in jh)if(jh.hasOwnProperty(t)){var n=jh[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:_V(n)}}reportNonstrict(e,t,n){var s=this.strict;if(typeof s=="function"&&(s=s(e,t,n)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new mt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var s=this.strict;if(typeof s=="function")try{s=s(e,t,n)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=or.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return!!t}}class Cl{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Zo[xV[this.id]]}sub(){return Zo[kV[this.id]]}fracNum(){return Zo[SV[this.id]]}fracDen(){return Zo[AV[this.id]]}cramp(){return Zo[TV[this.id]]}text(){return Zo[NV[this.id]]}isTight(){return this.size>=2}}var w5=0,y1=1,l0=2,Qa=3,rd=4,to=5,S0=6,li=7,Zo=[new Cl(w5,0,!1),new Cl(y1,0,!0),new Cl(l0,1,!1),new Cl(Qa,1,!0),new Cl(rd,2,!1),new Cl(to,2,!0),new Cl(S0,3,!1),new Cl(li,3,!0)],xV=[rd,to,rd,to,S0,li,S0,li],kV=[to,to,to,to,li,li,li,li],SV=[l0,Qa,rd,to,S0,li,S0,li],AV=[Qa,Qa,to,to,li,li,li,li],TV=[y1,y1,Qa,Qa,to,to,li,li],NV=[w5,y1,l0,Qa,l0,Qa,l0,Qa],Xt={DISPLAY:Zo[w5],TEXT:Zo[l0],SCRIPT:Zo[rd],SCRIPTSCRIPT:Zo[S0]},eg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function MV(r){for(var e=0;e<eg.length;e++)for(var t=eg[e],n=0;n<t.blocks.length;n++){var s=t.blocks[n];if(r>=s[0]&&r<=s[1])return t.name}return null}var Bh=[];eg.forEach(r=>r.blocks.forEach(e=>Bh.push(...e)));function ox(r){for(var e=0;e<Bh.length;e+=2)if(r>=Bh[e]&&r<=Bh[e+1])return!0;return!1}var Eu=80,CV=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},LV=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},$V=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},OV=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},IV=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},EV=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},PV=function(e,t,n){var s=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},DV=function(e,t,n){t=1e3*t;var s="";switch(e){case"sqrtMain":s=CV(t,Eu);break;case"sqrtSize1":s=LV(t,Eu);break;case"sqrtSize2":s=$V(t,Eu);break;case"sqrtSize3":s=OV(t,Eu);break;case"sqrtSize4":s=IV(t,Eu);break;case"sqrtTall":s=PV(t,Eu,n)}return s},RV=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},E7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},FV=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class vd{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return or.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var aa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},fh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},P7={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function jV(r,e){aa[r]=e}function _5(r,e,t){if(!aa[e])throw new Error("Font metrics not found for font: "+e+".");var n=r.charCodeAt(0),s=aa[e][n];if(!s&&r[0]in P7&&(n=P7[r[0]].charCodeAt(0),s=aa[e][n]),!s&&t==="text"&&ox(n)&&(s=aa[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var Dm={};function BV(r){var e;if(r>=5?e=0:r>=3?e=1:e=2,!Dm[e]){var t=Dm[e]={cssEmPerMu:fh.quad[e]/18};for(var n in fh)fh.hasOwnProperty(n)&&(t[n]=fh[n][e])}return Dm[e]}var zV=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],D7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],R7=function(e,t){return t.size<2?e:zV[e-1][t.size-1]};class qa{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||qa.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=D7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new qa(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:R7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:D7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=R7(qa.BASESIZE,e);return this.size===t&&this.textSize===qa.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==qa.BASESIZE?["sizing","reset-size"+this.size,"size"+qa.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=BV(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}qa.BASESIZE=6;var tg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},qV={ex:!0,em:!0,mu:!0},ax=function(e){return typeof e!="string"&&(e=e.unit),e in tg||e in qV||e==="ex"},Pn=function(e,t){var n;if(e.unit in tg)n=tg[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var s;if(t.style.isTight()?s=t.havingStyle(t.style.text()):s=t,e.unit==="ex")n=s.fontMetrics().xHeight;else if(e.unit==="em")n=s.fontMetrics().quad;else throw new mt("Invalid unit: '"+e.unit+"'");s!==t&&(n*=s.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},vt=function(e){return+e.toFixed(4)+"em"},tc=function(e){return e.filter(t=>t).join(" ")},lx=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var s=t.getColor();s&&(this.style.color=s)}},cx=function(e){var t=document.createElement(e);t.className=tc(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&t.setAttribute(s,this.attributes[s]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},ux=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+or.escape(tc(this.classes))+'"');var n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=or.hyphenate(s)+":"+this.style[s]+";");n&&(t+=' style="'+or.escape(n)+'"');for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+or.escape(this.attributes[i])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">",t};class yd{constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,lx.call(this,e,n,s),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return or.contains(this.classes,e)}toNode(){return cx.call(this,"span")}toMarkup(){return ux.call(this,"span")}}class x5{constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,lx.call(this,t,s),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return or.contains(this.classes,e)}toNode(){return cx.call(this,"a")}toMarkup(){return ux.call(this,"a")}}class HV{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return or.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=or.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+or.escape(t)+'"'),e+="'/>",e}}var VV={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class io{constructor(e,t,n,s,i,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=s||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=MV(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=VV[this.text])}hasClass(e){return or.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=vt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=tc(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=or.escape(tc(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=or.hyphenate(s)+":"+this.style[s]+";");n&&(e=!0,t+=' style="'+or.escape(n)+'"');var i=or.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}}class Ka{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class rc{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",E7[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+E7[this.pathName]+"'/>"}}class rg{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function F7(r){if(r instanceof io)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function UV(r){if(r instanceof yd)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var WV={bin:1,close:1,inner:1,open:1,punct:1,rel:1},YV={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},gn={math:{},text:{}};function P(r,e,t,n,s,i){gn[r][s]={font:e,group:t,replace:n},i&&n&&(gn[r][n]=gn[r][s])}var V="math",lt="text",se="main",ke="ams",Nn="accent-token",Rt="bin",di="close",O0="inner",Zt="mathord",us="op-token",Hi="open",up="punct",Se="rel",sl="spacing",Oe="textord";P(V,se,Se,"≡","\\equiv",!0);P(V,se,Se,"≺","\\prec",!0);P(V,se,Se,"≻","\\succ",!0);P(V,se,Se,"∼","\\sim",!0);P(V,se,Se,"⊥","\\perp");P(V,se,Se,"⪯","\\preceq",!0);P(V,se,Se,"⪰","\\succeq",!0);P(V,se,Se,"≃","\\simeq",!0);P(V,se,Se,"∣","\\mid",!0);P(V,se,Se,"≪","\\ll",!0);P(V,se,Se,"≫","\\gg",!0);P(V,se,Se,"≍","\\asymp",!0);P(V,se,Se,"∥","\\parallel");P(V,se,Se,"⋈","\\bowtie",!0);P(V,se,Se,"⌣","\\smile",!0);P(V,se,Se,"⊑","\\sqsubseteq",!0);P(V,se,Se,"⊒","\\sqsupseteq",!0);P(V,se,Se,"≐","\\doteq",!0);P(V,se,Se,"⌢","\\frown",!0);P(V,se,Se,"∋","\\ni",!0);P(V,se,Se,"∝","\\propto",!0);P(V,se,Se,"⊢","\\vdash",!0);P(V,se,Se,"⊣","\\dashv",!0);P(V,se,Se,"∋","\\owns");P(V,se,up,".","\\ldotp");P(V,se,up,"⋅","\\cdotp");P(V,se,Oe,"#","\\#");P(lt,se,Oe,"#","\\#");P(V,se,Oe,"&","\\&");P(lt,se,Oe,"&","\\&");P(V,se,Oe,"ℵ","\\aleph",!0);P(V,se,Oe,"∀","\\forall",!0);P(V,se,Oe,"ℏ","\\hbar",!0);P(V,se,Oe,"∃","\\exists",!0);P(V,se,Oe,"∇","\\nabla",!0);P(V,se,Oe,"♭","\\flat",!0);P(V,se,Oe,"ℓ","\\ell",!0);P(V,se,Oe,"♮","\\natural",!0);P(V,se,Oe,"♣","\\clubsuit",!0);P(V,se,Oe,"℘","\\wp",!0);P(V,se,Oe,"♯","\\sharp",!0);P(V,se,Oe,"♢","\\diamondsuit",!0);P(V,se,Oe,"ℜ","\\Re",!0);P(V,se,Oe,"♡","\\heartsuit",!0);P(V,se,Oe,"ℑ","\\Im",!0);P(V,se,Oe,"♠","\\spadesuit",!0);P(V,se,Oe,"§","\\S",!0);P(lt,se,Oe,"§","\\S");P(V,se,Oe,"¶","\\P",!0);P(lt,se,Oe,"¶","\\P");P(V,se,Oe,"†","\\dag");P(lt,se,Oe,"†","\\dag");P(lt,se,Oe,"†","\\textdagger");P(V,se,Oe,"‡","\\ddag");P(lt,se,Oe,"‡","\\ddag");P(lt,se,Oe,"‡","\\textdaggerdbl");P(V,se,di,"⎱","\\rmoustache",!0);P(V,se,Hi,"⎰","\\lmoustache",!0);P(V,se,di,"⟯","\\rgroup",!0);P(V,se,Hi,"⟮","\\lgroup",!0);P(V,se,Rt,"∓","\\mp",!0);P(V,se,Rt,"⊖","\\ominus",!0);P(V,se,Rt,"⊎","\\uplus",!0);P(V,se,Rt,"⊓","\\sqcap",!0);P(V,se,Rt,"∗","\\ast");P(V,se,Rt,"⊔","\\sqcup",!0);P(V,se,Rt,"◯","\\bigcirc",!0);P(V,se,Rt,"∙","\\bullet",!0);P(V,se,Rt,"‡","\\ddagger");P(V,se,Rt,"≀","\\wr",!0);P(V,se,Rt,"⨿","\\amalg");P(V,se,Rt,"&","\\And");P(V,se,Se,"⟵","\\longleftarrow",!0);P(V,se,Se,"⇐","\\Leftarrow",!0);P(V,se,Se,"⟸","\\Longleftarrow",!0);P(V,se,Se,"⟶","\\longrightarrow",!0);P(V,se,Se,"⇒","\\Rightarrow",!0);P(V,se,Se,"⟹","\\Longrightarrow",!0);P(V,se,Se,"↔","\\leftrightarrow",!0);P(V,se,Se,"⟷","\\longleftrightarrow",!0);P(V,se,Se,"⇔","\\Leftrightarrow",!0);P(V,se,Se,"⟺","\\Longleftrightarrow",!0);P(V,se,Se,"↦","\\mapsto",!0);P(V,se,Se,"⟼","\\longmapsto",!0);P(V,se,Se,"↗","\\nearrow",!0);P(V,se,Se,"↩","\\hookleftarrow",!0);P(V,se,Se,"↪","\\hookrightarrow",!0);P(V,se,Se,"↘","\\searrow",!0);P(V,se,Se,"↼","\\leftharpoonup",!0);P(V,se,Se,"⇀","\\rightharpoonup",!0);P(V,se,Se,"↙","\\swarrow",!0);P(V,se,Se,"↽","\\leftharpoondown",!0);P(V,se,Se,"⇁","\\rightharpoondown",!0);P(V,se,Se,"↖","\\nwarrow",!0);P(V,se,Se,"⇌","\\rightleftharpoons",!0);P(V,ke,Se,"≮","\\nless",!0);P(V,ke,Se,"","\\@nleqslant");P(V,ke,Se,"","\\@nleqq");P(V,ke,Se,"⪇","\\lneq",!0);P(V,ke,Se,"≨","\\lneqq",!0);P(V,ke,Se,"","\\@lvertneqq");P(V,ke,Se,"⋦","\\lnsim",!0);P(V,ke,Se,"⪉","\\lnapprox",!0);P(V,ke,Se,"⊀","\\nprec",!0);P(V,ke,Se,"⋠","\\npreceq",!0);P(V,ke,Se,"⋨","\\precnsim",!0);P(V,ke,Se,"⪹","\\precnapprox",!0);P(V,ke,Se,"≁","\\nsim",!0);P(V,ke,Se,"","\\@nshortmid");P(V,ke,Se,"∤","\\nmid",!0);P(V,ke,Se,"⊬","\\nvdash",!0);P(V,ke,Se,"⊭","\\nvDash",!0);P(V,ke,Se,"⋪","\\ntriangleleft");P(V,ke,Se,"⋬","\\ntrianglelefteq",!0);P(V,ke,Se,"⊊","\\subsetneq",!0);P(V,ke,Se,"","\\@varsubsetneq");P(V,ke,Se,"⫋","\\subsetneqq",!0);P(V,ke,Se,"","\\@varsubsetneqq");P(V,ke,Se,"≯","\\ngtr",!0);P(V,ke,Se,"","\\@ngeqslant");P(V,ke,Se,"","\\@ngeqq");P(V,ke,Se,"⪈","\\gneq",!0);P(V,ke,Se,"≩","\\gneqq",!0);P(V,ke,Se,"","\\@gvertneqq");P(V,ke,Se,"⋧","\\gnsim",!0);P(V,ke,Se,"⪊","\\gnapprox",!0);P(V,ke,Se,"⊁","\\nsucc",!0);P(V,ke,Se,"⋡","\\nsucceq",!0);P(V,ke,Se,"⋩","\\succnsim",!0);P(V,ke,Se,"⪺","\\succnapprox",!0);P(V,ke,Se,"≆","\\ncong",!0);P(V,ke,Se,"","\\@nshortparallel");P(V,ke,Se,"∦","\\nparallel",!0);P(V,ke,Se,"⊯","\\nVDash",!0);P(V,ke,Se,"⋫","\\ntriangleright");P(V,ke,Se,"⋭","\\ntrianglerighteq",!0);P(V,ke,Se,"","\\@nsupseteqq");P(V,ke,Se,"⊋","\\supsetneq",!0);P(V,ke,Se,"","\\@varsupsetneq");P(V,ke,Se,"⫌","\\supsetneqq",!0);P(V,ke,Se,"","\\@varsupsetneqq");P(V,ke,Se,"⊮","\\nVdash",!0);P(V,ke,Se,"⪵","\\precneqq",!0);P(V,ke,Se,"⪶","\\succneqq",!0);P(V,ke,Se,"","\\@nsubseteqq");P(V,ke,Rt,"⊴","\\unlhd");P(V,ke,Rt,"⊵","\\unrhd");P(V,ke,Se,"↚","\\nleftarrow",!0);P(V,ke,Se,"↛","\\nrightarrow",!0);P(V,ke,Se,"⇍","\\nLeftarrow",!0);P(V,ke,Se,"⇏","\\nRightarrow",!0);P(V,ke,Se,"↮","\\nleftrightarrow",!0);P(V,ke,Se,"⇎","\\nLeftrightarrow",!0);P(V,ke,Se,"△","\\vartriangle");P(V,ke,Oe,"ℏ","\\hslash");P(V,ke,Oe,"▽","\\triangledown");P(V,ke,Oe,"◊","\\lozenge");P(V,ke,Oe,"Ⓢ","\\circledS");P(V,ke,Oe,"®","\\circledR");P(lt,ke,Oe,"®","\\circledR");P(V,ke,Oe,"∡","\\measuredangle",!0);P(V,ke,Oe,"∄","\\nexists");P(V,ke,Oe,"℧","\\mho");P(V,ke,Oe,"Ⅎ","\\Finv",!0);P(V,ke,Oe,"⅁","\\Game",!0);P(V,ke,Oe,"‵","\\backprime");P(V,ke,Oe,"▲","\\blacktriangle");P(V,ke,Oe,"▼","\\blacktriangledown");P(V,ke,Oe,"■","\\blacksquare");P(V,ke,Oe,"⧫","\\blacklozenge");P(V,ke,Oe,"★","\\bigstar");P(V,ke,Oe,"∢","\\sphericalangle",!0);P(V,ke,Oe,"∁","\\complement",!0);P(V,ke,Oe,"ð","\\eth",!0);P(lt,se,Oe,"ð","ð");P(V,ke,Oe,"╱","\\diagup");P(V,ke,Oe,"╲","\\diagdown");P(V,ke,Oe,"□","\\square");P(V,ke,Oe,"□","\\Box");P(V,ke,Oe,"◊","\\Diamond");P(V,ke,Oe,"¥","\\yen",!0);P(lt,ke,Oe,"¥","\\yen",!0);P(V,ke,Oe,"✓","\\checkmark",!0);P(lt,ke,Oe,"✓","\\checkmark");P(V,ke,Oe,"ℶ","\\beth",!0);P(V,ke,Oe,"ℸ","\\daleth",!0);P(V,ke,Oe,"ℷ","\\gimel",!0);P(V,ke,Oe,"ϝ","\\digamma",!0);P(V,ke,Oe,"ϰ","\\varkappa");P(V,ke,Hi,"┌","\\@ulcorner",!0);P(V,ke,di,"┐","\\@urcorner",!0);P(V,ke,Hi,"└","\\@llcorner",!0);P(V,ke,di,"┘","\\@lrcorner",!0);P(V,ke,Se,"≦","\\leqq",!0);P(V,ke,Se,"⩽","\\leqslant",!0);P(V,ke,Se,"⪕","\\eqslantless",!0);P(V,ke,Se,"≲","\\lesssim",!0);P(V,ke,Se,"⪅","\\lessapprox",!0);P(V,ke,Se,"≊","\\approxeq",!0);P(V,ke,Rt,"⋖","\\lessdot");P(V,ke,Se,"⋘","\\lll",!0);P(V,ke,Se,"≶","\\lessgtr",!0);P(V,ke,Se,"⋚","\\lesseqgtr",!0);P(V,ke,Se,"⪋","\\lesseqqgtr",!0);P(V,ke,Se,"≑","\\doteqdot");P(V,ke,Se,"≓","\\risingdotseq",!0);P(V,ke,Se,"≒","\\fallingdotseq",!0);P(V,ke,Se,"∽","\\backsim",!0);P(V,ke,Se,"⋍","\\backsimeq",!0);P(V,ke,Se,"⫅","\\subseteqq",!0);P(V,ke,Se,"⋐","\\Subset",!0);P(V,ke,Se,"⊏","\\sqsubset",!0);P(V,ke,Se,"≼","\\preccurlyeq",!0);P(V,ke,Se,"⋞","\\curlyeqprec",!0);P(V,ke,Se,"≾","\\precsim",!0);P(V,ke,Se,"⪷","\\precapprox",!0);P(V,ke,Se,"⊲","\\vartriangleleft");P(V,ke,Se,"⊴","\\trianglelefteq");P(V,ke,Se,"⊨","\\vDash",!0);P(V,ke,Se,"⊪","\\Vvdash",!0);P(V,ke,Se,"⌣","\\smallsmile");P(V,ke,Se,"⌢","\\smallfrown");P(V,ke,Se,"≏","\\bumpeq",!0);P(V,ke,Se,"≎","\\Bumpeq",!0);P(V,ke,Se,"≧","\\geqq",!0);P(V,ke,Se,"⩾","\\geqslant",!0);P(V,ke,Se,"⪖","\\eqslantgtr",!0);P(V,ke,Se,"≳","\\gtrsim",!0);P(V,ke,Se,"⪆","\\gtrapprox",!0);P(V,ke,Rt,"⋗","\\gtrdot");P(V,ke,Se,"⋙","\\ggg",!0);P(V,ke,Se,"≷","\\gtrless",!0);P(V,ke,Se,"⋛","\\gtreqless",!0);P(V,ke,Se,"⪌","\\gtreqqless",!0);P(V,ke,Se,"≖","\\eqcirc",!0);P(V,ke,Se,"≗","\\circeq",!0);P(V,ke,Se,"≜","\\triangleq",!0);P(V,ke,Se,"∼","\\thicksim");P(V,ke,Se,"≈","\\thickapprox");P(V,ke,Se,"⫆","\\supseteqq",!0);P(V,ke,Se,"⋑","\\Supset",!0);P(V,ke,Se,"⊐","\\sqsupset",!0);P(V,ke,Se,"≽","\\succcurlyeq",!0);P(V,ke,Se,"⋟","\\curlyeqsucc",!0);P(V,ke,Se,"≿","\\succsim",!0);P(V,ke,Se,"⪸","\\succapprox",!0);P(V,ke,Se,"⊳","\\vartriangleright");P(V,ke,Se,"⊵","\\trianglerighteq");P(V,ke,Se,"⊩","\\Vdash",!0);P(V,ke,Se,"∣","\\shortmid");P(V,ke,Se,"∥","\\shortparallel");P(V,ke,Se,"≬","\\between",!0);P(V,ke,Se,"⋔","\\pitchfork",!0);P(V,ke,Se,"∝","\\varpropto");P(V,ke,Se,"◀","\\blacktriangleleft");P(V,ke,Se,"∴","\\therefore",!0);P(V,ke,Se,"∍","\\backepsilon");P(V,ke,Se,"▶","\\blacktriangleright");P(V,ke,Se,"∵","\\because",!0);P(V,ke,Se,"⋘","\\llless");P(V,ke,Se,"⋙","\\gggtr");P(V,ke,Rt,"⊲","\\lhd");P(V,ke,Rt,"⊳","\\rhd");P(V,ke,Se,"≂","\\eqsim",!0);P(V,se,Se,"⋈","\\Join");P(V,ke,Se,"≑","\\Doteq",!0);P(V,ke,Rt,"∔","\\dotplus",!0);P(V,ke,Rt,"∖","\\smallsetminus");P(V,ke,Rt,"⋒","\\Cap",!0);P(V,ke,Rt,"⋓","\\Cup",!0);P(V,ke,Rt,"⩞","\\doublebarwedge",!0);P(V,ke,Rt,"⊟","\\boxminus",!0);P(V,ke,Rt,"⊞","\\boxplus",!0);P(V,ke,Rt,"⋇","\\divideontimes",!0);P(V,ke,Rt,"⋉","\\ltimes",!0);P(V,ke,Rt,"⋊","\\rtimes",!0);P(V,ke,Rt,"⋋","\\leftthreetimes",!0);P(V,ke,Rt,"⋌","\\rightthreetimes",!0);P(V,ke,Rt,"⋏","\\curlywedge",!0);P(V,ke,Rt,"⋎","\\curlyvee",!0);P(V,ke,Rt,"⊝","\\circleddash",!0);P(V,ke,Rt,"⊛","\\circledast",!0);P(V,ke,Rt,"⋅","\\centerdot");P(V,ke,Rt,"⊺","\\intercal",!0);P(V,ke,Rt,"⋒","\\doublecap");P(V,ke,Rt,"⋓","\\doublecup");P(V,ke,Rt,"⊠","\\boxtimes",!0);P(V,ke,Se,"⇢","\\dashrightarrow",!0);P(V,ke,Se,"⇠","\\dashleftarrow",!0);P(V,ke,Se,"⇇","\\leftleftarrows",!0);P(V,ke,Se,"⇆","\\leftrightarrows",!0);P(V,ke,Se,"⇚","\\Lleftarrow",!0);P(V,ke,Se,"↞","\\twoheadleftarrow",!0);P(V,ke,Se,"↢","\\leftarrowtail",!0);P(V,ke,Se,"↫","\\looparrowleft",!0);P(V,ke,Se,"⇋","\\leftrightharpoons",!0);P(V,ke,Se,"↶","\\curvearrowleft",!0);P(V,ke,Se,"↺","\\circlearrowleft",!0);P(V,ke,Se,"↰","\\Lsh",!0);P(V,ke,Se,"⇈","\\upuparrows",!0);P(V,ke,Se,"↿","\\upharpoonleft",!0);P(V,ke,Se,"⇃","\\downharpoonleft",!0);P(V,se,Se,"⊶","\\origof",!0);P(V,se,Se,"⊷","\\imageof",!0);P(V,ke,Se,"⊸","\\multimap",!0);P(V,ke,Se,"↭","\\leftrightsquigarrow",!0);P(V,ke,Se,"⇉","\\rightrightarrows",!0);P(V,ke,Se,"⇄","\\rightleftarrows",!0);P(V,ke,Se,"↠","\\twoheadrightarrow",!0);P(V,ke,Se,"↣","\\rightarrowtail",!0);P(V,ke,Se,"↬","\\looparrowright",!0);P(V,ke,Se,"↷","\\curvearrowright",!0);P(V,ke,Se,"↻","\\circlearrowright",!0);P(V,ke,Se,"↱","\\Rsh",!0);P(V,ke,Se,"⇊","\\downdownarrows",!0);P(V,ke,Se,"↾","\\upharpoonright",!0);P(V,ke,Se,"⇂","\\downharpoonright",!0);P(V,ke,Se,"⇝","\\rightsquigarrow",!0);P(V,ke,Se,"⇝","\\leadsto");P(V,ke,Se,"⇛","\\Rrightarrow",!0);P(V,ke,Se,"↾","\\restriction");P(V,se,Oe,"‘","`");P(V,se,Oe,"$","\\$");P(lt,se,Oe,"$","\\$");P(lt,se,Oe,"$","\\textdollar");P(V,se,Oe,"%","\\%");P(lt,se,Oe,"%","\\%");P(V,se,Oe,"_","\\_");P(lt,se,Oe,"_","\\_");P(lt,se,Oe,"_","\\textunderscore");P(V,se,Oe,"∠","\\angle",!0);P(V,se,Oe,"∞","\\infty",!0);P(V,se,Oe,"′","\\prime");P(V,se,Oe,"△","\\triangle");P(V,se,Oe,"Γ","\\Gamma",!0);P(V,se,Oe,"Δ","\\Delta",!0);P(V,se,Oe,"Θ","\\Theta",!0);P(V,se,Oe,"Λ","\\Lambda",!0);P(V,se,Oe,"Ξ","\\Xi",!0);P(V,se,Oe,"Π","\\Pi",!0);P(V,se,Oe,"Σ","\\Sigma",!0);P(V,se,Oe,"Υ","\\Upsilon",!0);P(V,se,Oe,"Φ","\\Phi",!0);P(V,se,Oe,"Ψ","\\Psi",!0);P(V,se,Oe,"Ω","\\Omega",!0);P(V,se,Oe,"A","Α");P(V,se,Oe,"B","Β");P(V,se,Oe,"E","Ε");P(V,se,Oe,"Z","Ζ");P(V,se,Oe,"H","Η");P(V,se,Oe,"I","Ι");P(V,se,Oe,"K","Κ");P(V,se,Oe,"M","Μ");P(V,se,Oe,"N","Ν");P(V,se,Oe,"O","Ο");P(V,se,Oe,"P","Ρ");P(V,se,Oe,"T","Τ");P(V,se,Oe,"X","Χ");P(V,se,Oe,"¬","\\neg",!0);P(V,se,Oe,"¬","\\lnot");P(V,se,Oe,"⊤","\\top");P(V,se,Oe,"⊥","\\bot");P(V,se,Oe,"∅","\\emptyset");P(V,ke,Oe,"∅","\\varnothing");P(V,se,Zt,"α","\\alpha",!0);P(V,se,Zt,"β","\\beta",!0);P(V,se,Zt,"γ","\\gamma",!0);P(V,se,Zt,"δ","\\delta",!0);P(V,se,Zt,"ϵ","\\epsilon",!0);P(V,se,Zt,"ζ","\\zeta",!0);P(V,se,Zt,"η","\\eta",!0);P(V,se,Zt,"θ","\\theta",!0);P(V,se,Zt,"ι","\\iota",!0);P(V,se,Zt,"κ","\\kappa",!0);P(V,se,Zt,"λ","\\lambda",!0);P(V,se,Zt,"μ","\\mu",!0);P(V,se,Zt,"ν","\\nu",!0);P(V,se,Zt,"ξ","\\xi",!0);P(V,se,Zt,"ο","\\omicron",!0);P(V,se,Zt,"π","\\pi",!0);P(V,se,Zt,"ρ","\\rho",!0);P(V,se,Zt,"σ","\\sigma",!0);P(V,se,Zt,"τ","\\tau",!0);P(V,se,Zt,"υ","\\upsilon",!0);P(V,se,Zt,"ϕ","\\phi",!0);P(V,se,Zt,"χ","\\chi",!0);P(V,se,Zt,"ψ","\\psi",!0);P(V,se,Zt,"ω","\\omega",!0);P(V,se,Zt,"ε","\\varepsilon",!0);P(V,se,Zt,"ϑ","\\vartheta",!0);P(V,se,Zt,"ϖ","\\varpi",!0);P(V,se,Zt,"ϱ","\\varrho",!0);P(V,se,Zt,"ς","\\varsigma",!0);P(V,se,Zt,"φ","\\varphi",!0);P(V,se,Rt,"∗","*",!0);P(V,se,Rt,"+","+");P(V,se,Rt,"−","-",!0);P(V,se,Rt,"⋅","\\cdot",!0);P(V,se,Rt,"∘","\\circ",!0);P(V,se,Rt,"÷","\\div",!0);P(V,se,Rt,"±","\\pm",!0);P(V,se,Rt,"×","\\times",!0);P(V,se,Rt,"∩","\\cap",!0);P(V,se,Rt,"∪","\\cup",!0);P(V,se,Rt,"∖","\\setminus",!0);P(V,se,Rt,"∧","\\land");P(V,se,Rt,"∨","\\lor");P(V,se,Rt,"∧","\\wedge",!0);P(V,se,Rt,"∨","\\vee",!0);P(V,se,Oe,"√","\\surd");P(V,se,Hi,"⟨","\\langle",!0);P(V,se,Hi,"∣","\\lvert");P(V,se,Hi,"∥","\\lVert");P(V,se,di,"?","?");P(V,se,di,"!","!");P(V,se,di,"⟩","\\rangle",!0);P(V,se,di,"∣","\\rvert");P(V,se,di,"∥","\\rVert");P(V,se,Se,"=","=");P(V,se,Se,":",":");P(V,se,Se,"≈","\\approx",!0);P(V,se,Se,"≅","\\cong",!0);P(V,se,Se,"≥","\\ge");P(V,se,Se,"≥","\\geq",!0);P(V,se,Se,"←","\\gets");P(V,se,Se,">","\\gt",!0);P(V,se,Se,"∈","\\in",!0);P(V,se,Se,"","\\@not");P(V,se,Se,"⊂","\\subset",!0);P(V,se,Se,"⊃","\\supset",!0);P(V,se,Se,"⊆","\\subseteq",!0);P(V,se,Se,"⊇","\\supseteq",!0);P(V,ke,Se,"⊈","\\nsubseteq",!0);P(V,ke,Se,"⊉","\\nsupseteq",!0);P(V,se,Se,"⊨","\\models");P(V,se,Se,"←","\\leftarrow",!0);P(V,se,Se,"≤","\\le");P(V,se,Se,"≤","\\leq",!0);P(V,se,Se,"<","\\lt",!0);P(V,se,Se,"→","\\rightarrow",!0);P(V,se,Se,"→","\\to");P(V,ke,Se,"≱","\\ngeq",!0);P(V,ke,Se,"≰","\\nleq",!0);P(V,se,sl," ","\\ ");P(V,se,sl," ","\\space");P(V,se,sl," ","\\nobreakspace");P(lt,se,sl," ","\\ ");P(lt,se,sl," "," ");P(lt,se,sl," ","\\space");P(lt,se,sl," ","\\nobreakspace");P(V,se,sl,null,"\\nobreak");P(V,se,sl,null,"\\allowbreak");P(V,se,up,",",",");P(V,se,up,";",";");P(V,ke,Rt,"⊼","\\barwedge",!0);P(V,ke,Rt,"⊻","\\veebar",!0);P(V,se,Rt,"⊙","\\odot",!0);P(V,se,Rt,"⊕","\\oplus",!0);P(V,se,Rt,"⊗","\\otimes",!0);P(V,se,Oe,"∂","\\partial",!0);P(V,se,Rt,"⊘","\\oslash",!0);P(V,ke,Rt,"⊚","\\circledcirc",!0);P(V,ke,Rt,"⊡","\\boxdot",!0);P(V,se,Rt,"△","\\bigtriangleup");P(V,se,Rt,"▽","\\bigtriangledown");P(V,se,Rt,"†","\\dagger");P(V,se,Rt,"⋄","\\diamond");P(V,se,Rt,"⋆","\\star");P(V,se,Rt,"◃","\\triangleleft");P(V,se,Rt,"▹","\\triangleright");P(V,se,Hi,"{","\\{");P(lt,se,Oe,"{","\\{");P(lt,se,Oe,"{","\\textbraceleft");P(V,se,di,"}","\\}");P(lt,se,Oe,"}","\\}");P(lt,se,Oe,"}","\\textbraceright");P(V,se,Hi,"{","\\lbrace");P(V,se,di,"}","\\rbrace");P(V,se,Hi,"[","\\lbrack",!0);P(lt,se,Oe,"[","\\lbrack",!0);P(V,se,di,"]","\\rbrack",!0);P(lt,se,Oe,"]","\\rbrack",!0);P(V,se,Hi,"(","\\lparen",!0);P(V,se,di,")","\\rparen",!0);P(lt,se,Oe,"<","\\textless",!0);P(lt,se,Oe,">","\\textgreater",!0);P(V,se,Hi,"⌊","\\lfloor",!0);P(V,se,di,"⌋","\\rfloor",!0);P(V,se,Hi,"⌈","\\lceil",!0);P(V,se,di,"⌉","\\rceil",!0);P(V,se,Oe,"\\","\\backslash");P(V,se,Oe,"∣","|");P(V,se,Oe,"∣","\\vert");P(lt,se,Oe,"|","\\textbar",!0);P(V,se,Oe,"∥","\\|");P(V,se,Oe,"∥","\\Vert");P(lt,se,Oe,"∥","\\textbardbl");P(lt,se,Oe,"~","\\textasciitilde");P(lt,se,Oe,"\\","\\textbackslash");P(lt,se,Oe,"^","\\textasciicircum");P(V,se,Se,"↑","\\uparrow",!0);P(V,se,Se,"⇑","\\Uparrow",!0);P(V,se,Se,"↓","\\downarrow",!0);P(V,se,Se,"⇓","\\Downarrow",!0);P(V,se,Se,"↕","\\updownarrow",!0);P(V,se,Se,"⇕","\\Updownarrow",!0);P(V,se,us,"∐","\\coprod");P(V,se,us,"⋁","\\bigvee");P(V,se,us,"⋀","\\bigwedge");P(V,se,us,"⨄","\\biguplus");P(V,se,us,"⋂","\\bigcap");P(V,se,us,"⋃","\\bigcup");P(V,se,us,"∫","\\int");P(V,se,us,"∫","\\intop");P(V,se,us,"∬","\\iint");P(V,se,us,"∭","\\iiint");P(V,se,us,"∏","\\prod");P(V,se,us,"∑","\\sum");P(V,se,us,"⨂","\\bigotimes");P(V,se,us,"⨁","\\bigoplus");P(V,se,us,"⨀","\\bigodot");P(V,se,us,"∮","\\oint");P(V,se,us,"∯","\\oiint");P(V,se,us,"∰","\\oiiint");P(V,se,us,"⨆","\\bigsqcup");P(V,se,us,"∫","\\smallint");P(lt,se,O0,"…","\\textellipsis");P(V,se,O0,"…","\\mathellipsis");P(lt,se,O0,"…","\\ldots",!0);P(V,se,O0,"…","\\ldots",!0);P(V,se,O0,"⋯","\\@cdots",!0);P(V,se,O0,"⋱","\\ddots",!0);P(V,se,Oe,"⋮","\\varvdots");P(V,se,Nn,"ˊ","\\acute");P(V,se,Nn,"ˋ","\\grave");P(V,se,Nn,"¨","\\ddot");P(V,se,Nn,"~","\\tilde");P(V,se,Nn,"ˉ","\\bar");P(V,se,Nn,"˘","\\breve");P(V,se,Nn,"ˇ","\\check");P(V,se,Nn,"^","\\hat");P(V,se,Nn,"⃗","\\vec");P(V,se,Nn,"˙","\\dot");P(V,se,Nn,"˚","\\mathring");P(V,se,Zt,"","\\@imath");P(V,se,Zt,"","\\@jmath");P(V,se,Oe,"ı","ı");P(V,se,Oe,"ȷ","ȷ");P(lt,se,Oe,"ı","\\i",!0);P(lt,se,Oe,"ȷ","\\j",!0);P(lt,se,Oe,"ß","\\ss",!0);P(lt,se,Oe,"æ","\\ae",!0);P(lt,se,Oe,"œ","\\oe",!0);P(lt,se,Oe,"ø","\\o",!0);P(lt,se,Oe,"Æ","\\AE",!0);P(lt,se,Oe,"Œ","\\OE",!0);P(lt,se,Oe,"Ø","\\O",!0);P(lt,se,Nn,"ˊ","\\'");P(lt,se,Nn,"ˋ","\\`");P(lt,se,Nn,"ˆ","\\^");P(lt,se,Nn,"˜","\\~");P(lt,se,Nn,"ˉ","\\=");P(lt,se,Nn,"˘","\\u");P(lt,se,Nn,"˙","\\.");P(lt,se,Nn,"¸","\\c");P(lt,se,Nn,"˚","\\r");P(lt,se,Nn,"ˇ","\\v");P(lt,se,Nn,"¨",'\\"');P(lt,se,Nn,"˝","\\H");P(lt,se,Nn,"◯","\\textcircled");var fx={"--":!0,"---":!0,"``":!0,"''":!0};P(lt,se,Oe,"–","--",!0);P(lt,se,Oe,"–","\\textendash");P(lt,se,Oe,"—","---",!0);P(lt,se,Oe,"—","\\textemdash");P(lt,se,Oe,"‘","`",!0);P(lt,se,Oe,"‘","\\textquoteleft");P(lt,se,Oe,"’","'",!0);P(lt,se,Oe,"’","\\textquoteright");P(lt,se,Oe,"“","``",!0);P(lt,se,Oe,"“","\\textquotedblleft");P(lt,se,Oe,"”","''",!0);P(lt,se,Oe,"”","\\textquotedblright");P(V,se,Oe,"°","\\degree",!0);P(lt,se,Oe,"°","\\degree");P(lt,se,Oe,"°","\\textdegree",!0);P(V,se,Oe,"£","\\pounds");P(V,se,Oe,"£","\\mathsterling",!0);P(lt,se,Oe,"£","\\pounds");P(lt,se,Oe,"£","\\textsterling",!0);P(V,ke,Oe,"✠","\\maltese");P(lt,ke,Oe,"✠","\\maltese");var j7='0123456789/@."';for(var Rm=0;Rm<j7.length;Rm++){var B7=j7.charAt(Rm);P(V,se,Oe,B7,B7)}var z7='0123456789!@*()-=+";:?/.,';for(var Fm=0;Fm<z7.length;Fm++){var q7=z7.charAt(Fm);P(lt,se,Oe,q7,q7)}var w1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var jm=0;jm<w1.length;jm++){var dh=w1.charAt(jm);P(V,se,Zt,dh,dh),P(lt,se,Oe,dh,dh)}P(V,ke,Oe,"C","ℂ");P(lt,ke,Oe,"C","ℂ");P(V,ke,Oe,"H","ℍ");P(lt,ke,Oe,"H","ℍ");P(V,ke,Oe,"N","ℕ");P(lt,ke,Oe,"N","ℕ");P(V,ke,Oe,"P","ℙ");P(lt,ke,Oe,"P","ℙ");P(V,ke,Oe,"Q","ℚ");P(lt,ke,Oe,"Q","ℚ");P(V,ke,Oe,"R","ℝ");P(lt,ke,Oe,"R","ℝ");P(V,ke,Oe,"Z","ℤ");P(lt,ke,Oe,"Z","ℤ");P(V,se,Zt,"h","ℎ");P(lt,se,Zt,"h","ℎ");var ur="";for(var xi=0;xi<w1.length;xi++){var ls=w1.charAt(xi);ur=String.fromCharCode(55349,56320+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56372+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56424+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56580+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56736+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56788+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56840+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56944+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),xi<26&&(ur=String.fromCharCode(55349,56632+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur),ur=String.fromCharCode(55349,56476+xi),P(V,se,Zt,ls,ur),P(lt,se,Oe,ls,ur))}ur=String.fromCharCode(55349,56668);P(V,se,Zt,"k",ur);P(lt,se,Oe,"k",ur);for(var kc=0;kc<10;kc++){var Ll=kc.toString();ur=String.fromCharCode(55349,57294+kc),P(V,se,Zt,Ll,ur),P(lt,se,Oe,Ll,ur),ur=String.fromCharCode(55349,57314+kc),P(V,se,Zt,Ll,ur),P(lt,se,Oe,Ll,ur),ur=String.fromCharCode(55349,57324+kc),P(V,se,Zt,Ll,ur),P(lt,se,Oe,Ll,ur),ur=String.fromCharCode(55349,57334+kc),P(V,se,Zt,Ll,ur),P(lt,se,Oe,Ll,ur)}var ng="ÐÞþ";for(var Bm=0;Bm<ng.length;Bm++){var hh=ng.charAt(Bm);P(V,se,Zt,hh,hh),P(lt,se,Oe,hh,hh)}var ph=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],H7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],QV=function(e,t){var n=e.charCodeAt(0),s=e.charCodeAt(1),i=(n-55296)*1024+(s-56320)+65536,o=t==="math"?0:1;if(119808<=i&&i<120484){var a=Math.floor((i-119808)/26);return[ph[a][2],ph[a][o]]}else if(120782<=i&&i<=120831){var l=Math.floor((i-120782)/10);return[H7[l][2],H7[l][o]]}else{if(i===120485||i===120486)return[ph[0][2],ph[0][o]];if(120486<i&&i<120782)return["",""];throw new mt("Unsupported character: "+e)}},fp=function(e,t,n){return gn[n][e]&&gn[n][e].replace&&(e=gn[n][e].replace),{value:e,metrics:_5(e,t,n)}},So=function(e,t,n,s,i){var o=fp(e,t,n),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(n==="text"||s&&s.font==="mathit")&&(c=0),l=new io(e,a.height,a.depth,c,a.skew,a.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),l=new io(e,0,0,0,0,0,i);if(s){l.maxFontSize=s.sizeMultiplier,s.style.isTight()&&l.classes.push("mtight");var u=s.getColor();u&&(l.style.color=u)}return l},GV=function(e,t,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&fp(e,"Main-Bold",t).metrics?So(e,"Main-Bold",t,n,s.concat(["mathbf"])):e==="\\"||gn[t][e].font==="main"?So(e,"Main-Regular",t,n,s):So(e,"AMS-Regular",t,n,s.concat(["amsrm"]))},JV=function(e,t,n,s,i){return i!=="textord"&&fp(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},KV=function(e,t,n){var s=e.mode,i=e.text,o=["mord"],a=s==="math"||s==="text"&&t.font,l=a?t.font:t.fontFamily;if(i.charCodeAt(0)===55349){var[c,u]=QV(i,s);return So(i,c,s,t,o.concat(u))}else if(l){var f,h;if(l==="boldsymbol"){var d=JV(i,s,t,o,n);f=d.fontName,h=[d.fontClass]}else a?(f=px[l].fontName,h=[l]):(f=mh(l,t.fontWeight,t.fontShape),h=[l,t.fontWeight,t.fontShape]);if(fp(i,f,s).metrics)return So(i,f,s,t,o.concat(h));if(fx.hasOwnProperty(i)&&f.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<i.length;g++)p.push(So(i[g],f,s,t,o.concat(h)));return hx(p)}}if(n==="mathord")return So(i,"Math-Italic",s,t,o.concat(["mathnormal"]));if(n==="textord"){var w=gn[s][i]&&gn[s][i].font;if(w==="ams"){var v=mh("amsrm",t.fontWeight,t.fontShape);return So(i,v,s,t,o.concat("amsrm",t.fontWeight,t.fontShape))}else if(w==="main"||!w){var _=mh("textrm",t.fontWeight,t.fontShape);return So(i,_,s,t,o.concat(t.fontWeight,t.fontShape))}else{var k=mh(w,t.fontWeight,t.fontShape);return So(i,k,s,t,o.concat(k,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},XV=(r,e)=>{if(tc(r.classes)!==tc(e.classes)||r.skew!==e.skew||r.maxFontSize!==e.maxFontSize)return!1;if(r.classes.length===1){var t=r.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in r.style)if(r.style.hasOwnProperty(n)&&r.style[n]!==e.style[n])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&r.style[s]!==e.style[s])return!1;return!0},ZV=r=>{for(var e=0;e<r.length-1;e++){var t=r[e],n=r[e+1];t instanceof io&&n instanceof io&&XV(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,r.splice(e+1,1),e--)}return r},k5=function(e){for(var t=0,n=0,s=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>s&&(s=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=s},Si=function(e,t,n,s){var i=new yd(e,t,n,s);return k5(i),i},dx=(r,e,t,n)=>new yd(r,e,t,n),eU=function(e,t,n){var s=Si([e],[],t);return s.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),s.style.borderBottomWidth=vt(s.height),s.maxFontSize=1,s},tU=function(e,t,n,s){var i=new x5(e,t,n,s);return k5(i),i},hx=function(e){var t=new vd(e);return k5(t),t},rU=function(e,t){return e instanceof vd?Si([],[e],t):e},nU=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],s=-t[0].shift-t[0].elem.depth,i=s,o=1;o<t.length;o++){var a=-t[o].shift-i-t[o].elem.depth,l=a-(t[o-1].elem.height+t[o-1].elem.depth);i=i+a,n.push({type:"kern",size:l}),n.push(t[o])}return{children:n,depth:s}}var c;if(e.positionType==="top"){for(var u=e.positionData,f=0;f<e.children.length;f++){var h=e.children[f];u-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var d=e.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-d.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-d.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},sU=function(e,t){for(var{children:n,depth:s}=nU(e),i=0,o=0;o<n.length;o++){var a=n[o];if(a.type==="elem"){var l=a.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var c=Si(["pstrut"],[]);c.style.height=vt(i);for(var u=[],f=s,h=s,d=s,p=0;p<n.length;p++){var g=n[p];if(g.type==="kern")d+=g.size;else{var w=g.elem,v=g.wrapperClasses||[],_=g.wrapperStyle||{},k=Si(v,[c,w],void 0,_);k.style.top=vt(-i-d-w.depth),g.marginLeft&&(k.style.marginLeft=g.marginLeft),g.marginRight&&(k.style.marginRight=g.marginRight),u.push(k),d+=w.height+w.depth}f=Math.min(f,d),h=Math.max(h,d)}var A=Si(["vlist"],u);A.style.height=vt(h);var C;if(f<0){var N=Si([],[]),T=Si(["vlist"],[N]);T.style.height=vt(-f);var O=Si(["vlist-s"],[new io("​")]);C=[Si(["vlist-r"],[A,O]),Si(["vlist-r"],[T])]}else C=[Si(["vlist-r"],[A])];var D=Si(["vlist-t"],C);return C.length===2&&D.classes.push("vlist-t2"),D.height=h,D.depth=-f,D},iU=(r,e)=>{var t=Si(["mspace"],[],e),n=Pn(r,e);return t.style.marginRight=vt(n),t},mh=function(e,t,n){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var i;return t==="textbf"&&n==="textit"?i="BoldItalic":t==="textbf"?i="Bold":t==="textit"?i="Italic":i="Regular",s+"-"+i},px={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},mx={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},oU=function(e,t){var[n,s,i]=mx[e],o=new rc(n),a=new Ka([o],{width:vt(s),height:vt(i),style:"width:"+vt(s),viewBox:"0 0 "+1e3*s+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=dx(["overlay"],[a],t);return l.height=i,l.style.height=vt(i),l.style.width=vt(s),l},Ue={fontMap:px,makeSymbol:So,mathsym:GV,makeSpan:Si,makeSvgSpan:dx,makeLineSpan:eU,makeAnchor:tU,makeFragment:hx,wrapFragment:rU,makeVList:sU,makeOrd:KV,makeGlue:iU,staticSvg:oU,svgData:mx,tryCombineChars:ZV},In={number:3,unit:"mu"},Sc={number:4,unit:"mu"},Fa={number:5,unit:"mu"},aU={mord:{mop:In,mbin:Sc,mrel:Fa,minner:In},mop:{mord:In,mop:In,mrel:Fa,minner:In},mbin:{mord:Sc,mop:Sc,mopen:Sc,minner:Sc},mrel:{mord:Fa,mop:Fa,mopen:Fa,minner:Fa},mopen:{},mclose:{mop:In,mbin:Sc,mrel:Fa,minner:In},mpunct:{mord:In,mop:In,mrel:Fa,mopen:In,mclose:In,mpunct:In,minner:In},minner:{mord:In,mop:In,mbin:Sc,mrel:Fa,mopen:In,mpunct:In,minner:In}},lU={mord:{mop:In},mop:{mord:In,mop:In},mbin:{},mrel:{},mopen:{},mclose:{mop:In},mpunct:{},minner:{mop:In}},gx={},_1={},x1={};function Ct(r){for(var{type:e,names:t,props:n,handler:s,htmlBuilder:i,mathmlBuilder:o}=r,a={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},l=0;l<t.length;++l)gx[t[l]]=a;e&&(i&&(_1[e]=i),o&&(x1[e]=o))}function Xc(r){var{type:e,htmlBuilder:t,mathmlBuilder:n}=r;Ct({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var k1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ts=function(e){return e.type==="ordgroup"?e.body:[e]},Xa=Ue.makeSpan,cU=["leftmost","mbin","mopen","mrel","mop","mpunct"],uU=["rightmost","mrel","mclose","mpunct"],fU={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT},dU={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ms=function(e,t,n,s){s===void 0&&(s=[null,null]);for(var i=[],o=0;o<e.length;o++){var a=Fr(e[o],t);if(a instanceof vd){var l=a.children;i.push(...l)}else i.push(a)}if(Ue.tryCombineChars(i),!n)return i;var c=t;if(e.length===1){var u=e[0];u.type==="sizing"?c=t.havingSize(u.size):u.type==="styling"&&(c=t.havingStyle(fU[u.style]))}var f=Xa([s[0]||"leftmost"],[],t),h=Xa([s[1]||"rightmost"],[],t),d=n==="root";return V7(i,(p,g)=>{var w=g.classes[0],v=p.classes[0];w==="mbin"&&or.contains(uU,v)?g.classes[0]="mord":v==="mbin"&&or.contains(cU,w)&&(p.classes[0]="mord")},{node:f},h,d),V7(i,(p,g)=>{var w=sg(g),v=sg(p),_=w&&v?p.hasClass("mtight")?lU[w][v]:aU[w][v]:null;if(_)return Ue.makeGlue(_,c)},{node:f},h,d),i},V7=function r(e,t,n,s,i){s&&e.push(s);for(var o=0;o<e.length;o++){var a=e[o],l=bx(a);if(l){r(l.children,t,n,null,i);continue}var c=!a.hasClass("mspace");if(c){var u=t(a,n.node);u&&(n.insertAfter?n.insertAfter(u):(e.unshift(u),o++))}c?n.node=a:i&&a.hasClass("newline")&&(n.node=Xa(["leftmost"])),n.insertAfter=(f=>h=>{e.splice(f+1,0,h),o++})(o)}s&&e.pop()},bx=function(e){return e instanceof vd||e instanceof x5||e instanceof yd&&e.hasClass("enclosing")?e:null},hU=function r(e,t){var n=bx(e);if(n){var s=n.children;if(s.length){if(t==="right")return r(s[s.length-1],"right");if(t==="left")return r(s[0],"left")}}return e},sg=function(e,t){return e?(t&&(e=hU(e,t)),dU[e.classes[0]]||null):null},nd=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Xa(t.concat(n))},Fr=function(e,t,n){if(!e)return Xa();if(_1[e.type]){var s=_1[e.type](e,t);if(n&&t.size!==n.size){s=Xa(t.sizingClasses(n),[s],t);var i=t.sizeMultiplier/n.sizeMultiplier;s.height*=i,s.depth*=i}return s}else throw new mt("Got group of unknown type: '"+e.type+"'")};function gh(r,e){var t=Xa(["base"],r,e),n=Xa(["strut"]);return n.style.height=vt(t.height+t.depth),t.depth&&(n.style.verticalAlign=vt(-t.depth)),t.children.unshift(n),t}function ig(r,e){var t=null;r.length===1&&r[0].type==="tag"&&(t=r[0].tag,r=r[0].body);var n=ms(r,e,"root"),s;n.length===2&&n[1].hasClass("tag")&&(s=n.pop());for(var i=[],o=[],a=0;a<n.length;a++)if(o.push(n[a]),n[a].hasClass("mbin")||n[a].hasClass("mrel")||n[a].hasClass("allowbreak")){for(var l=!1;a<n.length-1&&n[a+1].hasClass("mspace")&&!n[a+1].hasClass("newline");)a++,o.push(n[a]),n[a].hasClass("nobreak")&&(l=!0);l||(i.push(gh(o,e)),o=[])}else n[a].hasClass("newline")&&(o.pop(),o.length>0&&(i.push(gh(o,e)),o=[]),i.push(n[a]));o.length>0&&i.push(gh(o,e));var c;t?(c=gh(ms(t,e,!0)),c.classes=["tag"],i.push(c)):s&&i.push(s);var u=Xa(["katex-html"],i);if(u.setAttribute("aria-hidden","true"),c){var f=c.children[0];f.style.height=vt(u.height+u.depth),u.depth&&(f.style.verticalAlign=vt(-u.depth))}return u}function vx(r){return new vd(r)}class eo{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=tc(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=or.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+or.escape(tc(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Pf{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return or.escape(this.toText())}toText(){return this.text}}class pU{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",vt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+vt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var pt={MathNode:eo,TextNode:Pf,SpaceNode:pU,newDocumentFragment:vx},oo=function(e,t,n){return gn[t][e]&&gn[t][e].replace&&e.charCodeAt(0)!==55349&&!(fx.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=gn[t][e].replace),new pt.TextNode(e)},S5=function(e){return e.length===1?e[0]:new pt.MathNode("mrow",e)},A5=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var s=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=e.text;if(or.contains(["\\imath","\\jmath"],i))return null;gn[s][i]&&gn[s][i].replace&&(i=gn[s][i].replace);var o=Ue.fontMap[n].fontName;return _5(i,o,s)?Ue.fontMap[n].variant:null},Li=function(e,t,n){if(e.length===1){var s=ln(e[0],t);return n&&s instanceof eo&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var i=[],o,a=0;a<e.length;a++){var l=ln(e[a],t);if(l instanceof eo&&o instanceof eo){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&o.type==="mn"){var c=l.children[0];if(c instanceof Pf&&c.text==="."){o.children.push(...l.children);continue}}else if(o.type==="mi"&&o.children.length===1){var u=o.children[0];if(u instanceof Pf&&u.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof Pf&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),i.pop())}}}i.push(l),o=l}return i},nc=function(e,t,n){return S5(Li(e,t,n))},ln=function(e,t){if(!e)return new pt.MathNode("mrow");if(x1[e.type]){var n=x1[e.type](e,t);return n}else throw new mt("Got group of unknown type: '"+e.type+"'")};function U7(r,e,t,n,s){var i=Li(r,t),o;i.length===1&&i[0]instanceof eo&&or.contains(["mrow","mtable"],i[0].type)?o=i[0]:o=new pt.MathNode("mrow",i);var a=new pt.MathNode("annotation",[new pt.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new pt.MathNode("semantics",[o,a]),c=new pt.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var u=s?"katex":"katex-mathml";return Ue.makeSpan([u],[c])}var yx=function(e){return new qa({style:e.displayMode?Xt.DISPLAY:Xt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},wx=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ue.makeSpan(n,[e])}return e},mU=function(e,t,n){var s=yx(n),i;if(n.output==="mathml")return U7(e,t,s,n.displayMode,!0);if(n.output==="html"){var o=ig(e,s);i=Ue.makeSpan(["katex"],[o])}else{var a=U7(e,t,s,n.displayMode,!1),l=ig(e,s);i=Ue.makeSpan(["katex"],[a,l])}return wx(i,n)},gU=function(e,t,n){var s=yx(n),i=ig(e,s),o=Ue.makeSpan(["katex"],[i]);return wx(o,n)},bU={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},vU=function(e){var t=new pt.MathNode("mo",[new pt.TextNode(bU[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},yU={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},wU=function(e){return e.type==="ordgroup"?e.body.length:1},_U=function(e,t){function n(){var a=4e5,l=e.label.slice(1);if(or.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=wU(c.base),f,h,d;if(u>5)l==="widehat"||l==="widecheck"?(f=420,a=2364,d=.42,h=l+"4"):(f=312,a=2340,d=.34,h="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],f=[0,239,300,360,420][p],d=[0,.24,.3,.3,.36,.42][p],h=l+p):(a=[0,600,1033,2339,2340][p],f=[0,260,286,306,312][p],d=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new rc(h),w=new Ka([g],{width:"100%",height:vt(d),viewBox:"0 0 "+a+" "+f,preserveAspectRatio:"none"});return{span:Ue.makeSvgSpan([],[w],t),minWidth:0,height:d}}else{var v=[],_=yU[l],[k,A,C]=_,N=C/1e3,T=k.length,O,D;if(T===1){var Q=_[3];O=["hide-tail"],D=[Q]}else if(T===2)O=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(T===3)O=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var E=0;E<T;E++){var j=new rc(k[E]),J=new Ka([j],{width:"400em",height:vt(N),viewBox:"0 0 "+a+" "+C,preserveAspectRatio:D[E]+" slice"}),U=Ue.makeSvgSpan([O[E]],[J],t);if(T===1)return{span:U,minWidth:A,height:N};U.style.height=vt(N),v.push(U)}return{span:Ue.makeSpan(["stretchy"],v,t),minWidth:A,height:N}}}var{span:s,minWidth:i,height:o}=n();return s.height=o,s.style.height=vt(o),i>0&&(s.style.minWidth=vt(i)),s},xU=function(e,t,n,s,i){var o,a=e.height+e.depth+n+s;if(/fbox|color|angl/.test(t)){if(o=Ue.makeSpan(["stretchy",t],[],i),t==="fbox"){var l=i.color&&i.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(t)&&c.push(new rg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&c.push(new rg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Ka(c,{width:"100%",height:vt(a)});o=Ue.makeSvgSpan([],[u],i)}return o.height=a,o.style.height=vt(a),o},Za={encloseSpan:xU,mathMLnode:vU,svgSpan:_U};function _r(r,e){if(!r||r.type!==e)throw new Error("Expected node of type "+e+", but got "+(r?"node of type "+r.type:String(r)));return r}function T5(r){var e=dp(r);if(!e)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return e}function dp(r){return r&&(r.type==="atom"||YV.hasOwnProperty(r.type))?r:null}var N5=(r,e)=>{var t,n,s;r&&r.type==="supsub"?(n=_r(r.base,"accent"),t=n.base,r.base=t,s=UV(Fr(r,e)),r.base=n):(n=_r(r,"accent"),t=n.base);var i=Fr(t,e.havingCrampedStyle()),o=n.isShifty&&or.isCharacterBox(t),a=0;if(o){var l=or.getBaseElem(t),c=Fr(l,e.havingCrampedStyle());a=F7(c).skew}var u=n.label==="\\c",f=u?i.height+i.depth:Math.min(i.height,e.fontMetrics().xHeight),h;if(n.isStretchy)h=Za.svgSpan(n,e),h=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+vt(2*a)+")",marginLeft:vt(2*a)}:void 0}]},e);else{var d,p;n.label==="\\vec"?(d=Ue.staticSvg("vec",e),p=Ue.svgData.vec[1]):(d=Ue.makeOrd({mode:n.mode,text:n.label},e,"textord"),d=F7(d),d.italic=0,p=d.width,u&&(f+=d.depth)),h=Ue.makeSpan(["accent-body"],[d]);var g=n.label==="\\textcircled";g&&(h.classes.push("accent-full"),f=i.height);var w=a;g||(w-=p/2),h.style.left=vt(w),n.label==="\\textcircled"&&(h.style.top=".2em"),h=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-f},{type:"elem",elem:h}]},e)}var v=Ue.makeSpan(["mord","accent"],[h],e);return s?(s.children[0]=v,s.height=Math.max(v.height,s.height),s.classes[0]="mord",s):v},_x=(r,e)=>{var t=r.isStretchy?Za.mathMLnode(r.label):new pt.MathNode("mo",[oo(r.label,r.mode)]),n=new pt.MathNode("mover",[ln(r.base,e),t]);return n.setAttribute("accent","true"),n},kU=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));Ct({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,e)=>{var t=k1(e[0]),n=!kU.test(r.funcName),s=!n||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:n,isShifty:s,base:t}},htmlBuilder:N5,mathmlBuilder:_x});Ct({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,e)=>{var t=e[0],n=r.parser.mode;return n==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:r.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:N5,mathmlBuilder:_x});Ct({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:s}},htmlBuilder:(r,e)=>{var t=Fr(r.base,e),n=Za.svgSpan(r,e),s=r.label==="\\utilde"?.12:0,i=Ue.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord","accentunder"],[i],e)},mathmlBuilder:(r,e)=>{var t=Za.mathMLnode(r.label),n=new pt.MathNode("munder",[ln(r.base,e),t]);return n.setAttribute("accentunder","true"),n}});var bh=r=>{var e=new pt.MathNode("mpadded",r?[r]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ct({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n,funcName:s}=r;return{type:"xArrow",mode:n.mode,label:s,body:e[0],below:t[0]}},htmlBuilder(r,e){var t=e.style,n=e.havingStyle(t.sup()),s=Ue.wrapFragment(Fr(r.body,n,e),e),i=r.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(i+"-arrow-pad");var o;r.below&&(n=e.havingStyle(t.sub()),o=Ue.wrapFragment(Fr(r.below,n,e),e),o.classes.push(i+"-arrow-pad"));var a=Za.svgSpan(r,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(s.depth>.25||r.label==="\\xleftequilibrium")&&(c-=s.depth);var u;if(o){var f=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;u=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:f}]},e)}else u=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:c},{type:"elem",elem:a,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),Ue.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(r,e){var t=Za.mathMLnode(r.label);t.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(r.body){var s=bh(ln(r.body,e));if(r.below){var i=bh(ln(r.below,e));n=new pt.MathNode("munderover",[t,i,s])}else n=new pt.MathNode("mover",[t,s])}else if(r.below){var o=bh(ln(r.below,e));n=new pt.MathNode("munder",[t,o])}else n=bh(),n=new pt.MathNode("mover",[t,n]);return n}});var SU=Ue.makeSpan;function xx(r,e){var t=ms(r.body,e,!0);return SU([r.mclass],t,e)}function kx(r,e){var t,n=Li(r.body,e);return r.mclass==="minner"?t=new pt.MathNode("mpadded",n):r.mclass==="mord"?r.isCharacterBox?(t=n[0],t.type="mi"):t=new pt.MathNode("mi",n):(r.isCharacterBox?(t=n[0],t.type="mo"):t=new pt.MathNode("mo",n),r.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):r.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):r.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Ct({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:ts(s),isCharacterBox:or.isCharacterBox(s)}},htmlBuilder:xx,mathmlBuilder:kx});var hp=r=>{var e=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ct({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,e){var{parser:t}=r;return{type:"mclass",mode:t.mode,mclass:hp(e[0]),body:ts(e[1]),isCharacterBox:or.isCharacterBox(e[1])}}});Ct({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,e){var{parser:t,funcName:n}=r,s=e[1],i=e[0],o;n!=="\\stackrel"?o=hp(s):o="mrel";var a={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:ts(s)},l={type:"supsub",mode:i.mode,base:a,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:t.mode,mclass:o,body:[l],isCharacterBox:or.isCharacterBox(l)}},htmlBuilder:xx,mathmlBuilder:kx});Ct({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"pmb",mode:t.mode,mclass:hp(e[0]),body:ts(e[0])}},htmlBuilder(r,e){var t=ms(r.body,e,!0),n=Ue.makeSpan([r.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(r,e){var t=Li(r.body,e),n=new pt.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var AU={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},W7=()=>({type:"styling",body:[],mode:"math",style:"display"}),Y7=r=>r.type==="textord"&&r.text==="@",TU=(r,e)=>(r.type==="mathord"||r.type==="atom")&&r.text===e;function NU(r,e,t){var n=AU[r];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=t.callFunction("\\\\cdleft",[e[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},o=t.callFunction("\\Big",[i],[]),a=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[s,o,a]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function MU(r){var e=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){e.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var t=r.fetch().text;if(t==="&"||t==="\\\\")r.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new mt("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var n=[],s=[n],i=0;i<e.length;i++){for(var o=e[i],a=W7(),l=0;l<o.length;l++)if(!Y7(o[l]))a.body.push(o[l]);else{n.push(a),l+=1;var c=T5(o[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var f=0;f<2;f++){for(var h=!0,d=l+1;d<o.length;d++){if(TU(o[d],c)){h=!1,l=d;break}if(Y7(o[d]))throw new mt("Missing a "+c+" character to complete a CD arrow.",o[d]);u[f].body.push(o[d])}if(h)throw new mt("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new mt('Expected one of "<>AV=|." after @',o[l]);var p=NU(c,u,r),g={type:"styling",body:[p],mode:"math",style:"display"};n.push(g),a=W7()}i%2===0?n.push(a):n.shift(),n=[],s.push(n)}r.gullet.endGroup(),r.gullet.endGroup();var w=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}Ct({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(r,e){var t=e.havingStyle(e.style.sup()),n=Ue.wrapFragment(Fr(r.label,t,e),e);return n.classes.push("cd-label-"+r.side),n.style.bottom=vt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(r,e){var t=new pt.MathNode("mrow",[ln(r.label,e)]);return t=new pt.MathNode("mpadded",[t]),t.setAttribute("width","0"),r.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new pt.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Ct({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,e){var{parser:t}=r;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(r,e){var t=Ue.wrapFragment(Fr(r.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(r,e){return new pt.MathNode("mrow",[ln(r.fragment,e)])}});Ct({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,e){for(var{parser:t}=r,n=_r(e[0],"ordgroup"),s=n.body,i="",o=0;o<s.length;o++){var a=_r(s[o],"textord");i+=a.text}var l=parseInt(i),c;if(isNaN(l))throw new mt("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new mt("\\@char with invalid code point "+i);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:c}}});var Sx=(r,e)=>{var t=ms(r.body,e.withColor(r.color),!1);return Ue.makeFragment(t)},Ax=(r,e)=>{var t=Li(r.body,e.withColor(r.color)),n=new pt.MathNode("mstyle",t);return n.setAttribute("mathcolor",r.color),n};Ct({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,e){var{parser:t}=r,n=_r(e[0],"color-token").color,s=e[1];return{type:"color",mode:t.mode,color:n,body:ts(s)}},htmlBuilder:Sx,mathmlBuilder:Ax});Ct({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,e){var{parser:t,breakOnTokenText:n}=r,s=_r(e[0],"color-token").color;t.gullet.macros.set("\\current@color",s);var i=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:s,body:i}},htmlBuilder:Sx,mathmlBuilder:Ax});Ct({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,e,t){var{parser:n}=r,s=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:s&&_r(s,"size").value}},htmlBuilder(r,e){var t=Ue.makeSpan(["mspace"],[],e);return r.newLine&&(t.classes.push("newline"),r.size&&(t.style.marginTop=vt(Pn(r.size,e)))),t},mathmlBuilder(r,e){var t=new pt.MathNode("mspace");return r.newLine&&(t.setAttribute("linebreak","newline"),r.size&&t.setAttribute("height",vt(Pn(r.size,e)))),t}});var og={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Tx=r=>{var e=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new mt("Expected a control sequence",r);return e},CU=r=>{var e=r.gullet.popToken();return e.text==="="&&(e=r.gullet.popToken(),e.text===" "&&(e=r.gullet.popToken())),e},Nx=(r,e,t,n)=>{var s=r.gullet.macros.get(t.text);s==null&&(t.noexpand=!0,s={tokens:[t],numArgs:0,unexpandable:!r.gullet.isExpandable(t.text)}),r.gullet.macros.set(e,s,n)};Ct({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e,funcName:t}=r;e.consumeSpaces();var n=e.fetch();if(og[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=og[n.text]),_r(e.parseFunction(),"internal");throw new mt("Invalid token after macro prefix",n)}});Ct({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=e.gullet.popToken(),s=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new mt("Expected a control sequence",n);for(var i=0,o,a=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[i].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new mt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new mt('Argument number "'+n.text+'" out of order');i++,a.push([])}else{if(n.text==="EOF")throw new mt("Expected a macro definition");a[i].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(s,{tokens:l,numArgs:i,delimiters:a},t===og[t]),{type:"internal",mode:e.mode}}});Ct({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=Tx(e.gullet.popToken());e.gullet.consumeSpaces();var s=CU(e);return Nx(e,n,s,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ct({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=Tx(e.gullet.popToken()),s=e.gullet.popToken(),i=e.gullet.popToken();return Nx(e,n,i,t==="\\\\globalfuture"),e.gullet.pushToken(i),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var kf=function(e,t,n){var s=gn.math[e]&&gn.math[e].replace,i=_5(s||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},M5=function(e,t,n,s){var i=n.havingBaseStyle(t),o=Ue.makeSpan(s.concat(i.sizingClasses(n)),[e],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},Mx=function(e,t,n){var s=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/s.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=vt(i),e.height-=i,e.depth+=i},LU=function(e,t,n,s,i,o){var a=Ue.makeSymbol(e,"Main-Regular",i,s),l=M5(a,t,s,o);return n&&Mx(l,s,t),l},$U=function(e,t,n,s){return Ue.makeSymbol(e,"Size"+t+"-Regular",n,s)},Cx=function(e,t,n,s,i,o){var a=$U(e,t,i,s),l=M5(Ue.makeSpan(["delimsizing","size"+t],[a],s),Xt.TEXT,s,o);return n&&Mx(l,s,Xt.TEXT),l},zm=function(e,t,n){var s;t==="Size1-Regular"?s="delim-size1":s="delim-size4";var i=Ue.makeSpan(["delimsizinginner",s],[Ue.makeSpan([],[Ue.makeSymbol(e,t,n)])]);return{type:"elem",elem:i}},qm=function(e,t,n){var s=aa["Size4-Regular"][e.charCodeAt(0)]?aa["Size4-Regular"][e.charCodeAt(0)][4]:aa["Size1-Regular"][e.charCodeAt(0)][4],i=new rc("inner",RV(e,Math.round(1e3*t))),o=new Ka([i],{width:vt(s),height:vt(t),style:"width:"+vt(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=Ue.makeSvgSpan([],[o],n);return a.height=t,a.style.height=vt(t),a.style.width=vt(s),{type:"elem",elem:a}},ag=.008,vh={type:"kern",size:-1*ag},OU=["|","\\lvert","\\rvert","\\vert"],IU=["\\|","\\lVert","\\rVert","\\Vert"],Lx=function(e,t,n,s,i,o){var a,l,c,u,f="",h=0;a=c=u=e,l=null;var d="Size1-Regular";e==="\\uparrow"?c=u="⏐":e==="\\Uparrow"?c=u="‖":e==="\\downarrow"?a=c="⏐":e==="\\Downarrow"?a=c="‖":e==="\\updownarrow"?(a="\\uparrow",c="⏐",u="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="‖",u="\\Downarrow"):or.contains(OU,e)?(c="∣",f="vert",h=333):or.contains(IU,e)?(c="∥",f="doublevert",h=556):e==="["||e==="\\lbrack"?(a="⎡",c="⎢",u="⎣",d="Size4-Regular",f="lbrack",h=667):e==="]"||e==="\\rbrack"?(a="⎤",c="⎥",u="⎦",d="Size4-Regular",f="rbrack",h=667):e==="\\lfloor"||e==="⌊"?(c=a="⎢",u="⎣",d="Size4-Regular",f="lfloor",h=667):e==="\\lceil"||e==="⌈"?(a="⎡",c=u="⎢",d="Size4-Regular",f="lceil",h=667):e==="\\rfloor"||e==="⌋"?(c=a="⎥",u="⎦",d="Size4-Regular",f="rfloor",h=667):e==="\\rceil"||e==="⌉"?(a="⎤",c=u="⎥",d="Size4-Regular",f="rceil",h=667):e==="("||e==="\\lparen"?(a="⎛",c="⎜",u="⎝",d="Size4-Regular",f="lparen",h=875):e===")"||e==="\\rparen"?(a="⎞",c="⎟",u="⎠",d="Size4-Regular",f="rparen",h=875):e==="\\{"||e==="\\lbrace"?(a="⎧",l="⎨",u="⎩",c="⎪",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="⎫",l="⎬",u="⎭",c="⎪",d="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a="⎧",u="⎩",c="⎪",d="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a="⎫",u="⎭",c="⎪",d="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a="⎧",u="⎭",c="⎪",d="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(a="⎫",u="⎩",c="⎪",d="Size4-Regular");var p=kf(a,d,i),g=p.height+p.depth,w=kf(c,d,i),v=w.height+w.depth,_=kf(u,d,i),k=_.height+_.depth,A=0,C=1;if(l!==null){var N=kf(l,d,i);A=N.height+N.depth,C=2}var T=g+k+A,O=Math.max(0,Math.ceil((t-T)/(C*v))),D=T+O*C*v,Q=s.fontMetrics().axisHeight;n&&(Q*=s.sizeMultiplier);var E=D/2-Q,j=[];if(f.length>0){var J=D-g-k,U=Math.round(D*1e3),ne=FV(f,Math.round(J*1e3)),G=new rc(f,ne),ae=(h/1e3).toFixed(3)+"em",q=(U/1e3).toFixed(3)+"em",F=new Ka([G],{width:ae,height:q,viewBox:"0 0 "+h+" "+U}),te=Ue.makeSvgSpan([],[F],s);te.height=U/1e3,te.style.width=ae,te.style.height=q,j.push({type:"elem",elem:te})}else{if(j.push(zm(u,d,i)),j.push(vh),l===null){var B=D-g-k+2*ag;j.push(qm(c,B,s))}else{var L=(D-g-k-A)/2+2*ag;j.push(qm(c,L,s)),j.push(vh),j.push(zm(l,d,i)),j.push(vh),j.push(qm(c,L,s))}j.push(vh),j.push(zm(a,d,i))}var Y=s.havingBaseStyle(Xt.TEXT),re=Ue.makeVList({positionType:"bottom",positionData:E,children:j},Y);return M5(Ue.makeSpan(["delimsizing","mult"],[re],Y),Xt.TEXT,s,o)},Hm=80,Vm=.08,Um=function(e,t,n,s,i){var o=DV(e,s,n),a=new rc(e,o),l=new Ka([a],{width:"400em",height:vt(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ue.makeSvgSpan(["hide-tail"],[l],i)},EU=function(e,t){var n=t.havingBaseSizing(),s=Ex("\\surd",e*n.sizeMultiplier,Ix,n),i=n.sizeMultiplier,o=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),a,l=0,c=0,u=0,f;return s.type==="small"?(u=1e3+1e3*o+Hm,e<1?i=1:e<1.4&&(i=.7),l=(1+o+Vm)/i,c=(1+o)/i,a=Um("sqrtMain",l,u,o,t),a.style.minWidth="0.853em",f=.833/i):s.type==="large"?(u=(1e3+Hm)*Df[s.size],c=(Df[s.size]+o)/i,l=(Df[s.size]+o+Vm)/i,a=Um("sqrtSize"+s.size,l,u,o,t),a.style.minWidth="1.02em",f=1/i):(l=e+o+Vm,c=e+o,u=Math.floor(1e3*e+o)+Hm,a=Um("sqrtTall",l,u,o,t),a.style.minWidth="0.742em",f=1.056),a.height=c,a.style.height=vt(l),{span:a,advanceWidth:f,ruleWidth:(t.fontMetrics().sqrtRuleThickness+o)*i}},$x=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],PU=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Ox=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Df=[0,1.2,1.8,2.4,3],DU=function(e,t,n,s,i){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),or.contains($x,e)||or.contains(Ox,e))return Cx(e,t,!1,n,s,i);if(or.contains(PU,e))return Lx(e,Df[t],!1,n,s,i);throw new mt("Illegal delimiter: '"+e+"'")},RU=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],FU=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"stack"}],Ix=[{type:"small",style:Xt.SCRIPTSCRIPT},{type:"small",style:Xt.SCRIPT},{type:"small",style:Xt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],jU=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Ex=function(e,t,n,s){for(var i=Math.min(2,3-s.style.size),o=i;o<n.length&&n[o].type!=="stack";o++){var a=kf(e,jU(n[o]),"math"),l=a.height+a.depth;if(n[o].type==="small"){var c=s.havingBaseStyle(n[o].style);l*=c.sizeMultiplier}if(l>t)return n[o]}return n[n.length-1]},Px=function(e,t,n,s,i,o){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var a;or.contains(Ox,e)?a=RU:or.contains($x,e)?a=Ix:a=FU;var l=Ex(e,t,a,s);return l.type==="small"?LU(e,l.style,n,s,i,o):l.type==="large"?Cx(e,l.size,n,s,i,o):Lx(e,t,n,s,i,o)},BU=function(e,t,n,s,i,o){var a=s.fontMetrics().axisHeight*s.sizeMultiplier,l=901,c=5/s.fontMetrics().ptPerEm,u=Math.max(t-a,n+a),f=Math.max(u/500*l,2*u-c);return Px(e,f,!0,s,i,o)},Ga={sqrtImage:EU,sizedDelim:DU,sizeToMaxHeight:Df,customSizedDelim:Px,leftRightDelim:BU},Q7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},zU=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pp(r,e){var t=dp(r);if(t&&or.contains(zU,t.text))return t;throw t?new mt("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",r):new mt("Invalid delimiter type '"+r.type+"'",r)}Ct({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,e)=>{var t=pp(e[0],r);return{type:"delimsizing",mode:r.parser.mode,size:Q7[r.funcName].size,mclass:Q7[r.funcName].mclass,delim:t.text}},htmlBuilder:(r,e)=>r.delim==="."?Ue.makeSpan([r.mclass]):Ga.sizedDelim(r.delim,r.size,e,r.mode,[r.mclass]),mathmlBuilder:r=>{var e=[];r.delim!=="."&&e.push(oo(r.delim,r.mode));var t=new pt.MathNode("mo",e);r.mclass==="mopen"||r.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=vt(Ga.sizeToMaxHeight[r.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function G7(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ct({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=r.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new mt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:pp(e[0],r).text,color:t}}});Ct({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=pp(e[0],r),n=r.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=_r(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:t.text,right:i.delim,rightColor:i.color}},htmlBuilder:(r,e)=>{G7(r);for(var t=ms(r.body,e,!0,["mopen","mclose"]),n=0,s=0,i=!1,o=0;o<t.length;o++)t[o].isMiddle?i=!0:(n=Math.max(t[o].height,n),s=Math.max(t[o].depth,s));n*=e.sizeMultiplier,s*=e.sizeMultiplier;var a;if(r.left==="."?a=nd(e,["mopen"]):a=Ga.leftRightDelim(r.left,n,s,e,r.mode,["mopen"]),t.unshift(a),i)for(var l=1;l<t.length;l++){var c=t[l],u=c.isMiddle;u&&(t[l]=Ga.leftRightDelim(u.delim,n,s,u.options,r.mode,[]))}var f;if(r.right===".")f=nd(e,["mclose"]);else{var h=r.rightColor?e.withColor(r.rightColor):e;f=Ga.leftRightDelim(r.right,n,s,h,r.mode,["mclose"])}return t.push(f),Ue.makeSpan(["minner"],t,e)},mathmlBuilder:(r,e)=>{G7(r);var t=Li(r.body,e);if(r.left!=="."){var n=new pt.MathNode("mo",[oo(r.left,r.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(r.right!=="."){var s=new pt.MathNode("mo",[oo(r.right,r.mode)]);s.setAttribute("fence","true"),r.rightColor&&s.setAttribute("mathcolor",r.rightColor),t.push(s)}return S5(t)}});Ct({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=pp(e[0],r);if(!r.parser.leftrightDepth)throw new mt("\\middle without preceding \\left",t);return{type:"middle",mode:r.parser.mode,delim:t.text}},htmlBuilder:(r,e)=>{var t;if(r.delim===".")t=nd(e,[]);else{t=Ga.sizedDelim(r.delim,1,e,r.mode,[]);var n={delim:r.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(r,e)=>{var t=r.delim==="\\vert"||r.delim==="|"?oo("|","text"):oo(r.delim,r.mode),n=new pt.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var C5=(r,e)=>{var t=Ue.wrapFragment(Fr(r.body,e),e),n=r.label.slice(1),s=e.sizeMultiplier,i,o=0,a=or.isCharacterBox(r.body);if(n==="sout")i=Ue.makeSpan(["stretchy","sout"]),i.height=e.fontMetrics().defaultRuleThickness/s,o=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=Pn({number:.6,unit:"pt"},e),c=Pn({number:.35,unit:"ex"},e),u=e.havingBaseSizing();s=s/u.sizeMultiplier;var f=t.height+t.depth+l+c;t.style.paddingLeft=vt(f/2+l);var h=Math.floor(1e3*f*s),d=EV(h),p=new Ka([new rc("phase",d)],{width:"400em",height:vt(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});i=Ue.makeSvgSpan(["hide-tail"],[p],e),i.style.height=vt(f),o=t.depth+l+c}else{/cancel/.test(n)?a||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var g=0,w=0,v=0;/box/.test(n)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(n==="colorbox"?0:v),w=g):n==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*v,w=Math.max(0,.25-t.depth)):(g=a?.2:0,w=g),i=Za.encloseSpan(t,n,g,w,e),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=vt(v)):n==="angl"&&v!==.049&&(i.style.borderTopWidth=vt(v),i.style.borderRightWidth=vt(v)),o=t.depth+w,r.backgroundColor&&(i.style.backgroundColor=r.backgroundColor,r.borderColor&&(i.style.borderColor=r.borderColor))}var _;if(r.backgroundColor)_=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:o},{type:"elem",elem:t,shift:0}]},e);else{var k=/cancel|phase/.test(n)?["svg-align"]:[];_=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:i,shift:o,wrapperClasses:k}]},e)}return/cancel/.test(n)&&(_.height=t.height,_.depth=t.depth),/cancel/.test(n)&&!a?Ue.makeSpan(["mord","cancel-lap"],[_],e):Ue.makeSpan(["mord"],[_],e)},L5=(r,e)=>{var t=0,n=new pt.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ln(r.body,e)]);switch(r.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),r.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(r.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&n.setAttribute("mathbackground",r.backgroundColor),n};Ct({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,e,t){var{parser:n,funcName:s}=r,i=_r(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:i,body:o}},htmlBuilder:C5,mathmlBuilder:L5});Ct({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,e,t){var{parser:n,funcName:s}=r,i=_r(e[0],"color-token").color,o=_r(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:o,borderColor:i,body:a}},htmlBuilder:C5,mathmlBuilder:L5});Ct({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Ct({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"enclose",mode:t.mode,label:n,body:s}},htmlBuilder:C5,mathmlBuilder:L5});Ct({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Dx={};function wa(r){for(var{type:e,names:t,props:n,handler:s,htmlBuilder:i,mathmlBuilder:o}=r,a={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},l=0;l<t.length;++l)Dx[t[l]]=a;i&&(_1[e]=i),o&&(x1[e]=o)}var Rx={};function me(r,e){Rx[r]=e}function J7(r){var e=[];r.consumeSpaces();var t=r.fetch().text;for(t==="\\relax"&&(r.consume(),r.consumeSpaces(),t=r.fetch().text);t==="\\hline"||t==="\\hdashline";)r.consume(),e.push(t==="\\hdashline"),r.consumeSpaces(),t=r.fetch().text;return e}var mp=r=>{var e=r.parser.settings;if(!e.displayMode)throw new mt("{"+r.envName+"} can be used only in display mode.")};function $5(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function cc(r,e,t){var{hskipBeforeAndAfter:n,addJot:s,cols:i,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:f,leqno:h}=e;if(r.gullet.beginGroup(),c||r.gullet.macros.set("\\cr","\\\\\\relax"),!o){var d=r.gullet.expandMacroAsText("\\arraystretch");if(d==null)o=1;else if(o=parseFloat(d),!o||o<0)throw new mt("Invalid \\arraystretch: "+d)}r.gullet.beginGroup();var p=[],g=[p],w=[],v=[],_=l!=null?[]:void 0;function k(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function A(){_&&(r.gullet.macros.get("\\df@tag")?(_.push(r.subparse([new ua("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):_.push(!!l&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),v.push(J7(r));;){var C=r.parseExpression(!1,c?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),C={type:"ordgroup",mode:r.mode,body:C},t&&(C={type:"styling",mode:r.mode,style:t,body:[C]}),p.push(C);var N=r.fetch().text;if(N==="&"){if(f&&p.length===f){if(c||a)throw new mt("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(N==="\\end"){A(),p.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!u)&&g.pop(),v.length<g.length+1&&v.push([]);break}else if(N==="\\\\"){r.consume();var T=void 0;r.gullet.future().text!==" "&&(T=r.parseSizeGroup(!0)),w.push(T?T.value:null),A(),v.push(J7(r)),p=[],g.push(p),k()}else throw new mt("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:s,arraystretch:o,body:g,cols:i,rowGaps:w,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:a,tags:_,leqno:h}}function O5(r){return r.slice(0,1)==="d"?"display":"text"}var _a=function(e,t){var n,s,i=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(i),c=[],u=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),f=1/t.fontMetrics().ptPerEm,h=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var d=t.havingStyle(Xt.SCRIPT).sizeMultiplier;h=.2778*(d/t.sizeMultiplier)}var p=e.colSeparationType==="CD"?Pn({number:3,unit:"ex"},t):12*f,g=3*f,w=e.arraystretch*p,v=.7*w,_=.3*w,k=0;function A(nt){for(var _e=0;_e<nt.length;++_e)_e>0&&(k+=.25),c.push({pos:k,isDashed:nt[_e]})}for(A(o[0]),n=0;n<e.body.length;++n){var C=e.body[n],N=v,T=_;a<C.length&&(a=C.length);var O=new Array(C.length);for(s=0;s<C.length;++s){var D=Fr(C[s],t);T<D.depth&&(T=D.depth),N<D.height&&(N=D.height),O[s]=D}var Q=e.rowGaps[n],E=0;Q&&(E=Pn(Q,t),E>0&&(E+=_,T<E&&(T=E),E=0)),e.addJot&&(T+=g),O.height=N,O.depth=T,k+=N,O.pos=k,k+=T+E,l[n]=O,A(o[n+1])}var j=k/2+t.fontMetrics().axisHeight,J=e.cols||[],U=[],ne,G,ae=[];if(e.tags&&e.tags.some(nt=>nt))for(n=0;n<i;++n){var q=l[n],F=q.pos-j,te=e.tags[n],B=void 0;te===!0?B=Ue.makeSpan(["eqn-num"],[],t):te===!1?B=Ue.makeSpan([],[],t):B=Ue.makeSpan([],ms(te,t,!0),t),B.depth=q.depth,B.height=q.height,ae.push({type:"elem",elem:B,shift:F})}for(s=0,G=0;s<a||G<J.length;++s,++G){for(var L=J[G]||{},Y=!0;L.type==="separator";){if(Y||(ne=Ue.makeSpan(["arraycolsep"],[]),ne.style.width=vt(t.fontMetrics().doubleRuleSep),U.push(ne)),L.separator==="|"||L.separator===":"){var re=L.separator==="|"?"solid":"dashed",X=Ue.makeSpan(["vertical-separator"],[],t);X.style.height=vt(k),X.style.borderRightWidth=vt(u),X.style.borderRightStyle=re,X.style.margin="0 "+vt(-u/2);var K=k-j;K&&(X.style.verticalAlign=vt(-K)),U.push(X)}else throw new mt("Invalid separator type: "+L.separator);G++,L=J[G]||{},Y=!1}if(!(s>=a)){var W=void 0;(s>0||e.hskipBeforeAndAfter)&&(W=or.deflt(L.pregap,h),W!==0&&(ne=Ue.makeSpan(["arraycolsep"],[]),ne.style.width=vt(W),U.push(ne)));var pe=[];for(n=0;n<i;++n){var be=l[n],Ne=be[s];if(Ne){var Ae=be.pos-j;Ne.depth=be.depth,Ne.height=be.height,pe.push({type:"elem",elem:Ne,shift:Ae})}}pe=Ue.makeVList({positionType:"individualShift",children:pe},t),pe=Ue.makeSpan(["col-align-"+(L.align||"c")],[pe]),U.push(pe),(s<a-1||e.hskipBeforeAndAfter)&&(W=or.deflt(L.postgap,h),W!==0&&(ne=Ue.makeSpan(["arraycolsep"],[]),ne.style.width=vt(W),U.push(ne)))}}if(l=Ue.makeSpan(["mtable"],U),c.length>0){for(var qe=Ue.makeLineSpan("hline",t,u),Me=Ue.makeLineSpan("hdashline",t,u),Ee=[{type:"elem",elem:l,shift:0}];c.length>0;){var Le=c.pop(),ve=Le.pos-j;Le.isDashed?Ee.push({type:"elem",elem:Me,shift:ve}):Ee.push({type:"elem",elem:qe,shift:ve})}l=Ue.makeVList({positionType:"individualShift",children:Ee},t)}if(ae.length===0)return Ue.makeSpan(["mord"],[l],t);var Xe=Ue.makeVList({positionType:"individualShift",children:ae},t);return Xe=Ue.makeSpan(["tag"],[Xe],t),Ue.makeFragment([l,Xe])},qU={c:"center ",l:"left ",r:"right "},xa=function(e,t){for(var n=[],s=new pt.MathNode("mtd",[],["mtr-glue"]),i=new pt.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new pt.MathNode("mtd",[ln(a[c],t)]));e.tags&&e.tags[o]&&(l.unshift(s),l.push(s),e.leqno?l.unshift(i):l.push(i)),n.push(new pt.MathNode("mtr",l))}var u=new pt.MathNode("mtable",n),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",vt(f));var h="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,g="",w=!1,v=0,_=p.length;p[0].type==="separator"&&(h+="top ",v=1),p[p.length-1].type==="separator"&&(h+="bottom ",_-=1);for(var k=v;k<_;k++)p[k].type==="align"?(d+=qU[p[k].align],w&&(g+="none "),w=!0):p[k].type==="separator"&&w&&(g+=p[k].separator==="|"?"solid ":"dashed ",w=!1);u.setAttribute("columnalign",d.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var A=e.cols||[],C="",N=1;N<A.length;N++)C+=N%2?"0em ":"1em ";u.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var T="",O=e.hLinesBeforeRow;h+=O[0].length>0?"left ":"",h+=O[O.length-1].length>0?"right ":"";for(var D=1;D<O.length-1;D++)T+=O[D].length===0?"none ":O[D][0]?"dashed ":"solid ";return/[sd]/.test(T)&&u.setAttribute("rowlines",T.trim()),h!==""&&(u=new pt.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new pt.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},Fx=function(e,t){e.envName.indexOf("ed")===-1&&mp(e);var n=[],s=e.envName.indexOf("at")>-1?"alignat":"align",i=e.envName==="split",o=cc(e.parser,{cols:n,addJot:!0,autoTag:i?void 0:$5(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var u="",f=0;f<t[0].body.length;f++){var h=_r(t[0].body[f],"textord");u+=h.text}a=Number(u),l=a*2}var d=!l;o.body.forEach(function(v){for(var _=1;_<v.length;_+=2){var k=_r(v[_],"styling"),A=_r(k.body[0],"ordgroup");A.body.unshift(c)}if(d)l<v.length&&(l=v.length);else{var C=v.length/2;if(a<C)throw new mt("Too many math in a row: "+("expected "+a+", but got "+C),v[0])}});for(var p=0;p<l;++p){var g="r",w=0;p%2===1?g="l":p>0&&d&&(w=1),n[p]={type:"align",align:g,pregap:w,postgap:0}}return o.colSeparationType=d?"align":"alignat",o};wa({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,e){var t=dp(e[0]),n=t?[e[0]]:_r(e[0],"ordgroup").body,s=n.map(function(o){var a=T5(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new mt("Unknown column alignment: "+l,o)}),i={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return cc(r.parser,i,O5(r.envName))},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(r.envName.charAt(r.envName.length-1)==="*"){var s=r.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),t=s.fetch().text,"lcr".indexOf(t)===-1)throw new mt("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),n.cols=[{type:"align",align:t}]}}var i=cc(r.parser,n,O5(r.envName)),o=Math.max(0,...i.body.map(a=>a.length));return i.cols=new Array(o).fill({type:"align",align:t}),e?{type:"leftright",mode:r.mode,body:[i],left:e[0],right:e[1],rightColor:void 0}:i},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var e={arraystretch:.5},t=cc(r.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["subarray"],props:{numArgs:1},handler(r,e){var t=dp(e[0]),n=t?[e[0]]:_r(e[0],"ordgroup").body,s=n.map(function(o){var a=T5(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new mt("Unknown column alignment: "+l,o)});if(s.length>1)throw new mt("{subarray} can contain only one column");var i={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=cc(r.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new mt("{subarray} can contain only one column");return i},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=cc(r.parser,e,O5(r.envName));return{type:"leftright",mode:r.mode,body:[t],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Fx,htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){or.contains(["gather","gather*"],r.envName)&&mp(r);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$5(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return cc(r.parser,e,"display")},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Fx,htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){mp(r);var e={autoTag:$5(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return cc(r.parser,e,"display")},htmlBuilder:_a,mathmlBuilder:xa});wa({type:"array",names:["CD"],props:{numArgs:0},handler(r){return mp(r),MU(r.parser)},htmlBuilder:_a,mathmlBuilder:xa});me("\\nonumber","\\gdef\\@eqnsw{0}");me("\\notag","\\nonumber");Ct({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,e){throw new mt(r.funcName+" valid only within array environment")}});var K7=Dx;Ct({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];if(s.type!=="ordgroup")throw new mt("Invalid environment name",s);for(var i="",o=0;o<s.body.length;++o)i+=_r(s.body[o],"textord").text;if(n==="\\begin"){if(!K7.hasOwnProperty(i))throw new mt("No such environment: "+i,s);var a=K7[i],{args:l,optArgs:c}=t.parseArguments("\\begin{"+i+"}",a),u={mode:t.mode,envName:i,parser:t},f=a.handler(u,l,c);t.expect("\\end",!1);var h=t.nextToken,d=_r(t.parseFunction(),"environment");if(d.name!==i)throw new mt("Mismatch: \\begin{"+i+"} matched by \\end{"+d.name+"}",h);return f}return{type:"environment",mode:t.mode,name:i,nameGroup:s}}});var jx=(r,e)=>{var t=r.font,n=e.withFont(t);return Fr(r.body,n)},Bx=(r,e)=>{var t=r.font,n=e.withFont(t);return ln(r.body,n)},X7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ct({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=k1(e[0]),i=n;return i in X7&&(i=X7[i]),{type:"font",mode:t.mode,font:i.slice(1),body:s}},htmlBuilder:jx,mathmlBuilder:Bx});Ct({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,e)=>{var{parser:t}=r,n=e[0],s=or.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:hp(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}});Ct({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,breakOnTokenText:s}=r,{mode:i}=t,o=t.parseExpression(!0,s),a="math"+n.slice(1);return{type:"font",mode:i,font:a,body:{type:"ordgroup",mode:t.mode,body:o}}},htmlBuilder:jx,mathmlBuilder:Bx});var zx=(r,e)=>{var t=e;return r==="display"?t=t.id>=Xt.SCRIPT.id?t.text():Xt.DISPLAY:r==="text"&&t.size===Xt.DISPLAY.size?t=Xt.TEXT:r==="script"?t=Xt.SCRIPT:r==="scriptscript"&&(t=Xt.SCRIPTSCRIPT),t},I5=(r,e)=>{var t=zx(r.size,e.style),n=t.fracNum(),s=t.fracDen(),i;i=e.havingStyle(n);var o=Fr(r.numer,i,e);if(r.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}i=e.havingStyle(s);var c=Fr(r.denom,i,e),u,f,h;r.hasBarLine?(r.barSize?(f=Pn(r.barSize,e),u=Ue.makeLineSpan("frac-line",e,f)):u=Ue.makeLineSpan("frac-line",e),f=u.height,h=u.height):(u=null,f=0,h=e.fontMetrics().defaultRuleThickness);var d,p,g;t.size===Xt.DISPLAY.size||r.size==="display"?(d=e.fontMetrics().num1,f>0?p=3*h:p=7*h,g=e.fontMetrics().denom1):(f>0?(d=e.fontMetrics().num2,p=h):(d=e.fontMetrics().num3,p=3*h),g=e.fontMetrics().denom2);var w;if(u){var _=e.fontMetrics().axisHeight;d-o.depth-(_+.5*f)<p&&(d+=p-(d-o.depth-(_+.5*f))),_-.5*f-(c.height-g)<p&&(g+=p-(_-.5*f-(c.height-g)));var k=-(_-.5*f);w=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:u,shift:k},{type:"elem",elem:o,shift:-d}]},e)}else{var v=d-o.depth-(c.height-g);v<p&&(d+=.5*(p-v),g+=.5*(p-v)),w=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:o,shift:-d}]},e)}i=e.havingStyle(t),w.height*=i.sizeMultiplier/e.sizeMultiplier,w.depth*=i.sizeMultiplier/e.sizeMultiplier;var A;t.size===Xt.DISPLAY.size?A=e.fontMetrics().delim1:t.size===Xt.SCRIPTSCRIPT.size?A=e.havingStyle(Xt.SCRIPT).fontMetrics().delim2:A=e.fontMetrics().delim2;var C,N;return r.leftDelim==null?C=nd(e,["mopen"]):C=Ga.customSizedDelim(r.leftDelim,A,!0,e.havingStyle(t),r.mode,["mopen"]),r.continued?N=Ue.makeSpan([]):r.rightDelim==null?N=nd(e,["mclose"]):N=Ga.customSizedDelim(r.rightDelim,A,!0,e.havingStyle(t),r.mode,["mclose"]),Ue.makeSpan(["mord"].concat(i.sizingClasses(e)),[C,Ue.makeSpan(["mfrac"],[w]),N],e)},E5=(r,e)=>{var t=new pt.MathNode("mfrac",[ln(r.numer,e),ln(r.denom,e)]);if(!r.hasBarLine)t.setAttribute("linethickness","0px");else if(r.barSize){var n=Pn(r.barSize,e);t.setAttribute("linethickness",vt(n))}var s=zx(r.size,e.style);if(s.size!==e.style.size){t=new pt.MathNode("mstyle",[t]);var i=s.size===Xt.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",i),t.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var o=[];if(r.leftDelim!=null){var a=new pt.MathNode("mo",[new pt.TextNode(r.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(t),r.rightDelim!=null){var l=new pt.MathNode("mo",[new pt.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return S5(o)}return t};Ct({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=e[1],o,a=null,l=null,c="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:s,denom:i,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:I5,mathmlBuilder:E5});Ct({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:s,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ct({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:e,funcName:t,token:n}=r,s;switch(t){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:n}}});var Z7=["display","text","script","scriptscript"],ev=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Ct({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,e){var{parser:t}=r,n=e[4],s=e[5],i=k1(e[0]),o=i.type==="atom"&&i.family==="open"?ev(i.text):null,a=k1(e[1]),l=a.type==="atom"&&a.family==="close"?ev(a.text):null,c=_r(e[2],"size"),u,f=null;c.isBlank?u=!0:(f=c.value,u=f.number>0);var h="auto",d=e[3];if(d.type==="ordgroup"){if(d.body.length>0){var p=_r(d.body[0],"textord");h=Z7[Number(p.text)]}}else d=_r(d,"textord"),h=Z7[Number(d.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:s,continued:!1,hasBarLine:u,barSize:f,leftDelim:o,rightDelim:l,size:h}},htmlBuilder:I5,mathmlBuilder:E5});Ct({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,e){var{parser:t,funcName:n,token:s}=r;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:_r(e[0],"size").value,token:s}}});Ct({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=yV(_r(e[1],"infix").size),o=e[2],a=i.number>0;return{type:"genfrac",mode:t.mode,numer:s,denom:o,continued:!1,hasBarLine:a,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:I5,mathmlBuilder:E5});var qx=(r,e)=>{var t=e.style,n,s;r.type==="supsub"?(n=r.sup?Fr(r.sup,e.havingStyle(t.sup()),e):Fr(r.sub,e.havingStyle(t.sub()),e),s=_r(r.base,"horizBrace")):s=_r(r,"horizBrace");var i=Fr(s.base,e.havingBaseStyle(Xt.DISPLAY)),o=Za.svgSpan(s,e),a;if(s.isOver?(a=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=Ue.makeVList({positionType:"bottom",positionData:i.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:i}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),n){var l=Ue.makeSpan(["mord",s.isOver?"mover":"munder"],[a],e);s.isOver?a=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):a=Ue.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Ue.makeSpan(["mord",s.isOver?"mover":"munder"],[a],e)},HU=(r,e)=>{var t=Za.mathMLnode(r.label);return new pt.MathNode(r.isOver?"mover":"munder",[ln(r.base,e),t])};Ct({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:qx,mathmlBuilder:HU});Ct({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[1],s=_r(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:t.mode,href:s,body:ts(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(r,e)=>{var t=ms(r.body,e,!1);return Ue.makeAnchor(r.href,[],t,e)},mathmlBuilder:(r,e)=>{var t=nc(r.body,e);return t instanceof eo||(t=new eo("mrow",[t])),t.setAttribute("href",r.href),t}});Ct({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=_r(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var s=[],i=0;i<n.length;i++){var o=n[i];o==="~"&&(o="\\textasciitilde"),s.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:t.mode,font:"\\texttt",body:s};return{type:"href",mode:t.mode,href:n,body:ts(a)}}});Ct({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,e){var{parser:t}=r;return{type:"hbox",mode:t.mode,body:ts(e[0])}},htmlBuilder(r,e){var t=ms(r.body,e,!1);return Ue.makeFragment(t)},mathmlBuilder(r,e){return new pt.MathNode("mrow",Li(r.body,e))}});Ct({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,token:s}=r,i=_r(e[0],"raw").string,o=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(n){case"\\htmlClass":l.class=i,a={command:"\\htmlClass",class:i};break;case"\\htmlId":l.id=i,a={command:"\\htmlId",id:i};break;case"\\htmlStyle":l.style=i,a={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var c=i.split(","),u=0;u<c.length;u++){var f=c[u].split("=");if(f.length!==2)throw new mt("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(a)?{type:"html",mode:t.mode,attributes:l,body:ts(o)}:t.formatUnsupportedCmd(n)},htmlBuilder:(r,e)=>{var t=ms(r.body,e,!1),n=["enclosing"];r.attributes.class&&n.push(...r.attributes.class.trim().split(/\s+/));var s=Ue.makeSpan(n,t,e);for(var i in r.attributes)i!=="class"&&r.attributes.hasOwnProperty(i)&&s.setAttribute(i,r.attributes[i]);return s},mathmlBuilder:(r,e)=>nc(r.body,e)});Ct({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"htmlmathml",mode:t.mode,html:ts(e[0]),mathml:ts(e[1])}},htmlBuilder:(r,e)=>{var t=ms(r.html,e,!1);return Ue.makeFragment(t)},mathmlBuilder:(r,e)=>nc(r.mathml,e)});var Wm=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new mt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!ax(n))throw new mt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Ct({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,e,t)=>{var{parser:n}=r,s={number:0,unit:"em"},i={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(t[0])for(var l=_r(t[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var f=c[u].split("=");if(f.length===2){var h=f[1].trim();switch(f[0].trim()){case"alt":a=h;break;case"width":s=Wm(h);break;case"height":i=Wm(h);break;case"totalheight":o=Wm(h);break;default:throw new mt("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var d=_r(e[0],"url").url;return a===""&&(a=d,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:n.mode,alt:a,width:s,height:i,totalheight:o,src:d}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,e)=>{var t=Pn(r.height,e),n=0;r.totalheight.number>0&&(n=Pn(r.totalheight,e)-t);var s=0;r.width.number>0&&(s=Pn(r.width,e));var i={height:vt(t+n)};s>0&&(i.width=vt(s)),n>0&&(i.verticalAlign=vt(-n));var o=new HV(r.src,r.alt,i);return o.height=t,o.depth=n,o},mathmlBuilder:(r,e)=>{var t=new pt.MathNode("mglyph",[]);t.setAttribute("alt",r.alt);var n=Pn(r.height,e),s=0;if(r.totalheight.number>0&&(s=Pn(r.totalheight,e)-n,t.setAttribute("valign",vt(-s))),t.setAttribute("height",vt(n+s)),r.width.number>0){var i=Pn(r.width,e);t.setAttribute("width",vt(i))}return t.setAttribute("src",r.src),t}});Ct({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,s=_r(e[0],"size");if(t.settings.strict){var i=n[1]==="m",o=s.value.unit==="mu";i?(o||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+s.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:s.value}},htmlBuilder(r,e){return Ue.makeGlue(r.dimension,e)},mathmlBuilder(r,e){var t=Pn(r.dimension,e);return new pt.SpaceNode(t)}});Ct({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:s}},htmlBuilder:(r,e)=>{var t;r.alignment==="clap"?(t=Ue.makeSpan([],[Fr(r.body,e)]),t=Ue.makeSpan(["inner"],[t],e)):t=Ue.makeSpan(["inner"],[Fr(r.body,e)]);var n=Ue.makeSpan(["fix"],[]),s=Ue.makeSpan([r.alignment],[t,n],e),i=Ue.makeSpan(["strut"]);return i.style.height=vt(s.height+s.depth),s.depth&&(i.style.verticalAlign=vt(-s.depth)),s.children.unshift(i),s=Ue.makeSpan(["thinbox"],[s],e),Ue.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(r,e)=>{var t=new pt.MathNode("mpadded",[ln(r.body,e)]);if(r.alignment!=="rlap"){var n=r.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});Ct({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){var{funcName:t,parser:n}=r,s=n.mode;n.switchMode("math");var i=t==="\\("?"\\)":"$",o=n.parseExpression(!1,i);return n.expect(i),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:o}}});Ct({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){throw new mt("Mismatched "+r.funcName)}});var tv=(r,e)=>{switch(e.style.size){case Xt.DISPLAY.size:return r.display;case Xt.TEXT.size:return r.text;case Xt.SCRIPT.size:return r.script;case Xt.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};Ct({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"mathchoice",mode:t.mode,display:ts(e[0]),text:ts(e[1]),script:ts(e[2]),scriptscript:ts(e[3])}},htmlBuilder:(r,e)=>{var t=tv(r,e),n=ms(t,e,!1);return Ue.makeFragment(n)},mathmlBuilder:(r,e)=>{var t=tv(r,e);return nc(t,e)}});var Hx=(r,e,t,n,s,i,o)=>{r=Ue.makeSpan([],[r]);var a=t&&or.isCharacterBox(t),l,c;if(e){var u=Fr(e,n.havingStyle(s.sup()),n);c={elem:u,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-u.depth)}}if(t){var f=Fr(t,n.havingStyle(s.sub()),n);l={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var h;if(c&&l){var d=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+o;h=Ue.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:vt(-i)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:vt(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var p=r.height-o;h=Ue.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:vt(-i)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},n)}else if(c){var g=r.depth+o;h=Ue.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:r},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:vt(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return r;var w=[h];if(l&&i!==0&&!a){var v=Ue.makeSpan(["mspace"],[],n);v.style.marginRight=vt(i),w.unshift(v)}return Ue.makeSpan(["mop","op-limits"],w,n)},Vx=["\\smallint"],I0=(r,e)=>{var t,n,s=!1,i;r.type==="supsub"?(t=r.sup,n=r.sub,i=_r(r.base,"op"),s=!0):i=_r(r,"op");var o=e.style,a=!1;o.size===Xt.DISPLAY.size&&i.symbol&&!or.contains(Vx,i.name)&&(a=!0);var l;if(i.symbol){var c=a?"Size2-Regular":"Size1-Regular",u="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(u=i.name.slice(1),i.name=u==="oiint"?"\\iint":"\\iiint"),l=Ue.makeSymbol(i.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),u.length>0){var f=l.italic,h=Ue.staticSvg(u+"Size"+(a?"2":"1"),e);l=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:a?.08:0}]},e),i.name="\\"+u,l.classes.unshift("mop"),l.italic=f}}else if(i.body){var d=ms(i.body,e,!0);d.length===1&&d[0]instanceof io?(l=d[0],l.classes[0]="mop"):l=Ue.makeSpan(["mop"],d,e)}else{for(var p=[],g=1;g<i.name.length;g++)p.push(Ue.mathsym(i.name[g],i.mode,e));l=Ue.makeSpan(["mop"],p,e)}var w=0,v=0;return(l instanceof io||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(w=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),s?Hx(l,t,n,e,o,v,w):(w&&(l.style.position="relative",l.style.top=vt(w)),l)},wd=(r,e)=>{var t;if(r.symbol)t=new eo("mo",[oo(r.name,r.mode)]),or.contains(Vx,r.name)&&t.setAttribute("largeop","false");else if(r.body)t=new eo("mo",Li(r.body,e));else{t=new eo("mi",[new Pf(r.name.slice(1))]);var n=new eo("mo",[oo("⁡","text")]);r.parentIsSupSub?t=new eo("mrow",[t,n]):t=vx([t,n])}return t},VU={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ct({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=n;return s.length===1&&(s=VU[s]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:I0,mathmlBuilder:wd});Ct({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ts(n)}},htmlBuilder:I0,mathmlBuilder:wd});var UU={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ct({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:I0,mathmlBuilder:wd});Ct({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:I0,mathmlBuilder:wd});Ct({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r,n=t;return n.length===1&&(n=UU[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:I0,mathmlBuilder:wd});var Ux=(r,e)=>{var t,n,s=!1,i;r.type==="supsub"?(t=r.sup,n=r.sub,i=_r(r.base,"operatorname"),s=!0):i=_r(r,"operatorname");var o;if(i.body.length>0){for(var a=i.body.map(f=>{var h=f.text;return typeof h=="string"?{type:"textord",mode:f.mode,text:h}:f}),l=ms(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof io&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Ue.makeSpan(["mop"],l,e)}else o=Ue.makeSpan(["mop"],[],e);return s?Hx(o,t,n,e,e.style,0,0):o},WU=(r,e)=>{for(var t=Li(r.body,e.withFont("mathrm")),n=!0,s=0;s<t.length;s++){var i=t[s];if(!(i instanceof pt.SpaceNode))if(i instanceof pt.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=i.children[0];i.children.length===1&&o instanceof pt.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var a=t.map(u=>u.toText()).join("");t=[new pt.TextNode(a)]}var l=new pt.MathNode("mi",t);l.setAttribute("mathvariant","normal");var c=new pt.MathNode("mo",[oo("⁡","text")]);return r.parentIsSupSub?new pt.MathNode("mrow",[l,c]):pt.newDocumentFragment([l,c])};Ct({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"operatorname",mode:t.mode,body:ts(s),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Ux,mathmlBuilder:WU});me("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Xc({type:"ordgroup",htmlBuilder(r,e){return r.semisimple?Ue.makeFragment(ms(r.body,e,!1)):Ue.makeSpan(["mord"],ms(r.body,e,!0),e)},mathmlBuilder(r,e){return nc(r.body,e,!0)}});Ct({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,e){var{parser:t}=r,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(r,e){var t=Fr(r.body,e.havingCrampedStyle()),n=Ue.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,i=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},e);return Ue.makeSpan(["mord","overline"],[i],e)},mathmlBuilder(r,e){var t=new pt.MathNode("mo",[new pt.TextNode("‾")]);t.setAttribute("stretchy","true");var n=new pt.MathNode("mover",[ln(r.body,e),t]);return n.setAttribute("accent","true"),n}});Ct({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"phantom",mode:t.mode,body:ts(n)}},htmlBuilder:(r,e)=>{var t=ms(r.body,e.withPhantom(),!1);return Ue.makeFragment(t)},mathmlBuilder:(r,e)=>{var t=Li(r.body,e);return new pt.MathNode("mphantom",t)}});Ct({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=Ue.makeSpan([],[Fr(r.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Ue.makeSpan(["mord"],[t],e)},mathmlBuilder:(r,e)=>{var t=Li(ts(r.body),e),n=new pt.MathNode("mphantom",t),s=new pt.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});Ct({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=Ue.makeSpan(["inner"],[Fr(r.body,e.withPhantom())]),n=Ue.makeSpan(["fix"],[]);return Ue.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(r,e)=>{var t=Li(ts(r.body),e),n=new pt.MathNode("mphantom",t),s=new pt.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}});Ct({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r,n=_r(e[0],"size").value,s=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:s}},htmlBuilder(r,e){var t=Fr(r.body,e),n=Pn(r.dy,e);return Ue.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){var t=new pt.MathNode("mpadded",[ln(r.body,e)]),n=r.dy.number+r.dy.unit;return t.setAttribute("voffset",n),t}});Ct({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e}=r;return{type:"internal",mode:e.mode}}});Ct({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(r,e,t){var{parser:n}=r,s=t[0],i=_r(e[0],"size"),o=_r(e[1],"size");return{type:"rule",mode:n.mode,shift:s&&_r(s,"size").value,width:i.value,height:o.value}},htmlBuilder(r,e){var t=Ue.makeSpan(["mord","rule"],[],e),n=Pn(r.width,e),s=Pn(r.height,e),i=r.shift?Pn(r.shift,e):0;return t.style.borderRightWidth=vt(n),t.style.borderTopWidth=vt(s),t.style.bottom=vt(i),t.width=n,t.height=s+i,t.depth=-i,t.maxFontSize=s*1.125*e.sizeMultiplier,t},mathmlBuilder(r,e){var t=Pn(r.width,e),n=Pn(r.height,e),s=r.shift?Pn(r.shift,e):0,i=e.color&&e.getColor()||"black",o=new pt.MathNode("mspace");o.setAttribute("mathbackground",i),o.setAttribute("width",vt(t)),o.setAttribute("height",vt(n));var a=new pt.MathNode("mpadded",[o]);return s>=0?a.setAttribute("height",vt(s)):(a.setAttribute("height",vt(s)),a.setAttribute("depth",vt(-s))),a.setAttribute("voffset",vt(s)),a}});function Wx(r,e,t){for(var n=ms(r,e,!1),s=e.sizeMultiplier/t.sizeMultiplier,i=0;i<n.length;i++){var o=n[i].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[i].classes,e.sizingClasses(t)):n[i].classes[o+1]==="reset-size"+e.size&&(n[i].classes[o+1]="reset-size"+t.size),n[i].height*=s,n[i].depth*=s}return Ue.makeFragment(n)}var rv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],YU=(r,e)=>{var t=e.havingSize(r.size);return Wx(r.body,t,e)};Ct({type:"sizing",names:rv,props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{breakOnTokenText:t,funcName:n,parser:s}=r,i=s.parseExpression(!1,t);return{type:"sizing",mode:s.mode,size:rv.indexOf(n)+1,body:i}},htmlBuilder:YU,mathmlBuilder:(r,e)=>{var t=e.havingSize(r.size),n=Li(r.body,t),s=new pt.MathNode("mstyle",n);return s.setAttribute("mathsize",vt(t.sizeMultiplier)),s}});Ct({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,e,t)=>{var{parser:n}=r,s=!1,i=!1,o=t[0]&&_r(t[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")s=!0;else if(a==="b")i=!0;else{s=!1,i=!1;break}}else s=!0,i=!0;var u=e[0];return{type:"smash",mode:n.mode,body:u,smashHeight:s,smashDepth:i}},htmlBuilder:(r,e)=>{var t=Ue.makeSpan([],[Fr(r.body,e)]);if(!r.smashHeight&&!r.smashDepth)return t;if(r.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(r.smashDepth&&(t.depth=0,t.children))for(var s=0;s<t.children.length;s++)t.children[s].depth=0;var i=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord"],[i],e)},mathmlBuilder:(r,e)=>{var t=new pt.MathNode("mpadded",[ln(r.body,e)]);return r.smashHeight&&t.setAttribute("height","0px"),r.smashDepth&&t.setAttribute("depth","0px"),t}});Ct({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n}=r,s=t[0],i=e[0];return{type:"sqrt",mode:n.mode,body:i,index:s}},htmlBuilder(r,e){var t=Fr(r.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Ue.wrapFragment(t,e);var n=e.fontMetrics(),s=n.defaultRuleThickness,i=s;e.style.id<Xt.TEXT.id&&(i=e.fontMetrics().xHeight);var o=s+i/4,a=t.height+t.depth+o+s,{span:l,ruleWidth:c,advanceWidth:u}=Ga.sqrtImage(a,e),f=l.height-c;f>t.height+t.depth+o&&(o=(o+f-t.height-t.depth)/2);var h=l.height-t.height-o-c;t.style.paddingLeft=vt(u);var d=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(r.index){var p=e.havingStyle(Xt.SCRIPTSCRIPT),g=Fr(r.index,p,e),w=.6*(d.height-d.depth),v=Ue.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:g}]},e),_=Ue.makeSpan(["root"],[v]);return Ue.makeSpan(["mord","sqrt"],[_,d],e)}else return Ue.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(r,e){var{body:t,index:n}=r;return n?new pt.MathNode("mroot",[ln(t,e),ln(n,e)]):new pt.MathNode("msqrt",[ln(t,e)])}});var nv={display:Xt.DISPLAY,text:Xt.TEXT,script:Xt.SCRIPT,scriptscript:Xt.SCRIPTSCRIPT};Ct({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,e){var{breakOnTokenText:t,funcName:n,parser:s}=r,i=s.parseExpression(!0,t),o=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:o,body:i}},htmlBuilder(r,e){var t=nv[r.style],n=e.havingStyle(t).withFont("");return Wx(r.body,n,e)},mathmlBuilder(r,e){var t=nv[r.style],n=e.havingStyle(t),s=Li(r.body,n),i=new pt.MathNode("mstyle",s),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[r.style];return i.setAttribute("scriptlevel",a[0]),i.setAttribute("displaystyle",a[1]),i}});var QU=function(e,t){var n=e.base;if(n)if(n.type==="op"){var s=n.limits&&(t.style.size===Xt.DISPLAY.size||n.alwaysHandleSupSub);return s?I0:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(t.style.size===Xt.DISPLAY.size||n.limits);return i?Ux:null}else{if(n.type==="accent")return or.isCharacterBox(n.base)?N5:null;if(n.type==="horizBrace"){var o=!e.sub;return o===n.isOver?qx:null}else return null}else return null};Xc({type:"supsub",htmlBuilder(r,e){var t=QU(r,e);if(t)return t(r,e);var{base:n,sup:s,sub:i}=r,o=Fr(n,e),a,l,c=e.fontMetrics(),u=0,f=0,h=n&&or.isCharacterBox(n);if(s){var d=e.havingStyle(e.style.sup());a=Fr(s,d,e),h||(u=o.height-d.fontMetrics().supDrop*d.sizeMultiplier/e.sizeMultiplier)}if(i){var p=e.havingStyle(e.style.sub());l=Fr(i,p,e),h||(f=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var g;e.style===Xt.DISPLAY?g=c.sup1:e.style.cramped?g=c.sup3:g=c.sup2;var w=e.sizeMultiplier,v=vt(.5/c.ptPerEm/w),_=null;if(l){var k=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(o instanceof io||k)&&(_=vt(-o.italic))}var A;if(a&&l){u=Math.max(u,g,a.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var C=c.defaultRuleThickness,N=4*C;if(u-a.depth-(l.height-f)<N){f=N-(u-a.depth)+l.height;var T=.8*c.xHeight-(u-a.depth);T>0&&(u+=T,f-=T)}var O=[{type:"elem",elem:l,shift:f,marginRight:v,marginLeft:_},{type:"elem",elem:a,shift:-u,marginRight:v}];A=Ue.makeVList({positionType:"individualShift",children:O},e)}else if(l){f=Math.max(f,c.sub1,l.height-.8*c.xHeight);var D=[{type:"elem",elem:l,marginLeft:_,marginRight:v}];A=Ue.makeVList({positionType:"shift",positionData:f,children:D},e)}else if(a)u=Math.max(u,g,a.depth+.25*c.xHeight),A=Ue.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:a,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var Q=sg(o,"right")||"mord";return Ue.makeSpan([Q],[o,Ue.makeSpan(["msupsub"],[A])],e)},mathmlBuilder(r,e){var t=!1,n,s;r.base&&r.base.type==="horizBrace"&&(s=!!r.sup,s===r.base.isOver&&(t=!0,n=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var i=[ln(r.base,e)];r.sub&&i.push(ln(r.sub,e)),r.sup&&i.push(ln(r.sup,e));var o;if(t)o=n?"mover":"munder";else if(r.sub)if(r.sup){var c=r.base;c&&c.type==="op"&&c.limits&&e.style===Xt.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===Xt.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(e.style===Xt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Xt.DISPLAY)?o="munder":o="msub"}else{var a=r.base;a&&a.type==="op"&&a.limits&&(e.style===Xt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===Xt.DISPLAY)?o="mover":o="msup"}return new pt.MathNode(o,i)}});Xc({type:"atom",htmlBuilder(r,e){return Ue.mathsym(r.text,r.mode,e,["m"+r.family])},mathmlBuilder(r,e){var t=new pt.MathNode("mo",[oo(r.text,r.mode)]);if(r.family==="bin"){var n=A5(r,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else r.family==="punct"?t.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&t.setAttribute("stretchy","false");return t}});var Yx={mi:"italic",mn:"normal",mtext:"normal"};Xc({type:"mathord",htmlBuilder(r,e){return Ue.makeOrd(r,e,"mathord")},mathmlBuilder(r,e){var t=new pt.MathNode("mi",[oo(r.text,r.mode,e)]),n=A5(r,e)||"italic";return n!==Yx[t.type]&&t.setAttribute("mathvariant",n),t}});Xc({type:"textord",htmlBuilder(r,e){return Ue.makeOrd(r,e,"textord")},mathmlBuilder(r,e){var t=oo(r.text,r.mode,e),n=A5(r,e)||"normal",s;return r.mode==="text"?s=new pt.MathNode("mtext",[t]):/[0-9]/.test(r.text)?s=new pt.MathNode("mn",[t]):r.text==="\\prime"?s=new pt.MathNode("mo",[t]):s=new pt.MathNode("mi",[t]),n!==Yx[s.type]&&s.setAttribute("mathvariant",n),s}});var Ym={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Qm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Xc({type:"spacing",htmlBuilder(r,e){if(Qm.hasOwnProperty(r.text)){var t=Qm[r.text].className||"";if(r.mode==="text"){var n=Ue.makeOrd(r,e,"textord");return n.classes.push(t),n}else return Ue.makeSpan(["mspace",t],[Ue.mathsym(r.text,r.mode,e)],e)}else{if(Ym.hasOwnProperty(r.text))return Ue.makeSpan(["mspace",Ym[r.text]],[],e);throw new mt('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,e){var t;if(Qm.hasOwnProperty(r.text))t=new pt.MathNode("mtext",[new pt.TextNode(" ")]);else{if(Ym.hasOwnProperty(r.text))return new pt.MathNode("mspace");throw new mt('Unknown type of space "'+r.text+'"')}return t}});var sv=()=>{var r=new pt.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};Xc({type:"tag",mathmlBuilder(r,e){var t=new pt.MathNode("mtable",[new pt.MathNode("mtr",[sv(),new pt.MathNode("mtd",[nc(r.body,e)]),sv(),new pt.MathNode("mtd",[nc(r.tag,e)])])]);return t.setAttribute("width","100%"),t}});var iv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ov={"\\textbf":"textbf","\\textmd":"textmd"},GU={"\\textit":"textit","\\textup":"textup"},av=(r,e)=>{var t=r.font;return t?iv[t]?e.withTextFontFamily(iv[t]):ov[t]?e.withTextFontWeight(ov[t]):e.withTextFontShape(GU[t]):e};Ct({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"text",mode:t.mode,body:ts(s),font:n}},htmlBuilder(r,e){var t=av(r,e),n=ms(r.body,t,!0);return Ue.makeSpan(["mord","text"],n,t)},mathmlBuilder(r,e){var t=av(r,e);return nc(r.body,t)}});Ct({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=Fr(r.body,e),n=Ue.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,i=Ue.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord","underline"],[i],e)},mathmlBuilder(r,e){var t=new pt.MathNode("mo",[new pt.TextNode("‾")]);t.setAttribute("stretchy","true");var n=new pt.MathNode("munder",[ln(r.body,e),t]);return n.setAttribute("accentunder","true"),n}});Ct({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=Fr(r.body,e),n=e.fontMetrics().axisHeight,s=.5*(t.height-n-(t.depth+n));return Ue.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){return new pt.MathNode("mpadded",[ln(r.body,e)],["vcenter"])}});Ct({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,e,t){throw new mt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,e){for(var t=lv(r),n=[],s=e.havingStyle(e.style.text()),i=0;i<t.length;i++){var o=t[i];o==="~"&&(o="\\textasciitilde"),n.push(Ue.makeSymbol(o,"Typewriter-Regular",r.mode,s,["mord","texttt"]))}return Ue.makeSpan(["mord","text"].concat(s.sizingClasses(e)),Ue.tryCombineChars(n),s)},mathmlBuilder(r,e){var t=new pt.TextNode(lv(r)),n=new pt.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var lv=r=>r.body.replace(/ /g,r.star?"␣":" "),Wl=gx,Qx=`[ \r
	]`,JU="\\\\[a-zA-Z@]+",KU="\\\\[^\uD800-\uDFFF]",XU="("+JU+")"+Qx+"*",ZU=`\\\\(
|[ \r	]+
?)[ \r	]*`,lg="[̀-ͯ]",eW=new RegExp(lg+"+$"),tW="("+Qx+"+)|"+(ZU+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(lg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(lg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+XU)+("|"+KU+")");class cv{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(tW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new ua("EOF",new Ri(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new mt("Unexpected character: '"+e[t]+"'",new ua(e[t],new Ri(this,t,t+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[s]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new ua(s,new Ri(this,t,this.tokenRegex.lastIndex))}}class rW{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new mt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var nW=Rx;me("\\noexpand",function(r){var e=r.popToken();return r.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});me("\\expandafter",function(r){var e=r.popToken();return r.expandOnce(!0),{tokens:[e],numArgs:0}});me("\\@firstoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[0],numArgs:0}});me("\\@secondoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[1],numArgs:0}});me("\\@ifnextchar",function(r){var e=r.consumeArgs(3);r.consumeSpaces();var t=r.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});me("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");me("\\TextOrMath",function(r){var e=r.consumeArgs(2);return r.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var uv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};me("\\char",function(r){var e=r.popToken(),t,n="";if(e.text==="'")t=8,e=r.popToken();else if(e.text==='"')t=16,e=r.popToken();else if(e.text==="`")if(e=r.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new mt("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=uv[e.text],n==null||n>=t)throw new mt("Invalid base-"+t+" digit "+e.text);for(var s;(s=uv[r.future().text])!=null&&s<t;)n*=t,n+=s,r.popToken()}return"\\@char{"+n+"}"});var P5=(r,e,t)=>{var n=r.consumeArg().tokens;if(n.length!==1)throw new mt("\\newcommand's first argument must be a macro name");var s=n[0].text,i=r.isDefined(s);if(i&&!e)throw new mt("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!i&&!t)throw new mt("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(n=r.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var a="",l=r.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=r.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new mt("Invalid number of arguments: "+a);o=parseInt(a),n=r.consumeArg().tokens}return r.macros.set(s,{tokens:n,numArgs:o}),""};me("\\newcommand",r=>P5(r,!1,!0));me("\\renewcommand",r=>P5(r,!0,!1));me("\\providecommand",r=>P5(r,!0,!0));me("\\message",r=>{var e=r.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});me("\\errmessage",r=>{var e=r.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});me("\\show",r=>{var e=r.popToken(),t=e.text;return console.log(e,r.macros.get(t),Wl[t],gn.math[t],gn.text[t]),""});me("\\bgroup","{");me("\\egroup","}");me("~","\\nobreakspace");me("\\lq","`");me("\\rq","'");me("\\aa","\\r a");me("\\AA","\\r A");me("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");me("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");me("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");me("ℬ","\\mathscr{B}");me("ℰ","\\mathscr{E}");me("ℱ","\\mathscr{F}");me("ℋ","\\mathscr{H}");me("ℐ","\\mathscr{I}");me("ℒ","\\mathscr{L}");me("ℳ","\\mathscr{M}");me("ℛ","\\mathscr{R}");me("ℭ","\\mathfrak{C}");me("ℌ","\\mathfrak{H}");me("ℨ","\\mathfrak{Z}");me("\\Bbbk","\\Bbb{k}");me("·","\\cdotp");me("\\llap","\\mathllap{\\textrm{#1}}");me("\\rlap","\\mathrlap{\\textrm{#1}}");me("\\clap","\\mathclap{\\textrm{#1}}");me("\\mathstrut","\\vphantom{(}");me("\\underbar","\\underline{\\text{#1}}");me("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');me("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");me("\\ne","\\neq");me("≠","\\neq");me("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");me("∉","\\notin");me("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");me("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");me("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");me("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");me("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");me("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");me("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");me("⟂","\\perp");me("‼","\\mathclose{!\\mkern-0.8mu!}");me("∌","\\notni");me("⌜","\\ulcorner");me("⌝","\\urcorner");me("⌞","\\llcorner");me("⌟","\\lrcorner");me("©","\\copyright");me("®","\\textregistered");me("️","\\textregistered");me("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');me("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');me("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');me("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');me("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");me("⋮","\\vdots");me("\\varGamma","\\mathit{\\Gamma}");me("\\varDelta","\\mathit{\\Delta}");me("\\varTheta","\\mathit{\\Theta}");me("\\varLambda","\\mathit{\\Lambda}");me("\\varXi","\\mathit{\\Xi}");me("\\varPi","\\mathit{\\Pi}");me("\\varSigma","\\mathit{\\Sigma}");me("\\varUpsilon","\\mathit{\\Upsilon}");me("\\varPhi","\\mathit{\\Phi}");me("\\varPsi","\\mathit{\\Psi}");me("\\varOmega","\\mathit{\\Omega}");me("\\substack","\\begin{subarray}{c}#1\\end{subarray}");me("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");me("\\boxed","\\fbox{$\\displaystyle{#1}$}");me("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");me("\\implies","\\DOTSB\\;\\Longrightarrow\\;");me("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var fv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};me("\\dots",function(r){var e="\\dotso",t=r.expandAfterFuture().text;return t in fv?e=fv[t]:(t.slice(0,4)==="\\not"||t in gn.math&&or.contains(["bin","rel"],gn.math[t].group))&&(e="\\dotsb"),e});var D5={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};me("\\dotso",function(r){var e=r.future().text;return e in D5?"\\ldots\\,":"\\ldots"});me("\\dotsc",function(r){var e=r.future().text;return e in D5&&e!==","?"\\ldots\\,":"\\ldots"});me("\\cdots",function(r){var e=r.future().text;return e in D5?"\\@cdots\\,":"\\@cdots"});me("\\dotsb","\\cdots");me("\\dotsm","\\cdots");me("\\dotsi","\\!\\cdots");me("\\dotsx","\\ldots\\,");me("\\DOTSI","\\relax");me("\\DOTSB","\\relax");me("\\DOTSX","\\relax");me("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");me("\\,","\\tmspace+{3mu}{.1667em}");me("\\thinspace","\\,");me("\\>","\\mskip{4mu}");me("\\:","\\tmspace+{4mu}{.2222em}");me("\\medspace","\\:");me("\\;","\\tmspace+{5mu}{.2777em}");me("\\thickspace","\\;");me("\\!","\\tmspace-{3mu}{.1667em}");me("\\negthinspace","\\!");me("\\negmedspace","\\tmspace-{4mu}{.2222em}");me("\\negthickspace","\\tmspace-{5mu}{.277em}");me("\\enspace","\\kern.5em ");me("\\enskip","\\hskip.5em\\relax");me("\\quad","\\hskip1em\\relax");me("\\qquad","\\hskip2em\\relax");me("\\tag","\\@ifstar\\tag@literal\\tag@paren");me("\\tag@paren","\\tag@literal{({#1})}");me("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new mt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});me("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");me("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");me("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");me("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");me("\\newline","\\\\\\relax");me("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Gx=vt(aa["Main-Regular"]["T".charCodeAt(0)][1]-.7*aa["Main-Regular"]["A".charCodeAt(0)][1]);me("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Gx+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");me("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Gx+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");me("\\hspace","\\@ifstar\\@hspacer\\@hspace");me("\\@hspace","\\hskip #1\\relax");me("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");me("\\ordinarycolon",":");me("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");me("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');me("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');me("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');me("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');me("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');me("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');me("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');me("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');me("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');me("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');me("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');me("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');me("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');me("∷","\\dblcolon");me("∹","\\eqcolon");me("≔","\\coloneqq");me("≕","\\eqqcolon");me("⩴","\\Coloneqq");me("\\ratio","\\vcentcolon");me("\\coloncolon","\\dblcolon");me("\\colonequals","\\coloneqq");me("\\coloncolonequals","\\Coloneqq");me("\\equalscolon","\\eqqcolon");me("\\equalscoloncolon","\\Eqqcolon");me("\\colonminus","\\coloneq");me("\\coloncolonminus","\\Coloneq");me("\\minuscolon","\\eqcolon");me("\\minuscoloncolon","\\Eqcolon");me("\\coloncolonapprox","\\Colonapprox");me("\\coloncolonsim","\\Colonsim");me("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");me("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");me("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");me("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");me("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");me("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");me("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");me("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");me("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");me("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");me("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");me("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");me("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");me("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");me("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");me("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");me("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");me("\\nleqq","\\html@mathml{\\@nleqq}{≰}");me("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");me("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");me("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");me("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");me("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");me("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");me("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");me("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");me("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");me("\\imath","\\html@mathml{\\@imath}{ı}");me("\\jmath","\\html@mathml{\\@jmath}{ȷ}");me("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");me("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");me("⟦","\\llbracket");me("⟧","\\rrbracket");me("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");me("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");me("⦃","\\lBrace");me("⦄","\\rBrace");me("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");me("⦵","\\minuso");me("\\darr","\\downarrow");me("\\dArr","\\Downarrow");me("\\Darr","\\Downarrow");me("\\lang","\\langle");me("\\rang","\\rangle");me("\\uarr","\\uparrow");me("\\uArr","\\Uparrow");me("\\Uarr","\\Uparrow");me("\\N","\\mathbb{N}");me("\\R","\\mathbb{R}");me("\\Z","\\mathbb{Z}");me("\\alef","\\aleph");me("\\alefsym","\\aleph");me("\\Alpha","\\mathrm{A}");me("\\Beta","\\mathrm{B}");me("\\bull","\\bullet");me("\\Chi","\\mathrm{X}");me("\\clubs","\\clubsuit");me("\\cnums","\\mathbb{C}");me("\\Complex","\\mathbb{C}");me("\\Dagger","\\ddagger");me("\\diamonds","\\diamondsuit");me("\\empty","\\emptyset");me("\\Epsilon","\\mathrm{E}");me("\\Eta","\\mathrm{H}");me("\\exist","\\exists");me("\\harr","\\leftrightarrow");me("\\hArr","\\Leftrightarrow");me("\\Harr","\\Leftrightarrow");me("\\hearts","\\heartsuit");me("\\image","\\Im");me("\\infin","\\infty");me("\\Iota","\\mathrm{I}");me("\\isin","\\in");me("\\Kappa","\\mathrm{K}");me("\\larr","\\leftarrow");me("\\lArr","\\Leftarrow");me("\\Larr","\\Leftarrow");me("\\lrarr","\\leftrightarrow");me("\\lrArr","\\Leftrightarrow");me("\\Lrarr","\\Leftrightarrow");me("\\Mu","\\mathrm{M}");me("\\natnums","\\mathbb{N}");me("\\Nu","\\mathrm{N}");me("\\Omicron","\\mathrm{O}");me("\\plusmn","\\pm");me("\\rarr","\\rightarrow");me("\\rArr","\\Rightarrow");me("\\Rarr","\\Rightarrow");me("\\real","\\Re");me("\\reals","\\mathbb{R}");me("\\Reals","\\mathbb{R}");me("\\Rho","\\mathrm{P}");me("\\sdot","\\cdot");me("\\sect","\\S");me("\\spades","\\spadesuit");me("\\sub","\\subset");me("\\sube","\\subseteq");me("\\supe","\\supseteq");me("\\Tau","\\mathrm{T}");me("\\thetasym","\\vartheta");me("\\weierp","\\wp");me("\\Zeta","\\mathrm{Z}");me("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");me("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");me("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");me("\\bra","\\mathinner{\\langle{#1}|}");me("\\ket","\\mathinner{|{#1}\\rangle}");me("\\braket","\\mathinner{\\langle{#1}\\rangle}");me("\\Bra","\\left\\langle#1\\right|");me("\\Ket","\\left|#1\\right\\rangle");var Jx=r=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=f=>h=>{r&&(h.macros.set("|",o),s.length&&h.macros.set("\\|",a));var d=f;if(!f&&s.length){var p=h.future();p.text==="|"&&(h.popToken(),d=!0)}return{tokens:d?s:n,numArgs:0}};e.macros.set("|",l(!1)),s.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...i,...c,...t]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};me("\\bra@ket",Jx(!1));me("\\bra@set",Jx(!0));me("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");me("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");me("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");me("\\angln","{\\angl n}");me("\\blue","\\textcolor{##6495ed}{#1}");me("\\orange","\\textcolor{##ffa500}{#1}");me("\\pink","\\textcolor{##ff00af}{#1}");me("\\red","\\textcolor{##df0030}{#1}");me("\\green","\\textcolor{##28ae7b}{#1}");me("\\gray","\\textcolor{gray}{#1}");me("\\purple","\\textcolor{##9d38bd}{#1}");me("\\blueA","\\textcolor{##ccfaff}{#1}");me("\\blueB","\\textcolor{##80f6ff}{#1}");me("\\blueC","\\textcolor{##63d9ea}{#1}");me("\\blueD","\\textcolor{##11accd}{#1}");me("\\blueE","\\textcolor{##0c7f99}{#1}");me("\\tealA","\\textcolor{##94fff5}{#1}");me("\\tealB","\\textcolor{##26edd5}{#1}");me("\\tealC","\\textcolor{##01d1c1}{#1}");me("\\tealD","\\textcolor{##01a995}{#1}");me("\\tealE","\\textcolor{##208170}{#1}");me("\\greenA","\\textcolor{##b6ffb0}{#1}");me("\\greenB","\\textcolor{##8af281}{#1}");me("\\greenC","\\textcolor{##74cf70}{#1}");me("\\greenD","\\textcolor{##1fab54}{#1}");me("\\greenE","\\textcolor{##0d923f}{#1}");me("\\goldA","\\textcolor{##ffd0a9}{#1}");me("\\goldB","\\textcolor{##ffbb71}{#1}");me("\\goldC","\\textcolor{##ff9c39}{#1}");me("\\goldD","\\textcolor{##e07d10}{#1}");me("\\goldE","\\textcolor{##a75a05}{#1}");me("\\redA","\\textcolor{##fca9a9}{#1}");me("\\redB","\\textcolor{##ff8482}{#1}");me("\\redC","\\textcolor{##f9685d}{#1}");me("\\redD","\\textcolor{##e84d39}{#1}");me("\\redE","\\textcolor{##bc2612}{#1}");me("\\maroonA","\\textcolor{##ffbde0}{#1}");me("\\maroonB","\\textcolor{##ff92c6}{#1}");me("\\maroonC","\\textcolor{##ed5fa6}{#1}");me("\\maroonD","\\textcolor{##ca337c}{#1}");me("\\maroonE","\\textcolor{##9e034e}{#1}");me("\\purpleA","\\textcolor{##ddd7ff}{#1}");me("\\purpleB","\\textcolor{##c6b9fc}{#1}");me("\\purpleC","\\textcolor{##aa87ff}{#1}");me("\\purpleD","\\textcolor{##7854ab}{#1}");me("\\purpleE","\\textcolor{##543b78}{#1}");me("\\mintA","\\textcolor{##f5f9e8}{#1}");me("\\mintB","\\textcolor{##edf2df}{#1}");me("\\mintC","\\textcolor{##e0e5cc}{#1}");me("\\grayA","\\textcolor{##f6f7f7}{#1}");me("\\grayB","\\textcolor{##f0f1f2}{#1}");me("\\grayC","\\textcolor{##e3e5e6}{#1}");me("\\grayD","\\textcolor{##d6d8da}{#1}");me("\\grayE","\\textcolor{##babec2}{#1}");me("\\grayF","\\textcolor{##888d93}{#1}");me("\\grayG","\\textcolor{##626569}{#1}");me("\\grayH","\\textcolor{##3b3e40}{#1}");me("\\grayI","\\textcolor{##21242c}{#1}");me("\\kaBlue","\\textcolor{##314453}{#1}");me("\\kaGreen","\\textcolor{##71B307}{#1}");var Kx={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class sW{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new rW(nW,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new cv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:s,end:n}=this.consumeArg(["]"])}else({tokens:s,start:t,end:n}=this.consumeArg());return this.pushToken(new ua("EOF",n.loc)),this.pushTokens(s),t.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var s=this.future(),i,o=0,a=0;do{if(i=this.popToken(),t.push(i),i.text==="{")++o;else if(i.text==="}"){if(--o,o===-1)throw new mt("Extra }",i)}else if(i.text==="EOF")throw new mt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",i);if(e&&n)if((o===0||o===1&&e[a]==="{")&&i.text===e[a]){if(++a,a===e.length){t.splice(-a,a);break}}else a=0}while(o!==0||n);return s.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:s,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new mt("The length of delimiters doesn't match the number of args!");for(var n=t[0],s=0;s<n.length;s++){var i=this.popToken();if(n[s]!==i.text)throw new mt("Use of the macro doesn't match its definition",i)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}expandOnce(e){var t=this.popToken(),n=t.text,s=t.noexpand?null:this._getExpansion(n);if(s==null||e&&s.unexpandable){if(e&&s==null&&n[0]==="\\"&&!this.isDefined(n))throw new mt("Undefined control sequence: "+n);return this.pushToken(t),!1}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new mt("Too many expansions: infinite loop or need to increase maxExpand setting");var i=s.tokens,o=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){i=i.slice();for(var a=i.length-1;a>=0;--a){var l=i[a];if(l.text==="#"){if(a===0)throw new mt("Incomplete placeholder at end of macro body",l);if(l=i[--a],l.text==="#")i.splice(a+1,1);else if(/^[1-9]$/.test(l.text))i.splice(a,2,...o[+l.text-1]);else throw new mt("Not a valid argument number",l)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ua(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),t.push(s)}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var s=typeof t=="function"?t(this):t;if(typeof s=="string"){var i=0;if(s.indexOf("#")!==-1)for(var o=s.replace(/##/g,"");o.indexOf("#"+(i+1))!==-1;)++i;for(var a=new cv(s,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var u={tokens:l,numArgs:i};return u}return s}isDefined(e){return this.macros.has(e)||Wl.hasOwnProperty(e)||gn.math.hasOwnProperty(e)||gn.text.hasOwnProperty(e)||Kx.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Wl.hasOwnProperty(e)&&!Wl[e].primitive}}var dv=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,yh=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Gm={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},hv={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class sd{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new sW(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new mt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new ua("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(sd.endOfExpression.indexOf(s.text)!==-1||t&&s.text===t||e&&Wl[s.text]&&Wl[s.text].infix)break;var i=this.parseAtom(t);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t=-1,n,s=0;s<e.length;s++)if(e[s].type==="infix"){if(t!==-1)throw new mt("only one infix operator per group",e[s].token);t=s,n=e[s].replaceWith}if(t!==-1&&n){var i,o,a=e.slice(0,t),l=e.slice(t+1);a.length===1&&a[0].type==="ordgroup"?i=a[0]:i={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return n==="\\\\abovefrac"?c=this.callFunction(n,[i,e[t],o],[]):c=this.callFunction(n,[i,o],[]),[c]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(e);if(!s)throw new mt("Expected group after '"+n+"'",t);return s}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var s={type:"text",mode:this.mode,body:t},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return i}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var n,s;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(t&&t.type==="op"){var o=i.text==="\\limits";t.limits=o,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=i.text==="\\limits");else throw new mt("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new mt("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(s)throw new mt("Double subscript",i);s=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new mt("Double superscript",i);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(yh[i.text]){var c=yh[i.text],u=dv.test(i.text);for(this.consume();;){var f=this.fetch().text;if(!yh[f]||dv.test(f)!==u)break;this.consume(),c+=yh[f]}var h=new sd(c,this.settings).parse();u?s={type:"ordgroup",mode:"math",body:h}:n={type:"ordgroup",mode:"math",body:h}}else break}return n||s?{type:"supsub",mode:this.mode,base:t,sup:n,sub:s}:t}parseFunction(e,t){var n=this.fetch(),s=n.text,i=Wl[s];if(!i)return null;if(this.consume(),t&&t!=="atom"&&!i.allowedInArgument)throw new mt("Got function '"+s+"' with no arguments"+(t?" as "+t:""),n);if(this.mode==="text"&&!i.allowedInText)throw new mt("Can't use function '"+s+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new mt("Can't use function '"+s+"' in math mode",n);var{args:o,optArgs:a}=this.parseArguments(s,i);return this.callFunction(s,o,a,n,e)}callFunction(e,t,n,s,i){var o={funcName:e,parser:this,token:s,breakOnTokenText:i},a=Wl[e];if(a&&a.handler)return a.handler(o,t,n);throw new mt("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var s=[],i=[],o=0;o<n;o++){var a=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&a==null||t.type==="sqrt"&&o===1&&i[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)i.push(c);else if(c!=null)s.push(c);else throw new mt("Null argument, please report this as a bug")}return{args:s,optArgs:i}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new mt("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new mt("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new mt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var s="",i;(i=this.fetch()).text!=="EOF";)s+=i.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(e,t){for(var n=this.fetch(),s=n,i="",o;(o=this.fetch()).text!=="EOF"&&e.test(i+o.text);)s=o,i+=s.text,this.consume();if(i==="")throw new mt("Invalid "+t+": '"+n.text+"'",n);return n.range(s,i)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new mt("Invalid color: '"+t.text+"'",t);var s=n[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",n=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!s)throw new mt("Invalid size: '"+t.text+"'",t);var i={number:+(s[1]+s[2]),unit:s[3]};if(!ax(i))throw new mt("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var s=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(s),o}parseGroup(e,t){var n=this.fetch(),s=n.text,i;if(s==="{"||s==="\\begingroup"){this.consume();var o=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:Ri.range(n,l),body:a,semisimple:s==="\\begingroup"||void 0}}else if(i=this.parseFunction(t,e)||this.parseSymbol(),i==null&&s[0]==="\\"&&!Kx.hasOwnProperty(s)){if(this.settings.throwOnError)throw new mt("Undefined control sequence: "+s,n);i=this.formatUnsupportedCmd(s),this.consume()}return i}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var s=e[n],i=s.text;i==="-"&&e[n+1].text==="-"&&(n+1<t&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Ri.range(s,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Ri.range(s,e[n+1]),text:"--"}),t-=1)),(i==="'"||i==="`")&&e[n+1].text===i&&(e.splice(n,2,{type:"textord",mode:"text",loc:Ri.range(s,e[n+1]),text:i+i}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),s=n.charAt(0)==="*";if(s&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new mt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:s}}hv.hasOwnProperty(t[0])&&!gn[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=hv[t[0]]+t.slice(1));var i=eW.exec(t);i&&(t=t.substring(0,i.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var o;if(gn[this.mode][t]){this.settings.strict&&this.mode==="math"&&ng.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a=gn[this.mode][t].group,l=Ri.range(e),c;if(WV.hasOwnProperty(a)){var u=a;c={type:"atom",mode:this.mode,family:u,loc:l,text:t}}else c={type:a,mode:this.mode,loc:l,text:t};o=c}else if(t.charCodeAt(0)>=128)this.settings.strict&&(ox(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:Ri.range(e),text:t};else return null;if(this.consume(),i)for(var f=0;f<i[0].length;f++){var h=i[0][f];if(!Gm[h])throw new mt("Unknown accent ' "+h+"'",e);var d=Gm[h][this.mode]||Gm[h].text;if(!d)throw new mt("Accent "+h+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:Ri.range(e),label:d,isStretchy:!1,isShifty:!0,base:o}}return o}}sd.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var R5=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new sd(e,t);delete n.gullet.macros.current["\\df@tag"];var s=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new mt("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new ua("\\df@tag")])}]}return s},Xx=function(e,t,n){t.textContent="";var s=F5(e,n).toNode();t.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Xx=function(){throw new mt("KaTeX doesn't work in quirks mode.")});var iW=function(e,t){var n=F5(e,t).toMarkup();return n},oW=function(e,t){var n=new y5(t);return R5(e,n)},Zx=function(e,t,n){if(n.throwOnError||!(e instanceof mt))throw e;var s=Ue.makeSpan(["katex-error"],[new io(t)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+n.errorColor),s},F5=function(e,t){var n=new y5(t);try{var s=R5(e,n);return mU(s,e,n)}catch(i){return Zx(i,e,n)}},aW=function(e,t){var n=new y5(t);try{var s=R5(e,n);return gU(s,e,n)}catch(i){return Zx(i,e,n)}},lW={version:"0.16.8",render:Xx,renderToString:iW,ParseError:mt,SETTINGS_SCHEMA:jh,__parse:oW,__renderToDomTree:F5,__renderToHTMLTree:aW,__setFontMetrics:jV,__defineSymbol:P,__defineFunction:Ct,__defineMacro:me,__domTree:{Span:yd,Anchor:x5,SymbolNode:io,SvgNode:Ka,PathNode:rc,LineNode:rg}};function pv(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_=r[3]&&mv(r);return{c(){e=x("div"),t=x("button"),n=x("span"),n.textContent="Picture",i=I(),o=x("div"),a=x("button"),a.innerHTML="<span>Table</span>",l=I(),_&&_.c(),c=I(),u=x("button"),f=Be("Video"),d=I(),p=x("button"),p.innerHTML="<span>Math</span>",b(t,"class",s=`${r[8]===r[9].picture?"bg-gray-200":""} cursor-pointer uppercase p-3 border-r text-center`),b(a,"class","cursor-pointer uppercase p-3 border-r text-center w-full"),b(o,"class","relative w-full"),b(u,"type","button"),b(u,"class",h=`${r[8]===r[9].video?"bg-gray-200":""} uppercase p-3 border-r text-center`),b(p,"type","button"),b(p,"class","relative uppercase p-3 text-center"),b(e,"class","grid grid-cols-4 w-full justify-between border rounded text-gray-700 border-gray-300 uppercase text-xs")},m(k,A){oe(k,e,A),m(e,t),m(t,n),m(e,i),m(e,o),m(o,a),m(o,l),_&&_.m(o,null),m(e,c),m(e,u),m(u,f),m(e,d),m(e,p),g=!0,w||(v=[ht(t,"click",r[13]),ht(a,"click",r[24]),ht(u,"click",r[31]),ht(p,"click",r[15])],w=!0)},p(k,A){(!g||A[0]&256&&s!==(s=`${k[8]===k[9].picture?"bg-gray-200":""} cursor-pointer uppercase p-3 border-r text-center`))&&b(t,"class",s),k[3]?_?(_.p(k,A),A[0]&8&&R(_,1)):(_=mv(k),_.c(),R(_,1),_.m(o,null)):_&&(ct(),z(_,1,1,()=>{_=null}),ut()),(!g||A[0]&256&&h!==(h=`${k[8]===k[9].video?"bg-gray-200":""} uppercase p-3 border-r text-center`))&&b(u,"class",h)},i(k){g||(R(_),g=!0)},o(k){z(_),g=!1},d(k){k&&ie(e),_&&_.d(),w=!1,Wr(v)}}}function mv(r){let e,t,n,s;const i=[uW,cW],o=[];function a(l,c){return l[4]?0:1}return e=a(r),t=o[e]=i[e](r),{c(){t.c(),n=cr()},m(l,c){o[e].m(l,c),oe(l,n,c),s=!0},p(l,c){let u=e;e=a(l),e===u?o[e].p(l,c):(ct(),z(o[u],1,1,()=>{o[u]=null}),ut(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),R(t,1),t.m(n.parentNode,n))},i(l){s||(R(t),s=!0)},o(l){z(t),s=!1},d(l){o[e].d(l),l&&ie(n)}}}function cW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p;return s=new Gr({props:{type:"number",className:"p-2",label:"No. of Rows",labelStyle:"text-[10px]"}}),s.$on("input",r[28]),a=new Gr({props:{type:"number",className:"p-2",label:"No. of Cols",labelStyle:"text-[10px]"}}),a.$on("input",r[29]),u=new ft({props:{className:"bg-gray-200 text-gray-700 focus:ring-gray-100 focus:bg-gray-200 hover:bg-gray-300 max-w-min ",buttonText:"Cancel"}}),u.$on("click",r[30]),h=new ft({props:{buttonText:"Insert Table"}}),h.$on("click",r[16]),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("div"),de(a.$$.fragment),l=I(),c=x("div"),de(u.$$.fragment),f=I(),de(h.$$.fragment),b(n,"class",""),b(o,"class",""),b(t,"class","flex space-x-6"),b(c,"class","flex mt-5 space-x-3"),b(e,"class","absolute inset-x-0 mt-2 ml-[0.27rem] p-4 isolate z-50 bg-white min-h-full w-[14rem] border rounded-lg")},m(g,w){oe(g,e,w),m(e,t),m(t,n),ue(s,n,null),m(t,i),m(t,o),ue(a,o,null),m(e,l),m(e,c),ue(u,c,null),m(c,f),ue(h,c,null),p=!0},p:Bt,i(g){p||(R(s.$$.fragment,g),R(a.$$.fragment,g),R(u.$$.fragment,g),R(h.$$.fragment,g),d||so(()=>{d=ld(e,Ff,{duration:75}),d.start()}),p=!0)},o(g){z(s.$$.fragment,g),z(a.$$.fragment,g),z(u.$$.fragment,g),z(h.$$.fragment,g),p=!1},d(g){g&&ie(e),fe(s),fe(a),fe(u),fe(h)}}}function uW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N;return _=new ft({props:{className:"bg-gray-200 text-gray-700 focus:ring-gray-100 focus:bg-gray-200 hover:bg-gray-300 w-full",buttonText:"Cancel"}}),_.$on("click",r[27]),{c(){e=x("div"),t=x("div"),n=x("button"),n.textContent="Insert Col Left",s=I(),i=x("button"),i.textContent="Insert Col Right",o=I(),a=x("button"),a.textContent="Insert Row Above",l=I(),c=x("button"),c.textContent="Insert Row Below",u=I(),f=x("button"),f.textContent="Delete Row",h=I(),d=x("button"),d.textContent="Delete Col",p=I(),g=x("button"),g.textContent="Delete Table",w=I(),v=x("div"),de(_.$$.fragment),b(n,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(i,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(a,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(c,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(f,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(d,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(g,"class","w-full p-2.5 text-xs text-gray-700 text-left hover:bg-gray-100 rounded-lg transition"),b(t,"class","grid grid-cols-2 gap-2"),b(v,"class","flex mt-5 space-x-3 w-full items-center justify-center"),b(e,"class","absolute inset-x-0 mt-2 ml-[0.27rem] p-4 isolate z-50 bg-white min-h-full min-w-max max-w-min border rounded-lg")},m(T,O){oe(T,e,O),m(e,t),m(t,n),m(t,s),m(t,i),m(t,o),m(t,a),m(t,l),m(t,c),m(t,u),m(t,f),m(t,h),m(t,d),m(t,p),m(t,g),m(e,w),m(e,v),ue(_,v,null),A=!0,C||(N=[ht(n,"click",r[17]),ht(i,"click",r[18]),ht(a,"click",r[19]),ht(c,"click",r[20]),ht(f,"click",r[21]),ht(d,"click",r[22]),ht(g,"click",r[23])],C=!0)},p:Bt,i(T){A||(R(_.$$.fragment,T),k||so(()=>{k=ld(e,Ff,{duration:75}),k.start()}),A=!0)},o(T){z(_.$$.fragment,T),A=!1},d(T){T&&ie(e),fe(_),C=!1,Wr(N)}}}function gv(r){let e,t,n;return{c(){e=x("button"),e.textContent="Delete",b(e,"class","text-red-500")},m(s,i){oe(s,e,i),t||(n=ht(e,"click",r[14]),t=!0)},p:Bt,d(s){s&&ie(e),t=!1,n()}}}function bv(r){let e,t,n,s,i,o,a,l;return t=new Tt({props:{icon:"picture",className:"stroke-gray-400"}}),i=new Tt({props:{icon:"sigma",className:"stroke-gray-400"}}),{c(){e=x("button"),de(t.$$.fragment),n=I(),s=x("button"),de(i.$$.fragment),b(e,"class","flex items-center shrink-0 justify-center h-11 w-11 border-2 border-gray-300 rounded-lg"),b(s,"class","flex items-center shrink-0 justify-center h-11 w-11 border-2 border-gray-300 rounded-lg")},m(c,u){oe(c,e,u),ue(t,e,null),oe(c,n,u),oe(c,s,u),ue(i,s,null),o=!0,a||(l=[ht(e,"click",r[13]),ht(s,"click",r[15])],a=!0)},p:Bt,i(c){o||(R(t.$$.fragment,c),R(i.$$.fragment,c),o=!0)},o(c){z(t.$$.fragment,c),z(i.$$.fragment,c),o=!1},d(c){c&&ie(e),fe(t),c&&ie(n),c&&ie(s),fe(i),a=!1,Wr(l)}}}function fW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g=r[1]&&pv(r),w=r[7]&&gv(r),v=r[0]&&bv(r);return{c(){e=x("div"),t=x("button"),n=x("div"),g&&g.c(),s=I(),i=x("div"),o=I(),w&&w.c(),l=I(),v&&v.c(),c=I(),u=x("input"),b(n,"class","space-y-3"),b(t,"type","button"),b(t,"class",a=`text-left w-full rounded-lg cursor-text ${r[0]?"p-2.5":"px-4 py-6"}  border-2 border-gray-300`),b(e,"class","flex space-x-2 items-center"),b(u,"id",f=`pic${r[2]}`),b(u,"type","file"),b(u,"accept","image/*"),u.hidden=!0},m(_,k){oe(_,e,k),m(e,t),m(t,n),g&&g.m(n,null),m(t,s),m(t,i),m(t,o),w&&w.m(t,null),m(e,l),v&&v.m(e,null),oe(_,c,k),oe(_,u,k),h=!0,d||(p=[mn(r[10].call(null,i)),ht(u,"input",r[12])],d=!0)},p(_,k){_[1]?g?(g.p(_,k),k[0]&2&&R(g,1)):(g=pv(_),g.c(),R(g,1),g.m(n,null)):g&&(ct(),z(g,1,1,()=>{g=null}),ut()),_[7]?w?w.p(_,k):(w=gv(_),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!h||k[0]&1&&a!==(a=`text-left w-full rounded-lg cursor-text ${_[0]?"p-2.5":"px-4 py-6"}  border-2 border-gray-300`))&&b(t,"class",a),_[0]?v?(v.p(_,k),k[0]&1&&R(v,1)):(v=bv(_),v.c(),R(v,1),v.m(e,null)):v&&(ct(),z(v,1,1,()=>{v=null}),ut()),(!h||k[0]&4&&f!==(f=`pic${_[2]}`))&&b(u,"id",f)},i(_){h||(R(g),R(v),h=!0)},o(_){z(g),z(v),h=!1},d(_){_&&ie(e),g&&g.d(),w&&w.d(),v&&v.d(),_&&ie(c),_&&ie(u),d=!1,Wr(p)}}}function dW(r,e,t){let{isOptionEditor:n=!1}=e,{showTools:s=!1}=e,{content:i="<p></p>"}=e,{id:o}=e,a=!1,l=!1,c,u;const f=Ks();let h,d=!1,p={objectives:"objectives",picture:"picture",video:"video",math:"math",theory:"theory"},g=p.objectives;const w=gs.create({name:"Math",defining:!0,content:"inline*",group:"inline",inline:!0,addAttributes(){return{display:{default:"hidden"},formula:{default:null},cursorPos:{default:1},contenteditable:{default:!1}}},parseHTML(){return[{tag:"katex"}]},renderHTML({HTMLAttributes:be}){return["katex",xn(this.options.HTMLAttributes,be)]},addNodeView(){return({node:be,editor:Ne,getPos:Ae})=>{const{view:qe}=Ne,Me='<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M398.44977778 428.94222222h-31.51644445l-2.50311111-69.40444444h-1.82044444c-14.79111111 27.42044445-32.31288889 46.99022222-52.45155556 58.82311111-20.13866667 11.83288889-43.12177778 17.74933333-68.83555555 17.74933333-36.75022222 0-65.42222222-9.10222222-86.24355556-27.19288889-20.70755555-18.09066667-31.17511111-43.23555555-31.17511111-75.43466666 0-37.43288889 13.99466667-65.42222222 41.87022222-84.08177778 27.87555555-18.65955555 71.90755555-28.78577778 131.98222223-30.37866667l66.21866666-2.16177777v-22.86933334c0-36.75022222-7.96444445-63.60177778-24.00711111-80.66844444-15.92888889-17.06666667-38.00177778-25.6-66.21866667-25.6-30.03733333 0-52.56533333 4.77866667-67.47022222 14.44977778-14.90488889 9.67111111-25.25866667 25.94133333-30.94755556 48.81066666l-31.85777777-6.82666666c8.87466667-30.94755555 23.66577778-53.02044445 44.48711111-65.99111112 20.82133333-12.97066667 49.60711111-19.456 86.016-19.456 41.75644445 0 72.81777778 10.92266667 93.41155556 32.768 20.48 21.84533333 30.72 55.86488889 30.72 102.17244445V428.94222222z m-149.16266667-21.73155555c19.56977778 0 37.888-5.34755555 55.06844444-15.92888889s31.40266667-25.6 42.78044445-45.056 16.95288889-38.79822222 16.95288889-58.14044445v-44.71466666l-62.91911111 2.16177778c-51.31377778 1.70666667-87.72266667 9.44355555-109.34044445 23.43822222s-32.42666667 35.49866667-32.42666666 64.62577778c0 22.64177778 7.168 40.61866667 21.61777778 53.81688888 14.56355555 13.08444445 37.31911111 19.79733333 68.26666666 19.79733334zM947.08622222 803.49866667c0 58.48177778-13.19822222 103.53777778-39.70844444 135.28177778S843.88977778 986.45333333 796.21688889 986.45333333c-27.98933333 0-51.76888889-5.80266667-71.33866667-17.52177778-19.56977778-11.71911111-35.84-30.15111111-48.69688889-55.296h-1.36533333c0 6.144-0.45511111 17.408-1.36533333 33.56444445-0.91022222 16.15644445-1.59288889 26.96533333-2.048 32.54044445h-30.60622222c1.59288889-29.80977778 2.38933333-53.93066667 2.38933333-72.47644445V480.02844445h32.99555555v171.57688888c0 8.07822222-0.11377778 15.81511111-0.34133333 23.552-0.22755555 7.73688889-0.56888889 15.47377778-1.024 23.552h1.36533333c14.90488889-27.30666667 32.08533333-46.64888889 51.54133334-58.14044444 19.456-11.49155555 44.60088889-17.18044445 75.32088888-17.18044444 45.85244445 0 81.35111111 15.81511111 106.38222223 47.44533333 25.14488889 31.63022222 37.66044445 75.88977778 37.66044444 132.66488889z m-33.33688889 0c0-49.94844445-9.78488889-87.83644445-29.35466666-113.664-19.56977778-25.82755555-48.128-38.68444445-85.44711112-38.68444445-39.13955555 0-69.40444445 12.62933333-90.79466666 37.77422223-21.27644445 25.25866667-31.97155555 64.28444445-31.97155556 117.1911111 0 49.94844445 9.89866667 87.83644445 29.58222222 113.77777778 19.68355555 25.94133333 49.03822222 38.79822222 87.95022223 38.79822222 39.59466667 0 69.51822222-13.42577778 89.77066667-40.16355555 20.25244445-26.624 30.26488889-64.96711111 30.26488888-115.02933333zM204.00355555 781.76711111l673.67822223-713.27288889 32.19911111 30.37866667-673.67822222 713.38666666-32.19911112-30.49244444z"  /></svg>',Ee=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                              <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 -890.8 1425 1060" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-25-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-25-TEX-N-221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path><path id="MJX-25-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mroot"><g><g data-mml-node="mi" transform="translate(853,0)"><use data-c="1D465" xlink:href="#MJX-25-TEX-I-1D465"></use></g></g><g data-mml-node="mn" transform="translate(261.8,380.8) scale(0.5)"><use data-c="32" xlink:href="#MJX-25-TEX-N-32"></use></g><g data-mml-node="mo" transform="translate(0,30.8)"><use data-c="221A" xlink:href="#MJX-25-TEX-N-221A"></use></g><rect width="572" height="60" x="853" y="770.8"></rect></g></g></g></svg>
                             `,Le=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                             <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 -666 1487.5 823.8" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-16-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-16-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-16-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-16-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-16-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mi" transform="translate(1033,-150) scale(0.707)"><use data-c="1D465" xlink:href="#MJX-16-TEX-I-1D465"></use></g></g></g></g></svg>
                            `,ve=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                             <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 -725.5 1487.5 747.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-28-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-28-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-28-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-28-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-28-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mi" transform="translate(1033,413) scale(0.707)"><use data-c="1D465" xlink:href="#MJX-28-TEX-I-1D465"></use></g></g></g></g></svg>
                            `,Xe=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                            <svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 -431 570 442" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-31-TEX-I-1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D70B" xlink:href="#MJX-31-TEX-I-1D70B"></use></g></g></g></svg>
                            `,nt=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                               <svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em"  viewBox="0 -705 469 715" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-5-TEX-I-1D703" d="M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D703" xlink:href="#MJX-5-TEX-I-1D703"></use></g></g></g></svg>
                              `,_e=`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
                                   <svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em"  viewBox="0 -666 778 666" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-6-TEX-N-B1" d="M56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="B1" xlink:href="#MJX-6-TEX-N-B1"></use></g></g></g></svg>
                                  `,Re=document.createElement("div"),je=document.createElement("button"),Ye=document.createElement("div"),yt=document.createElement("div"),wt=document.createElement("button"),Mt=document.createElement("button"),at=document.createElement("button"),bt=document.createElement("button"),Ht=document.createElement("button"),Pt=document.createElement("button"),Ft=document.createElement("button"),st=document.createElement("textarea"),Cr=document.createElement("button");return st.contentEditable="true",je.contentEditable="true",st.value=be.attrs.formula=="a + b + c"?"":be.attrs.formula,Cr.textContent="Update",lW.render(be.attrs.formula,je,{output:"mathml",throwOnError:!1,maxSize:300}),Ye.append(yt,st,Cr),yt.append(wt,Mt,at,bt,Ht,Pt,Ft),yt.setAttribute("class","grid grid-cols-7 h-8 border rounded mb-2"),wt.setAttribute("class","border-r flex items-center justify-center"),Mt.setAttribute("class","border-r flex items-center justify-center"),at.setAttribute("class","border-r flex items-center justify-center"),bt.setAttribute("class","border-r flex items-center justify-center"),Ht.setAttribute("class","border-r flex items-center justify-center"),Pt.setAttribute("class","border-r flex items-center justify-center"),Ft.setAttribute("class","border-r flex items-center justify-center"),Cr.setAttribute("class","p-2.5 rounded bg-gray-800 text-white text-xs mt-1"),wt.innerHTML=Me,Mt.innerHTML=Ee,at.innerHTML=Le,bt.innerHTML=ve,Ht.innerHTML=Xe,Pt.innerHTML=nt,Ft.innerHTML=_e,wt.addEventListener("click",()=>O(st)),Mt.addEventListener("click",()=>D(st)),at.addEventListener("click",()=>Q(st)),bt.addEventListener("click",()=>E(st)),Ht.addEventListener("click",()=>j(st)),Pt.addEventListener("click",()=>J(st)),Ft.addEventListener("click",()=>U(st)),st.setAttribute("class","p-2.5 resize-none w-full h-10 border rounded"),Re.setAttribute("class","relative mx-1 inline-block"),Ye.setAttribute("class",`border ${be.attrs.display} rounded-lg bg-white  absolute -mt-40 w-[18rem] p-4`),Re.append(Ye,je),Cr.addEventListener("click",rr=>{typeof Ae=="function"&&(qe.dispatch(qe.state.tr.setNodeMarkup(Ae(),void 0,{...be.attrs,formula:st.value})),Ne.commands.focus())}),je.addEventListener("click",rr=>{typeof Ae=="function"&&(be.attrs.display==="hidden"?Ne.setEditable(!1):Ne.setEditable(!0),qe.dispatch(qe.state.tr.setNodeAttribute(Ae(),"display",be.attrs.display==="hidden"?"block":"hidden")),Ne.commands.focus())}),{dom:Re,update:rr=>!1,contentDOM:je}}}}),v=be=>{t(26,h=new iq({autofocus:!0,element:be,extensions:[sH,w,uV.configure({allowBase64:!0,HTMLAttributes:{class:`rounded-lg ${n?"h-20":""} w-auto border-2 mb-4`}}),iV.configure({resizable:!0}),lV.configure({HTMLAttributes:{class:"rounded-lg border-2"}}),aV.configure({HTMLAttributes:{class:"rounded-lg border-2 p-2"}}),oV.configure({HTMLAttributes:{class:"rounded-lg border-2 p-2"}})],editorProps:{attributes:{class:`text-sm prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none ${n?"min-h-11 w-full":"min-h-[16rem]"} ${s?"py-6":""}`}},onUpdate({editor:Ne}){_(Ne)},content:i,onTransaction:()=>{t(26,h),_(h)}}))},_=be=>{var qe,Me,Ee,Le;let Ne=be.getJSON().content;Ne=Ne[0].content;let Ae;if(be.isEmpty)return f("input",{content:"",type:"none"});if(n&&((qe=be.getJSON().content)!=null&&qe.some(ve=>ve.type==="image")))return Ae=(Ee=(Me=be.getJSON().content)==null?void 0:Me.filter(ve=>ve.type==="image")[0])==null?void 0:Ee.attrs,f("input",{content:Ae.src,type:"image",alt:Ae.alt});if(n&&(Ne!=null&&Ne.some(ve=>ve.type==="Math")))return Ae=(Le=Ne.filter(ve=>ve.type==="Math")[0])==null?void 0:Le.attrs.formula,f("input",{content:Ae,type:"Math"});if(n&&be.getText()&&!(Ne!=null&&Ne.some(ve=>ve.type==="Math")))return Ae=be.getText(),f("input",{content:Ae,type:"text"});if(!n)return Ae=be.getJSON(),f("input",{content:Ae,type:"html"})},k=be=>t(8,g=be),A=()=>{let be=document.getElementById(`pic${o}`),Ne=new FileReader;be!=null&&be.files[0]&&(Ne.readAsDataURL(be==null?void 0:be.files[0]),Ne.onload=()=>{n?(h.commands.clearContent(!0),h.setEditable(!1),h.chain().focus().setImage({src:Ne.result,alt:"ques_image"}).run(),t(7,d=!0)):h.chain().focus().setImage({src:Ne.result,alt:"ques_image"}).run(),be.value=""})},C=()=>document.getElementById(`pic${o}`).click(),N=()=>(h.commands.clearContent(!0),h.setEditable(!0),t(7,d=!1),f("input",{content:"",type:"none"})),T=()=>{h.commands.insertContent('<katex formula="a+b+c">a + b + c</katex>')},O=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("\\cfrac{a}{b}",Ne,Ae,"select"),be.focus()},D=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("\\sqrt[2]{b}",Ne,Ae,"select"),be.focus()},Q=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("10_x",Ne,Ae,"select"),be.focus()},E=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("10^x",Ne,Ae,"select"),be.focus()},j=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("\\pi",Ne,Ae,"select"),be.focus()},J=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("\\theta",Ne,Ae,"select"),be.focus()},U=be=>{let Ne=be.selectionStart,Ae=be.selectionEnd;be.setRangeText("\\pm",Ne,Ae,"select"),be.focus()},ne=()=>{c&&u&&h.commands.insertTable({rows:c,cols:u,withHeaderRow:!0}),t(3,a=!1)},G=()=>{l&&h.commands.addColumnBefore(),t(3,a=!1)},ae=()=>{l&&h.commands.addColumnAfter(),t(3,a=!1)},q=()=>{l&&h.commands.addRowBefore(),t(3,a=!1)},F=()=>{l&&h.commands.addRowAfter(),t(3,a=!1)},te=()=>{l&&h.commands.deleteRow(),t(3,a=!1)},B=()=>{l&&h.commands.deleteColumn(),t(3,a=!1)},L=()=>{l&&h.commands.deleteTable(),t(3,a=!1)},Y=()=>t(3,a=!a),re=()=>t(3,a=!1),X=be=>t(5,c=be.detail.input),K=be=>t(6,u=be.detail.input),W=()=>t(3,a=!1),pe=()=>k(p.video);return r.$$set=be=>{"isOptionEditor"in be&&t(0,n=be.isOptionEditor),"showTools"in be&&t(1,s=be.showTools),"content"in be&&t(25,i=be.content),"id"in be&&t(2,o=be.id)},r.$$.update=()=>{r.$$.dirty[0]&67108864&&h&&t(4,l=h.isActive("table"))},[n,s,o,a,l,c,u,d,g,p,v,k,A,C,N,T,ne,G,ae,q,F,te,B,L,Y,i,h,re,X,K,W,pe]}class j5 extends It{constructor(e){super(),Ot(this,e,dW,fW,xt,{isOptionEditor:0,showTools:1,content:25,id:2},null,[-1,-1])}}const hW=Object.freeze(Object.defineProperty({__proto__:null,default:j5},Symbol.toStringTag,{value:"Module"}));function vv(r,e,t){const n=r.slice();return n[43]=e[t],n[45]=t,n}function yv(r){let e,t;return e=new fr({props:{options:r[8],value:r[1],placeholder:"Select Question Section",className:"text-sm ring-2"}}),e.$on("selected",r[27]),e.$on("deselected",r[28]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&256&&(i.options=n[8]),s[0]&2&&(i.value=n[1]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function wv(r){let e,t;return e=new fr({props:{options:r[9],value:r[4],placeholder:"Select Question Topic",className:"text-sm ring-2"}}),e.$on("selected",r[29]),e.$on("deselected",r[30]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&512&&(i.options=n[9]),s[0]&16&&(i.value=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _v(r){let e,t;return e=new j5({props:{id:"questionEditor",content:r[3],showTools:!0}}),e.$on("input",r[31]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&8&&(i.content=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function xv(r){let e,t,n,s,i=r[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=Av(vv(r,i,l));const a=l=>z(o[l],1,1,()=>{o[l]=null});return{c(){e=x("p"),e.textContent="Options",t=I(),n=x("ul");for(let l=0;l<o.length;l+=1)o[l].c();b(e,"class","text-gray-800 font-semibold text-sm pt-4 pb-2"),b(n,"class","flex flex-col w-full space-y-2 text-xs text-gray-600 pt-2")},m(l,c){oe(l,e,c),oe(l,t,c),oe(l,n,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(n,null);s=!0},p(l,c){if(c[0]&379009){i=l[0];let u;for(u=0;u<i.length;u+=1){const f=vv(l,i,u);o[u]?(o[u].p(f,c),R(o[u],1)):(o[u]=Av(f),o[u].c(),R(o[u],1),o[u].m(n,null))}for(ct(),u=i.length;u<o.length;u+=1)a(u);ut()}},i(l){if(!s){for(let c=0;c<i.length;c+=1)R(o[c]);s=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)z(o[c]);s=!1},d(l){l&&ie(e),l&&ie(t),l&&ie(n),gr(o,l)}}}function kv(r){let e,t;function n(...s){return r[33](r[45],...s)}return e=new j5({props:{id:r[45],content:r[43].htmlContent,isOptionEditor:!0}}),e.$on("input",n),{c(){de(e.$$.fragment)},m(s,i){ue(e,s,i),t=!0},p(s,i){r=s;const o={};i[0]&1&&(o.content=r[43].htmlContent),e.$set(o)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){z(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function Sv(r){let e,t,n,s,i;return t=new Tt({props:{icon:"plus",className:"stroke-gray-400"}}),{c(){e=x("button"),de(t.$$.fragment),b(e,"class","flex items-center shrink-0 justify-center h-11 w-11 border-2 border-gray-300 rounded-lg")},m(o,a){oe(o,e,a),ue(t,e,null),n=!0,s||(i=ht(e,"click",r[15]),s=!0)},p:Bt,i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&ie(e),fe(t),s=!1,i()}}}function pW(r){let e,t,n,s,i;t=new Tt({props:{icon:"trash",className:"stroke-gray-400"}});function o(){return r[34](r[45])}return{c(){e=x("button"),de(t.$$.fragment),b(e,"class","flex items-center shrink-0 justify-center h-11 w-11 border-2 border-gray-300 rounded-lg")},m(a,l){oe(a,e,l),ue(t,e,null),n=!0,s||(i=ht(e,"click",o),s=!0)},p(a,l){r=a},i(a){n||(R(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&ie(e),fe(t),s=!1,i()}}}function Av(r){var _;let e,t,n,s,i,o,a=r[7],l,c,u,f,h,d;n=new Tt({props:{icon:"check",className:r[11](((_=r[43])==null?void 0:_.content)??r[43])?"stroke-green-500":"stroke-gray-400"}});function p(){return r[32](r[43])}let g=kv(r),w=r[45]+1==r[0].length&&Sv(r),v=r[45]>1&&pW(r);return{c(){var k;e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),g.c(),l=I(),w&&w.c(),c=I(),v&&v.c(),u=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-11 w-11 border-2 ${r[11](((k=r[43])==null?void 0:k.content)??r[43])?"border-green-500":"border-gray-300"} rounded-lg`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(k,A){oe(k,e,A),m(e,t),ue(n,t,null),m(e,i),m(e,o),g.m(o,null),m(e,l),w&&w.m(e,null),m(e,c),v&&v.m(e,null),m(e,u),f=!0,h||(d=ht(t,"click",p),h=!0)},p(k,A){var N,T;r=k;const C={};A[0]&2049&&(C.className=r[11](((N=r[43])==null?void 0:N.content)??r[43])?"stroke-green-500":"stroke-gray-400"),n.$set(C),(!f||A[0]&2049&&s!==(s=`flex items-center shrink-0 justify-center h-11 w-11 border-2 ${r[11](((T=r[43])==null?void 0:T.content)??r[43])?"border-green-500":"border-gray-300"} rounded-lg`))&&b(t,"class",s),A[0]&128&&xt(a,a=r[7])?(ct(),z(g,1,1,Bt),ut(),g=kv(r),g.c(),R(g,1),g.m(o,null)):g.p(r,A),r[45]+1==r[0].length?w?(w.p(r,A),A[0]&1&&R(w,1)):(w=Sv(r),w.c(),R(w,1),w.m(e,c)):w&&(ct(),z(w,1,1,()=>{w=null}),ut()),r[45]>1&&v.p(r,A)},i(k){f||(R(n.$$.fragment,k),R(g),R(w),R(v),f=!0)},o(k){z(n.$$.fragment,k),z(g),z(w),z(v),f=!1},d(k){k&&ie(e),fe(n),g.d(k),w&&w.d(),v&&v.d(),h=!1,d()}}}function mW(r){let e,t,n,s;return{c(){e=x("button"),t=Be("Save Question"),e.disabled=r[6],b(e,"class","px-4 py-2.5 bg-gray-800 text-gray-50 rounded-lg text-sm disabled:bg-gray-500")},m(i,o){oe(i,e,o),m(e,t),n||(s=ht(e,"click",r[20]),n=!0)},p(i,o){o[0]&64&&(e.disabled=i[6])},d(i){i&&ie(e),n=!1,s()}}}function gW(r){let e,t,n,s;return{c(){e=x("button"),t=Be("Update Question"),e.disabled=r[6],b(e,"class","px-4 py-2.5 bg-gray-800 text-gray-50 rounded-lg text-sm disabled:bg-gray-500")},m(i,o){oe(i,e,o),m(e,t),n||(s=ht(e,"click",r[19]),n=!0)},p(i,o){o[0]&64&&(e.disabled=i[6])},d(i){i&&ie(e),n=!1,s()}}}function bW(r){let e,t,n,s,i,o=r[1],a,l,c,u,f=r[4],h,d,p,g,w=r[3]&&r[7],v,_,k,A,C,N,T,O,D,Q,E,j,J,U=yv(r),ne=wv(r),G=_v(r),ae=r[10]!=r[12].theory&&xv(r);N=new Gr({props:{value:r[2]??"1",type:"number",className:"ring-2"}}),N.$on("input",r[35]);function q(B,L){return B[5]?gW:mW}let F=q(r),te=F(r);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("p"),s.textContent="Select Question Section",i=I(),U.c(),a=I(),l=x("div"),c=x("p"),c.textContent="Select Question Topic",u=I(),ne.c(),h=I(),d=x("div"),p=x("p"),p.textContent="Question",g=I(),G.c(),v=I(),ae&&ae.c(),_=I(),k=x("div"),A=x("p"),A.textContent="Question Score",C=I(),de(N.$$.fragment),T=I(),O=x("div"),D=x("button"),D.textContent="Cancel",Q=I(),te.c(),b(s,"class","text-gray-800 font-semibold text-sm"),b(n,"class","space-y-4 pb-4 my-4"),b(c,"class","text-gray-800 font-semibold text-sm"),b(l,"class","space-y-4 pb-4 my-4"),b(p,"class","text-gray-800 font-semibold text-sm"),b(d,"class","space-y-4 my-4"),b(A,"class","text-gray-800 font-semibold text-sm "),b(k,"class","w-32 mt-6 space-y-2"),b(D,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-sm"),b(O,"class","flex space-x-2 pt-5"),b(t,"class","pb-6"),b(e,"class","flex flex-col px-3 pb-4")},m(B,L){oe(B,e,L),m(e,t),m(t,n),m(n,s),m(n,i),U.m(n,null),m(t,a),m(t,l),m(l,c),m(l,u),ne.m(l,null),m(t,h),m(t,d),m(d,p),m(d,g),G.m(d,null),m(t,v),ae&&ae.m(t,null),m(t,_),m(t,k),m(k,A),m(k,C),ue(N,k,null),m(t,T),m(t,O),m(O,D),m(O,Q),te.m(O,null),E=!0,j||(J=ht(D,"click",r[36]),j=!0)},p(B,L){L[0]&2&&xt(o,o=B[1])?(ct(),z(U,1,1,Bt),ut(),U=yv(B),U.c(),R(U,1),U.m(n,null)):U.p(B,L),L[0]&16&&xt(f,f=B[4])?(ct(),z(ne,1,1,Bt),ut(),ne=wv(B),ne.c(),R(ne,1),ne.m(l,null)):ne.p(B,L),L[0]&136&&xt(w,w=B[3]&&B[7])?(ct(),z(G,1,1,Bt),ut(),G=_v(B),G.c(),R(G,1),G.m(d,null)):G.p(B,L),B[10]!=B[12].theory?ae?(ae.p(B,L),L[0]&1024&&R(ae,1)):(ae=xv(B),ae.c(),R(ae,1),ae.m(t,_)):ae&&(ct(),z(ae,1,1,()=>{ae=null}),ut());const Y={};L[0]&4&&(Y.value=B[2]??"1"),N.$set(Y),F===(F=q(B))&&te?te.p(B,L):(te.d(1),te=F(B),te&&(te.c(),te.m(O,null)))},i(B){E||(R(U),R(ne),R(G),R(ae),R(N.$$.fragment,B),E=!0)},o(B){z(U),z(ne),z(G),z(ae),z(N.$$.fragment,B),E=!1},d(B){B&&ie(e),U.d(B),ne.d(B),G.d(B),ae&&ae.d(),fe(N),te.d(),j=!1,J()}}}function vW(r,e,t){let n,s;cn(r,kn,W=>t(37,s=W));let{edit:i=!1}=e,{disabled:o=!1}=e,{questionEdit:a=!1}=e,{correctAnswer:l=""}=e,{options:c=[]}=e,{initOptions:u}=e,{sections:f=[]}=e,{topics:h=[]}=e,{questionScore:d="1"}=e,{question:p=""}=e,{selectedTopic:g=""}=e,{selectedSection:w=""}=e,{questionId:v}=e,{questionImage:_=""}=e,{source:k}=e,A=[],C={objectives:"objectives",picture:"picture",video:"video",math:"math",theory:"theory"},N=C.objectives,T=s.props.questionBankId,O=s.props.assessmentId;const D=Ks();br(()=>{t(22,u=JSON.stringify(c))});const Q=W=>t(21,l=W),E=()=>{c.push({content:"<p></p>",type:""}),t(0,c),t(1,w),t(8,f),t(10,N),t(12,C)},j=(W,pe)=>{t(0,c[pe]={content:W.content,type:W.type,alt:W.alt},c)},J=W=>t(3,p=W),U=W=>{t(0,c=c.filter((pe,be)=>be!=W))},ne=()=>{D("saving");let W={question:JSON.stringify(p),options:c,correctAnswer:l,questionScore:d,source:k,sectionId:w,topicId:g,questionBankId:T,questionType:N};ze.postWithToken("/api/question/update/"+v,W,{onSuccess:pe=>{D("updated",{question:W})},onError:pe=>{D("error")}})},G=()=>{D("saving");let W={question:JSON.stringify(p),options:c,correctAnswer:l,questionScore:d};ze.postWithToken("/api/question/create/"+O,{...W,sectionId:w,topicId:g,questionBankId:T,questionType:N},{onSuccess:pe=>{W.questionId=pe.data.questionId,D("saved",{question:{...W,sectionId:w,topicId:g}})},onError:pe=>{D("error")}})},ae=W=>t(1,w=W.detail.value),q=W=>t(1,w=null),F=W=>t(4,g=W.detail.value),te=W=>t(4,g=null),B=W=>J(W.detail),L=W=>Q((W==null?void 0:W.content)??W),Y=(W,pe)=>j(pe.detail,W),re=W=>U(W),X=W=>t(2,d=W.detail.input),K=()=>D("cancel");return r.$$set=W=>{"edit"in W&&t(5,i=W.edit),"disabled"in W&&t(6,o=W.disabled),"questionEdit"in W&&t(7,a=W.questionEdit),"correctAnswer"in W&&t(21,l=W.correctAnswer),"options"in W&&t(0,c=W.options),"initOptions"in W&&t(22,u=W.initOptions),"sections"in W&&t(8,f=W.sections),"topics"in W&&t(9,h=W.topics),"questionScore"in W&&t(2,d=W.questionScore),"question"in W&&t(3,p=W.question),"selectedTopic"in W&&t(4,g=W.selectedTopic),"selectedSection"in W&&t(1,w=W.selectedSection),"questionId"in W&&t(24,v=W.questionId),"questionImage"in W&&t(23,_=W.questionImage),"source"in W&&t(25,k=W.source)},r.$$.update=()=>{var W;if(r.$$.dirty[0]&2097152&&t(11,n=pe=>(pe==null?void 0:pe.length)>0&&pe===l),r.$$.dirty[0]&67108864&&A[0]){let pe=new FileReader;pe.readAsDataURL(A[0]),pe.onload=()=>{t(23,_=pe.result)}}r.$$.dirty[0]&1283&&(w&&t(10,N=(W=f.filter(pe=>pe.value===w)[0])==null?void 0:W.questionType),N===C.theory?(t(2,d="0"),t(0,c),t(1,w),t(8,f),t(10,N),t(12,C)):(t(2,d="1"),t(0,c),t(1,w),t(8,f),t(10,N),t(12,C))),r.$$.dirty[0]&129&&(console.log(a),console.log(c))},[c,w,d,p,g,i,o,a,f,h,N,n,C,D,Q,E,j,J,U,ne,G,l,u,_,v,k,A,ae,q,F,te,B,L,Y,re,X,K]}class B5 extends It{constructor(e){super(),Ot(this,e,vW,bW,xt,{edit:5,disabled:6,questionEdit:7,correctAnswer:21,options:0,initOptions:22,sections:8,topics:9,questionScore:2,question:3,selectedTopic:4,selectedSection:1,questionId:24,questionImage:23,source:25},null,[-1,-1])}}const yW=Object.freeze(Object.defineProperty({__proto__:null,default:B5},Symbol.toStringTag,{value:"Module"}));function Tv(r,e,t){const n=r.slice();return n[14]=e[t],n}function wW(r){let e,t,n;return{c(){e=x("p"),t=Be("Question "),n=Be(r[0]),b(e,"class","text-gray-600 font-bold text-base")},m(s,i){oe(s,e,i),m(e,t),m(e,n)},p(s,i){i&1&&rt(n,s[0])},d(s){s&&ie(e)}}}function _W(r){let e,t,n,s,i,o,a,l;return{c(){e=x("div"),t=x("input"),n=I(),s=x("p"),i=Be("Question "),o=Be(r[0]),t.checked=r[9],b(t,"class","cursor-pointer p-2"),b(t,"type","checkbox"),t.value=r[3],b(s,"class","text-gray-600 font-bold text-base"),b(e,"class","flex space-x-3 -ml-7 items-center")},m(c,u){oe(c,e,u),m(e,t),m(e,n),m(e,s),m(s,i),m(s,o),a||(l=ht(t,"input",r[13]),a=!0)},p(c,u){u&512&&(t.checked=c[9]),u&8&&(t.value=c[3]),u&1&&rt(o,c[0])},d(c){c&&ie(e),a=!1,l()}}}function Nv(r){let e,t,n,s=r[4],i=[];for(let o=0;o<s.length;o+=1)i[o]=Mv(Tv(r,s,o));return{c(){e=x("ul"),t=x("p"),t.textContent="Options",n=I();for(let o=0;o<i.length;o+=1)i[o].c();b(t,"class","font-semibold text-base text-gray-500"),b(e,"class","flex flex-col w-full space-y-2 text-xs text-gray-600 pt-6")},m(o,a){oe(o,e,a),m(e,t),m(e,n);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(o,a){if(a&48){s=o[4];let l;for(l=0;l<s.length;l+=1){const c=Tv(o,s,l);i[l]?i[l].p(c,a):(i[l]=Mv(c),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(o){o&&ie(e),gr(i,o)}}}function xW(r){let e,t,n=r[14].htmlContent+"",s;return{c(){e=x("div"),t=x("div"),s=I(),b(e,"class","flex p-3 border-2 border-gray-300 min-w-md shrink-0 max-w-lg rounded-lg items-center justify-between space-x-2")},m(i,o){oe(i,e,o),m(e,t),t.innerHTML=n,m(e,s)},p(i,o){o&16&&n!==(n=i[14].htmlContent+"")&&(t.innerHTML=n)},d(i){i&&ie(e)}}}function kW(r){let e,t,n=r[14].htmlContent+"",s,i,o;return{c(){e=x("div"),t=x("div"),s=I(),i=x("small"),i.textContent="(Correct Answer)",o=I(),b(i,"class","text-green-500"),b(e,"class","flex p-3 border-2 border-green-500 min-w-md shrink-0 max-w-lg rounded-lg items-center justify-between space-x-2")},m(a,l){oe(a,e,l),m(e,t),t.innerHTML=n,m(e,s),m(e,i),m(e,o)},p(a,l){l&16&&n!==(n=a[14].htmlContent+"")&&(t.innerHTML=n)},d(a){a&&ie(e)}}}function Mv(r){let e;function t(i,o){return i[14].content==i[5]?kW:xW}let n=t(r),s=n(r);return{c(){s.c(),e=cr()},m(i,o){s.m(i,o),oe(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){s.d(i),i&&ie(e)}}}function SW(r){let e,t,n,s,i,o,a,l=(r[1]??"No Section")+"",c,u,f,h,d,p,g,w,v,_;function k(D,Q){return D[8]?_W:wW}let A=k(r),C=A(r),N=r[7]&&Nv(r);const T=r[12].default,O=Oo(T,r,r[11],null);return{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),C.c(),i=I(),o=x("p"),a=Be("( "),c=Be(l),u=Be(" | "),f=Be(r[6]),h=Be(" Marks )"),d=I(),p=x("div"),g=I(),N&&N.c(),w=I(),O&&O.c(),b(o,"class","text-gray-500 font-semibold text-xs"),b(s,"class","flex items-center justify-between min-w-md shrink-0 max-w-lg"),b(p,"class","text-gray-700 text-sm font-normal min-w-md shrink-0 max-w-md"),b(n,"class","space-y-4 pb-3"),b(t,"class","border-b pb-6"),b(e,"class",v=`${r[8]?"pr-8 pl-12":"px-8"} flex flex-col  pt-8 pb-4 w-full`)},m(D,Q){oe(D,e,Q),m(e,t),m(t,n),m(n,s),C.m(s,null),m(s,i),m(s,o),m(o,a),m(o,c),m(o,u),m(o,f),m(o,h),m(n,d),m(n,p),p.innerHTML=r[2],m(t,g),N&&N.m(t,null),m(t,w),O&&O.m(t,null),_=!0},p(D,[Q]){A===(A=k(D))&&C?C.p(D,Q):(C.d(1),C=A(D),C&&(C.c(),C.m(s,i))),(!_||Q&2)&&l!==(l=(D[1]??"No Section")+"")&&rt(c,l),(!_||Q&64)&&rt(f,D[6]),(!_||Q&4)&&(p.innerHTML=D[2]),D[7]?N?N.p(D,Q):(N=Nv(D),N.c(),N.m(t,w)):N&&(N.d(1),N=null),O&&O.p&&(!_||Q&2048)&&Eo(O,T,D,D[11],_?Io(T,D[11],Q,null):Po(D[11]),null),(!_||Q&256&&v!==(v=`${D[8]?"pr-8 pl-12":"px-8"} flex flex-col  pt-8 pb-4 w-full`))&&b(e,"class",v)},i(D){_||(R(O,D),_=!0)},o(D){z(O,D),_=!1},d(D){D&&ie(e),C.d(),N&&N.d(),O&&O.d(D)}}}function AW(r,e,t){let{$$slots:n={},$$scope:s}=e,{questionNumber:i}=e,{sectionTitle:o}=e,{question:a}=e,{questionId:l}=e,{questionOptions:c=[]}=e,{correctAnswer:u}=e,{questionScore:f}=e,{showOptions:h=!0}=e,{showCheckBox:d=!1}=e,{checked:p=!1}=e;const g=Ks(),w=v=>v.target.checked?g("checked",{value:v.target.value}):g("unchecked",{value:v.target.value});return r.$$set=v=>{"questionNumber"in v&&t(0,i=v.questionNumber),"sectionTitle"in v&&t(1,o=v.sectionTitle),"question"in v&&t(2,a=v.question),"questionId"in v&&t(3,l=v.questionId),"questionOptions"in v&&t(4,c=v.questionOptions),"correctAnswer"in v&&t(5,u=v.correctAnswer),"questionScore"in v&&t(6,f=v.questionScore),"showOptions"in v&&t(7,h=v.showOptions),"showCheckBox"in v&&t(8,d=v.showCheckBox),"checked"in v&&t(9,p=v.checked),"$$scope"in v&&t(11,s=v.$$scope)},[i,o,a,l,c,u,f,h,d,p,g,s,n,w]}class E0 extends It{constructor(e){super(),Ot(this,e,AW,SW,xt,{questionNumber:0,sectionTitle:1,question:2,questionId:3,questionOptions:4,correctAnswer:5,questionScore:6,showOptions:7,showCheckBox:8,checked:9})}}const TW=Object.freeze(Object.defineProperty({__proto__:null,default:E0},Symbol.toStringTag,{value:"Module"}));function Cv(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function Lv(r){let e,t;return e=new E0({props:{question:r[11].question,questionOptions:r[11].options,correctAnswer:r[11].correctAnswer,questionNumber:r[13]+1,questionScore:r[11].questionScore,$$slots:{default:[NW]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.question=n[11].question),s&2&&(i.questionOptions=n[11].options),s&2&&(i.correctAnswer=n[11].correctAnswer),s&2&&(i.questionScore=n[11].questionScore),s&16386&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function NW(r){let e,t,n,s;function i(){return r[10](r[11])}return{c(){e=x("div"),t=x("button"),t.textContent="Assign",b(t,"class","px-4 py-2.5 bg-gray-800 text-gray-50 rounded-lg text-xs"),b(e,"class","flex space-x-2 pt-5")},m(o,a){oe(o,e,a),m(e,t),n||(s=ht(t,"click",i),n=!0)},p(o,a){r=o},d(o){o&&ie(e),n=!1,s()}}}function $v(r){let e=!r[0](r[11].questionId),t,n,s=e&&Lv(r);return{c(){s&&s.c(),t=cr()},m(i,o){s&&s.m(i,o),oe(i,t,o),n=!0},p(i,o){o&3&&(e=!i[0](i[11].questionId)),e?s?(s.p(i,o),o&3&&R(s,1)):(s=Lv(i),s.c(),R(s,1),s.m(t.parentNode,t)):s&&(ct(),z(s,1,1,()=>{s=null}),ut())},i(i){n||(R(s),n=!0)},o(i){z(s),n=!1},d(i){s&&s.d(i),i&&ie(t)}}}function MW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q;s=new fr({props:{options:r[5],className:"bg-white text-sm",placeholder:"Class"}}),a=new fr({props:{options:r[4],className:"bg-white text-sm",placeholder:"Subject"}}),u=new fr({props:{options:r[2],className:"bg-white text-sm",placeholder:"Assessment Type"}}),d=new fr({props:{options:r[7],className:"bg-white text-sm",placeholder:"Term"}}),w=new fr({props:{options:r[6],className:"bg-white text-sm",placeholder:"Session"}}),k=new fr({props:{options:r[3],className:"bg-white text-sm",placeholder:"Assessment Category"}});let E=r[1],j=[];for(let U=0;U<E.length;U+=1)j[U]=$v(Cv(r,E,U));const J=U=>z(j[U],1,1,()=>{j[U]=null});return{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("div"),de(a.$$.fragment),l=I(),c=x("div"),de(u.$$.fragment),f=I(),h=x("div"),de(d.$$.fragment),p=I(),g=x("div"),de(w.$$.fragment),v=I(),_=x("div"),de(k.$$.fragment),A=I(),C=x("div");for(let U=0;U<j.length;U+=1)j[U].c();N=I(),T=x("div"),b(n,"class","w-full max-w-sm"),b(o,"class","w-full max-w-sm"),b(c,"class","w-full max-w-sm"),b(h,"class","w-full max-w-sm"),b(g,"class","w-full min-w-max"),b(_,"class","w-full max-w-sm"),b(t,"class","grid grid-cols-3 gap-2 items-center justify-between w-full "),b(e,"class","fixed flex items-center border-b space-x-3 w-[36rem] py-3 px-4 bg-white border-r transition"),b(T,"class","h-5 w-full"),b(C,"class","pt-28 pb-52 question svelte-1et1clp")},m(U,ne){oe(U,e,ne),m(e,t),m(t,n),ue(s,n,null),m(t,i),m(t,o),ue(a,o,null),m(t,l),m(t,c),ue(u,c,null),m(t,f),m(t,h),ue(d,h,null),m(t,p),m(t,g),ue(w,g,null),m(t,v),m(t,_),ue(k,_,null),oe(U,A,ne),oe(U,C,ne);for(let G=0;G<j.length;G+=1)j[G]&&j[G].m(C,null);m(C,N),m(C,T),O=!0,D||(Q=mn(r[9].call(null,T)),D=!0)},p(U,[ne]){const G={};ne&32&&(G.options=U[5]),s.$set(G);const ae={};ne&16&&(ae.options=U[4]),a.$set(ae);const q={};ne&4&&(q.options=U[2]),u.$set(q);const F={};ne&128&&(F.options=U[7]),d.$set(F);const te={};ne&64&&(te.options=U[6]),w.$set(te);const B={};if(ne&8&&(B.options=U[3]),k.$set(B),ne&259){E=U[1];let L;for(L=0;L<E.length;L+=1){const Y=Cv(U,E,L);j[L]?(j[L].p(Y,ne),R(j[L],1)):(j[L]=$v(Y),j[L].c(),R(j[L],1),j[L].m(C,N))}for(ct(),L=E.length;L<j.length;L+=1)J(L);ut()}},i(U){if(!O){R(s.$$.fragment,U),R(a.$$.fragment,U),R(u.$$.fragment,U),R(d.$$.fragment,U),R(w.$$.fragment,U),R(k.$$.fragment,U);for(let ne=0;ne<E.length;ne+=1)R(j[ne]);O=!0}},o(U){z(s.$$.fragment,U),z(a.$$.fragment,U),z(u.$$.fragment,U),z(d.$$.fragment,U),z(w.$$.fragment,U),z(k.$$.fragment,U),j=j.filter(Boolean);for(let ne=0;ne<j.length;ne+=1)z(j[ne]);O=!1},d(U){U&&ie(e),fe(s),fe(a),fe(u),fe(d),fe(w),fe(k),U&&ie(A),U&&ie(C),gr(j,U),D=!1,Q()}}}function CW(r,e,t){let{hasBeenAssigned:n}=e,{questionBank:s=[]}=e,{assessmentTypes:i=[]}=e,{assessmentCategories:o=[]}=e,{subjects:a=[]}=e,{classes:l=[]}=e,{sessions:c=[]}=e,{terms:u=[]}=e;const f=Ks(),h=p=>{setTimeout(()=>{new IntersectionObserver(w=>{w[0].isIntersecting&&f("load-more-question-bank")},{rootMargin:"100px"}).observe(p)},500)},d=p=>f("assign",p);return r.$$set=p=>{"hasBeenAssigned"in p&&t(0,n=p.hasBeenAssigned),"questionBank"in p&&t(1,s=p.questionBank),"assessmentTypes"in p&&t(2,i=p.assessmentTypes),"assessmentCategories"in p&&t(3,o=p.assessmentCategories),"subjects"in p&&t(4,a=p.subjects),"classes"in p&&t(5,l=p.classes),"sessions"in p&&t(6,c=p.sessions),"terms"in p&&t(7,u=p.terms)},[n,s,i,o,a,l,c,u,f,h,d]}class S1 extends It{constructor(e){super(),Ot(this,e,CW,MW,xt,{hasBeenAssigned:0,questionBank:1,assessmentTypes:2,assessmentCategories:3,subjects:4,classes:5,sessions:6,terms:7})}}const LW=Object.freeze(Object.defineProperty({__proto__:null,default:S1},Symbol.toStringTag,{value:"Module"}));function Ov(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function $W(r){let e,t,n,s,i,o,a,l,c;function u(){return r[16](r[20])}function f(){return r[17](r[20])}return{c(){e=x("div"),t=x("button"),t.textContent="Edit",n=I(),s=x("button"),s.textContent="Delete",i=I(),o=x("button"),o.textContent="Assign",a=I(),b(t,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),b(s,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),b(o,"class","px-4 py-2.5 bg-gray-800 text-gray-50 rounded-lg text-xs"),b(e,"class","flex space-x-2 pt-5")},m(h,d){oe(h,e,d),m(e,t),m(e,n),m(e,s),m(e,i),m(e,o),oe(h,a,d),l||(c=[ht(t,"click",u),ht(o,"click",f)],l=!0)},p(h,d){r=h},d(h){h&&ie(e),h&&ie(a),l=!1,Wr(c)}}}function Iv(r){let e,t;return e=new E0({props:{sectionTitle:r[20].sectionTitle,questionId:r[20].questionId,question:r[20].question,questionOptions:r[20].options,correctAnswer:r[20].correctAnswer,questionNumber:r[22]+1,questionScore:r[20].questionScore,showCheckBox:!0,checked:r[6](r[20].questionId),showOptions:r[20].questionType!="theory",$$slots:{default:[$W]},$$scope:{ctx:r}}}),e.$on("checked",r[18]),e.$on("unchecked",r[19]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&4&&(i.sectionTitle=n[20].sectionTitle),s&4&&(i.questionId=n[20].questionId),s&4&&(i.question=n[20].question),s&4&&(i.questionOptions=n[20].options),s&4&&(i.correctAnswer=n[20].correctAnswer),s&4&&(i.questionScore=n[20].questionScore),s&68&&(i.checked=n[6](n[20].questionId)),s&4&&(i.showOptions=n[20].questionType!="theory"),s&8388612&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OW(r){let e,t,n,s,i,o,a,l=r[4]?"Uncheck All":"Check All",c,u,f,h,d,p,g,w,v,_,k;s=new fr({props:{options:r[1],placeholder:"All Sections",className:"text-sm py-2.5"}}),s.$on("selected",r[14]),s.$on("deselected",r[15]),f=new ft({props:{disabled:r[0],buttonText:"Assign",className:"text-sm"}}),f.$on("click",r[11]),p=new Tt({props:{icon:"trash",className:"stroke-white h-6 w-6"}});let A=r[2],C=[];for(let T=0;T<A.length;T+=1)C[T]=Iv(Ov(r,A,T));const N=T=>z(C[T],1,1,()=>{C[T]=null});return{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("div"),a=x("button"),c=Be(l),u=I(),de(f.$$.fragment),h=I(),d=x("button"),de(p.$$.fragment),g=I(),w=x("div");for(let T=0;T<C.length;T+=1)C[T].c();b(n,"class","flex space-x-3 items-center w-full"),a.disabled=r[5],b(a,"class","p-2.5 rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),d.disabled=r[0],b(d,"class","p-2.5 rounded-lg min-w-max max-w-min bg-red-600 hover:bg-red-700 font-semibold transition disabled:bg-red-400"),b(o,"class","flex space-x-2 text-sm"),b(t,"class","flex space-x-8 items-center h-full justify-between"),b(e,"class","fixed px-8 z-50 w-[36rem] h-16 border-b border-r bg-white shrink-0"),b(w,"class","fixed w-[36rem] flex flex-col mt-16 h-[calc(100vh-17rem)] items-center bottom-0 pb-20 border-r question overflow-x-hidden overflow-y-auto pl-4 bg-white svelte-1et1clp")},m(T,O){oe(T,e,O),m(e,t),m(t,n),ue(s,n,null),m(t,i),m(t,o),m(o,a),m(a,c),m(o,u),ue(f,o,null),m(o,h),m(o,d),ue(p,d,null),oe(T,g,O),oe(T,w,O);for(let D=0;D<C.length;D+=1)C[D]&&C[D].m(w,null);v=!0,_||(k=ht(a,"click",r[10]),_=!0)},p(T,[O]){const D={};O&2&&(D.options=T[1]),s.$set(D),(!v||O&16)&&l!==(l=T[4]?"Uncheck All":"Check All")&&rt(c,l),(!v||O&32)&&(a.disabled=T[5]);const Q={};if(O&1&&(Q.disabled=T[0]),f.$set(Q),(!v||O&1)&&(d.disabled=T[0]),O&964){A=T[2];let E;for(E=0;E<A.length;E+=1){const j=Ov(T,A,E);C[E]?(C[E].p(j,O),R(C[E],1)):(C[E]=Iv(j),C[E].c(),R(C[E],1),C[E].m(w,null))}for(ct(),E=A.length;E<C.length;E+=1)N(E);ut()}},i(T){if(!v){R(s.$$.fragment,T),R(f.$$.fragment,T),R(p.$$.fragment,T);for(let O=0;O<A.length;O+=1)R(C[O]);v=!0}},o(T){z(s.$$.fragment,T),z(f.$$.fragment,T),z(p.$$.fragment,T),C=C.filter(Boolean);for(let O=0;O<C.length;O+=1)z(C[O]);v=!1},d(T){T&&ie(e),fe(s),fe(f),fe(p),T&&ie(g),T&&ie(w),gr(C,T),_=!1,k()}}}function IW(r,e,t){let n,s,{disabled:i=!1}=e,o=[],a=[],{questions:l=[]}=e,{sections:c=[]}=e,u,f=!1;br(()=>{t(2,a=l)});const h=Ks(),d=T=>{o.push(T),t(13,o)},p=T=>{t(13,o=o.filter(O=>O!=T))},g=()=>{f?t(13,o=o.filter(T=>!a.some(O=>T===O.questionId))):(a.flatMap(T=>[T.questionId]).forEach(T=>{o.some(O=>O===T)||o.push(T)}),t(13,o))},w=()=>{t(0,i=!0),h("mass-assign",{selectedQuestions:o}),t(13,o=[])},v=T=>t(3,u=T.detail.value),_=T=>t(3,u=null),k=T=>h("edit",T),A=T=>h("assign",T),C=T=>d(T.detail.value),N=T=>p(T.detail.value);return r.$$set=T=>{"disabled"in T&&t(0,i=T.disabled),"questions"in T&&t(12,l=T.questions),"sections"in T&&t(1,c=T.sections)},r.$$.update=()=>{r.$$.dirty&4104&&(u?t(2,a=l.filter(T=>T.sectionId===u)):t(2,a=l)),r.$$.dirty&8196&&t(0,i=o.length===0||a.length===0),r.$$.dirty&8192&&t(6,n=T=>o.some(O=>T===O)),r.$$.dirty&4&&t(5,s=a.length===0),r.$$.dirty&8196&&t(4,f=a.filter(T=>o.some(O=>T.questionId===O)).length===a.length&&a.length!==0)},[i,c,a,u,f,s,n,h,d,p,g,w,l,o,v,_,k,A,C,N]}class id extends It{constructor(e){super(),Ot(this,e,IW,OW,xt,{disabled:0,questions:12,sections:1})}}const EW=Object.freeze(Object.defineProperty({__proto__:null,default:id},Symbol.toStringTag,{value:"Module"}));function Ev(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function PW(r){let e,t,n=r[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=Pv(Ev(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){e=x("div");for(let o=0;o<s.length;o+=1)s[o].c();b(e,"class","w-full pl-4")},m(o,a){oe(o,e,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,a){if(a&964){n=o[2];let l;for(l=0;l<n.length;l+=1){const c=Ev(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=Pv(c),s[l].c(),R(s[l],1),s[l].m(e,null))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){o&&ie(e),gr(s,o)}}}function DW(r){let e;return{c(){e=x("div"),e.innerHTML=`<div class="flex items-center text-center rounded-lg h-full dark:border-gray-700"><div class="flex flex-col w-full max-w-sm px-4 mx-auto"><div class="p-3 mx-auto text-blue-500 bg-blue-100 rounded-full dark:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> 
                    <h1 class="mt-3 text-lg text-gray-800 dark:text-white">No Questions found</h1> 
                    <p class="mt-2 text-gray-500 dark:text-gray-400">No question has been assigned to this assessment.</p></div></div>`,b(e,"class","container h-[30rem]")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function RW(r){let e,t,n,s,i,o,a;function l(){return r[16](r[20])}function c(){return r[17](r[20])}return{c(){e=x("div"),t=x("button"),t.textContent="Edit",n=I(),s=x("button"),s.textContent="Remove",i=I(),b(t,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),b(s,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),b(e,"class","flex space-x-2 pt-5")},m(u,f){oe(u,e,f),m(e,t),m(e,n),m(e,s),oe(u,i,f),o||(a=[ht(t,"click",l),ht(s,"click",c)],o=!0)},p(u,f){r=u},d(u){u&&ie(e),u&&ie(i),o=!1,Wr(a)}}}function Pv(r){let e,t;return e=new E0({props:{sectionTitle:r[20].sectionTitle,questionId:r[20].questionId,showOptions:r[20].questionType!="theory",question:r[20].question,questionOptions:r[20].options,correctAnswer:r[20].correctAnswer,questionNumber:r[22]+1,questionScore:r[20].questionScore,showCheckBox:!0,checked:r[6](r[20].questionId),$$slots:{default:[RW]},$$scope:{ctx:r}}}),e.$on("checked",r[18]),e.$on("unchecked",r[19]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&4&&(i.sectionTitle=n[20].sectionTitle),s&4&&(i.questionId=n[20].questionId),s&4&&(i.showOptions=n[20].questionType!="theory"),s&4&&(i.question=n[20].question),s&4&&(i.questionOptions=n[20].options),s&4&&(i.correctAnswer=n[20].correctAnswer),s&4&&(i.questionScore=n[20].questionScore),s&68&&(i.checked=n[6](n[20].questionId)),s&8388612&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function FW(r){let e,t,n,s,i,o,a,l=r[4]?"Uncheck All":"Check All",c,u,f,h,d,p,g,w,v,_;s=new fr({props:{options:r[1],placeholder:"All Sections",className:"text-sm py-2.5"}}),s.$on("selected",r[14]),s.$on("deselected",r[15]),f=new ft({props:{disabled:r[0],buttonText:"Unassign",className:"text-sm"}}),f.$on("click",r[11]);const k=[DW,PW],A=[];function C(N,T){return N[2].length==0?0:1}return p=C(r),g=A[p]=k[p](r),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("div"),a=x("button"),c=Be(l),u=I(),de(f.$$.fragment),h=I(),d=x("div"),g.c(),b(n,"class","flex space-x-3 items-center w-full"),a.disabled=r[5],b(a,"class","p-2.5 rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),b(o,"class","flex space-x-2 text-sm"),b(t,"class","flex space-x-8 items-center h-full justify-between"),b(e,"class","fixed px-8 z-50 w-[calc(100vw-50rem)] min-w-[36rem] h-16 border-b border-r bg-white shrink-0"),b(d,"class","fixed w-[calc(100vw-50rem)] flex flex-col mt-16 h-[calc(100vh-17rem)] items-center bottom-0 pb-20 question overflow-y-auto bg-white")},m(N,T){oe(N,e,T),m(e,t),m(t,n),ue(s,n,null),m(t,i),m(t,o),m(o,a),m(a,c),m(o,u),ue(f,o,null),oe(N,h,T),oe(N,d,T),A[p].m(d,null),w=!0,v||(_=ht(a,"click",r[10]),v=!0)},p(N,[T]){const O={};T&2&&(O.options=N[1]),s.$set(O),(!w||T&16)&&l!==(l=N[4]?"Uncheck All":"Check All")&&rt(c,l),(!w||T&32)&&(a.disabled=N[5]);const D={};T&1&&(D.disabled=N[0]),f.$set(D);let Q=p;p=C(N),p===Q?A[p].p(N,T):(ct(),z(A[Q],1,1,()=>{A[Q]=null}),ut(),g=A[p],g?g.p(N,T):(g=A[p]=k[p](N),g.c()),R(g,1),g.m(d,null))},i(N){w||(R(s.$$.fragment,N),R(f.$$.fragment,N),R(g),w=!0)},o(N){z(s.$$.fragment,N),z(f.$$.fragment,N),z(g),w=!1},d(N){N&&ie(e),fe(s),fe(f),N&&ie(h),N&&ie(d),A[p].d(),v=!1,_()}}}function jW(r,e,t){let n,s,{assignedQuestions:i=[]}=e,{sections:o=[]}=e,{disabled:a=!1}=e,l=[],c=[],u,f=!1;br(()=>{t(2,c=i)});const h=Ks(),d=T=>{l.push(T),t(13,l)},p=T=>{t(13,l=l.filter(O=>O!=T))},g=()=>{f?t(13,l=l.filter(T=>!c.some(O=>T===O.questionId))):(c.flatMap(T=>[T.questionId]).forEach(T=>{l.some(O=>O===T)||l.push(T)}),t(13,l))},w=()=>{t(0,a=!0),h("mass-unassign",{selectedQuestions:l}),t(13,l=[])},v=T=>t(3,u=T.detail.value),_=T=>t(3,u=null),k=T=>h("edit",T),A=T=>h("unassign",T),C=T=>d(T.detail.value),N=T=>p(T.detail.value);return r.$$set=T=>{"assignedQuestions"in T&&t(12,i=T.assignedQuestions),"sections"in T&&t(1,o=T.sections),"disabled"in T&&t(0,a=T.disabled)},r.$$.update=()=>{r.$$.dirty&4104&&(u?t(2,c=i.filter(T=>T.sectionId===u)):t(2,c=i)),r.$$.dirty&8196&&t(0,a=l.length===0||c.length===0),r.$$.dirty&8192&&t(6,n=T=>l.some(O=>T===O)),r.$$.dirty&4&&t(5,s=c.length===0),r.$$.dirty&8196&&t(4,f=c.filter(T=>l.some(O=>T.questionId===O)).length===c.length&&c.length!==0)},[a,o,c,u,f,s,n,h,d,p,g,w,i,l,v,_,k,A,C,N]}class ek extends It{constructor(e){super(),Ot(this,e,jW,FW,xt,{assignedQuestions:12,sections:1,disabled:0})}}const BW=Object.freeze(Object.defineProperty({__proto__:null,default:ek},Symbol.toStringTag,{value:"Module"}));function zW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A;return v=new ft({props:{disabled:r[0],buttonText:"Upload"}}),v.$on("click",r[6]),{c(){e=x("div"),t=x("div"),t.innerHTML=`<h1 class="font-bold text-lg text-gray-800">Upload your Questions</h1> 
        <p class="text-gray-500 text-xs mx-auto mt-3">Click here to download the question template</p>`,n=I(),s=x("div"),s.innerHTML=`<h4 class="font-bold text-xs"><i class="fa-solid fa-triangle-exclamation text-yellow-400"></i> Import only a CSV or Excel Files</h4> 
        <small class="text-gray-500">Supported file type are ( .csv | .xlsx | .xls )</small>`,i=I(),o=x("div"),a=x("input"),l=I(),c=x("label"),u=x("img"),h=I(),d=x("span"),p=Be(r[2]),g=I(),w=x("div"),de(v.$$.fragment),b(t,"class",""),b(s,"class","bg-red-50 border border-orange-300 p-5 rounded-lg"),b(a,"type","file"),b(a,"accept",".csv, .xlsx"),a.required=!0,b(a,"id","importBtn"),b(a,"class","hidden"),la(u.src,f="/images/file-icon.png")||b(u,"src",f),b(u,"alt",""),b(u,"class","w-1/6 mx-auto"),b(d,"class","border-2 mx-auto p-2.5 cursor-pointer rounded-md text-xs bg-gray-300"),b(c,"for","importBtn"),b(c,"class","cursor-pointer flex flex-col items-center space-y-5"),b(o,"class","border-dashed border-2 grid gap-5 py-5 rounded-lg active"),b(w,"class","w-40 pt-8"),b(e,"class","flex flex-col px-2.5 space-y-4")},m(C,N){oe(C,e,N),m(e,t),m(e,n),m(e,s),m(e,i),m(e,o),m(o,a),m(o,l),m(o,c),m(c,u),m(c,h),m(c,d),m(d,p),m(e,g),m(e,w),ue(v,w,null),_=!0,k||(A=ht(a,"change",r[5]),k=!0)},p(C,[N]){(!_||N&4)&&rt(p,C[2]);const T={};N&1&&(T.disabled=C[0]),v.$set(T)},i(C){_||(R(v.$$.fragment,C),_=!0)},o(C){z(v.$$.fragment,C),_=!1},d(C){C&&ie(e),fe(v),k=!1,A()}}}function qW(r,e,t){let{uploadFile:n=void 0}=e,{disabled:s=!1}=e;const i=Ks();let o="Choose import file",a;function l(){a=this.files,t(1,a)}const c=()=>i("on-upload");return r.$$set=u=>{"uploadFile"in u&&t(4,n=u.uploadFile),"disabled"in u&&t(0,s=u.disabled)},r.$$.update=()=>{if(r.$$.dirty&2&&a){for(const u of a)t(2,o=`${u.name}: ${(u.size/(1e3*1e3)).toFixed(2)} MB`);t(4,n=a[0])}r.$$.dirty&2&&t(0,s=!a)},[s,a,o,i,n,l,c]}class z5 extends It{constructor(e){super(),Ot(this,e,qW,zW,xt,{uploadFile:4,disabled:0})}get uploadFile(){return this.$$.ctx[4]}set uploadFile(e){this.$$set({uploadFile:e}),en()}get disabled(){return this.$$.ctx[0]}set disabled(e){this.$$set({disabled:e}),en()}}const HW=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"}));function Dv(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function Rv(r,e,t){const n=r.slice();return n[14]=e[t],n}function Fv(r,e,t){const n=r.slice();return n[14]=e[t],n}function jv(r){let e,t=r[14]+"",n;return{c(){e=x("div"),n=Be(t),b(e,"class","flex flex-col justify-center break-words h-16")},m(s,i){oe(s,e,i),m(e,n)},p(s,i){i&2&&t!==(t=s[14]+"")&&rt(n,t)},d(s){s&&ie(e)}}}function Bv(r){let e,t=(r[14].toString().length>15?r[14].toString().substring(0,15)+"...":r[14].toString())+"",n;return{c(){e=x("div"),n=Be(t),b(e,"class","flex flex-col justify-center break-all h-16")},m(s,i){oe(s,e,i),m(e,n)},p(s,i){i&2&&t!==(t=(s[14].toString().length>15?s[14].toString().substring(0,15)+"...":s[14].toString())+"")&&rt(n,t)},d(s){s&&ie(e)}}}function zv(r){let e,t,n,s;function i(...a){return r[11](r[16],...a)}function o(...a){return r[12](r[16],...a)}return t=new fr({props:{placeholder:"Select Field",options:r[2]}}),t.$on("deselected",i),t.$on("selected",o),{c(){e=x("div"),de(t.$$.fragment),n=I(),b(e,"class","flex flex-col justify-center break-all h-16")},m(a,l){oe(a,e,l),ue(t,e,null),m(e,n),s=!0},p(a,l){r=a;const c={};l&4&&(c.options=r[2]),t.$set(c)},i(a){s||(R(t.$$.fragment,a),s=!0)},o(a){z(t.$$.fragment,a),s=!1},d(a){a&&ie(e),fe(t)}}}function VW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J;s=new Tt({props:{icon:"back_arrow"}}),c=new fr({props:{options:r[3],className:"text-sm py-2.5",placeholder:"Select Section",label:"Select Section",labelStyle:"font-semibold text-sm text-gray-800"}}),c.$on("selected",r[7]),c.$on("deselected",r[8]),f=new fr({props:{options:r[4],className:"text-sm py-2.5",placeholder:"Select Question Type",label:"Select Question Type",labelStyle:"font-semibold text-sm text-gray-800"}}),f.$on("selected",r[9]),f.$on("deselected",r[10]);let U=Object.keys(r[1]),ne=[];for(let B=0;B<U.length;B+=1)ne[B]=jv(Fv(r,U,B));let G=Object.values(r[1]),ae=[];for(let B=0;B<G.length;B+=1)ae[B]=Bv(Rv(r,G,B));let q=Object.values(r[1]),F=[];for(let B=0;B<q.length;B+=1)F[B]=zv(Dv(r,q,B));const te=B=>z(F[B],1,1,()=>{F[B]=null});return Q=new ft({props:{buttonText:"Import Questions",disabled:r[0],className:"max-w-min min-w-max"}}),Q.$on("click",r[13]),{c(){e=x("div"),t=x("div"),n=x("button"),de(s.$$.fragment),i=I(),o=x("h1"),o.textContent="Map Questions",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),h=I(),d=x("div"),p=x("div"),p.innerHTML=`<div>Headings</div> 
            <div>Values</div> 
            <div>Mapping</div>`,g=I(),w=x("div"),v=I(),_=x("div"),k=x("div");for(let B=0;B<ne.length;B+=1)ne[B].c();A=I(),C=x("div");for(let B=0;B<ae.length;B+=1)ae[B].c();N=I(),T=x("div");for(let B=0;B<F.length;B+=1)F[B].c();O=I(),D=x("div"),de(Q.$$.fragment),b(o,"class","font-bold text-lg text-gray-800"),b(t,"class","flex items-center space-x-3 mb-5 py-5"),b(l,"class","flex space-y-4 flex-col px-6 pt-6 pb-12 border-t border-e border-x rounded-t-lg"),b(p,"class","grid grid-cols-3 w-full text-sm shrink-0 gap-6 font-semibold pb-6"),b(w,"class","border-b -mx-6"),b(k,"class","flex flex-col mb-6"),b(C,"class","flex flex-col mb-6"),b(T,"class","flex flex-col"),b(_,"class","grid grid-cols-3 w-full text-sm shrink-0 gap-6 text-gray-700 mt-4"),b(d,"class","p-6 border rounded-b-lg"),b(D,"class","flex mt-10"),b(e,"class","flex flex-col px-3 pb-5")},m(B,L){oe(B,e,L),m(e,t),m(t,n),ue(s,n,null),m(t,i),m(t,o),m(e,a),m(e,l),ue(c,l,null),m(l,u),ue(f,l,null),m(e,h),m(e,d),m(d,p),m(d,g),m(d,w),m(d,v),m(d,_),m(_,k);for(let Y=0;Y<ne.length;Y+=1)ne[Y]&&ne[Y].m(k,null);m(_,A),m(_,C);for(let Y=0;Y<ae.length;Y+=1)ae[Y]&&ae[Y].m(C,null);m(_,N),m(_,T);for(let Y=0;Y<F.length;Y+=1)F[Y]&&F[Y].m(T,null);m(e,O),m(e,D),ue(Q,D,null),E=!0,j||(J=ht(n,"click",r[6]),j=!0)},p(B,[L]){const Y={};L&8&&(Y.options=B[3]),c.$set(Y);const re={};if(L&16&&(re.options=B[4]),f.$set(re),L&2){U=Object.keys(B[1]);let K;for(K=0;K<U.length;K+=1){const W=Fv(B,U,K);ne[K]?ne[K].p(W,L):(ne[K]=jv(W),ne[K].c(),ne[K].m(k,null))}for(;K<ne.length;K+=1)ne[K].d(1);ne.length=U.length}if(L&2){G=Object.values(B[1]);let K;for(K=0;K<G.length;K+=1){const W=Rv(B,G,K);ae[K]?ae[K].p(W,L):(ae[K]=Bv(W),ae[K].c(),ae[K].m(C,null))}for(;K<ae.length;K+=1)ae[K].d(1);ae.length=G.length}if(L&38){q=Object.values(B[1]);let K;for(K=0;K<q.length;K+=1){const W=Dv(B,q,K);F[K]?(F[K].p(W,L),R(F[K],1)):(F[K]=zv(W),F[K].c(),R(F[K],1),F[K].m(T,null))}for(ct(),K=q.length;K<F.length;K+=1)te(K);ut()}const X={};L&1&&(X.disabled=B[0]),Q.$set(X)},i(B){if(!E){R(s.$$.fragment,B),R(c.$$.fragment,B),R(f.$$.fragment,B);for(let L=0;L<q.length;L+=1)R(F[L]);R(Q.$$.fragment,B),E=!0}},o(B){z(s.$$.fragment,B),z(c.$$.fragment,B),z(f.$$.fragment,B),F=F.filter(Boolean);for(let L=0;L<F.length;L+=1)z(F[L]);z(Q.$$.fragment,B),E=!1},d(B){B&&ie(e),fe(s),fe(c),fe(f),gr(ne,B),gr(ae,B),gr(F,B),fe(Q),j=!1,J()}}}function UW(r,e,t){let{disabled:n=!1}=e,{headings:s}=e,{options:i}=e,{sections:o=[]}=e,{questionTypes:a=[]}=e;const l=Ks(),c=()=>l("back-button"),u=v=>l("section",{value:v.detail.value}),f=v=>l("de-section",{value:null}),h=v=>l("question-type",{value:v.detail.value}),d=v=>l("de-question-type",{value:null}),p=(v,_)=>l("deselected",{..._.detail,index:v,deselected:!0}),g=(v,_)=>l("selected",{..._.detail,index:v,selected:!0}),w=()=>l("import");return r.$$set=v=>{"disabled"in v&&t(0,n=v.disabled),"headings"in v&&t(1,s=v.headings),"options"in v&&t(2,i=v.options),"sections"in v&&t(3,o=v.sections),"questionTypes"in v&&t(4,a=v.questionTypes)},[n,s,i,o,a,l,c,u,f,h,d,p,g,w]}class q5 extends It{constructor(e){super(),Ot(this,e,UW,VW,xt,{disabled:0,headings:1,options:2,sections:3,questionTypes:4})}}const WW=Object.freeze(Object.defineProperty({__proto__:null,default:q5},Symbol.toStringTag,{value:"Module"}));function YW(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe,be,Ne,Ae,qe,Me,Ee,Le,ve;s=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),l=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),h=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),w=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),F=new ft({props:{buttonText:"Import Questions",className:"min-w-max text-sm bg-green-600 hover:bg-green-500 focus:bg-green-600 focus:ring-green-300 py-3"}}),F.$on("click",r[43]),B=new ft({props:{buttonText:"New Question",className:"min-w-max text-sm py-3"}}),B.$on("click",r[42]);var Xe=r[2];function nt(_e){return{props:{questions:_e[26],questionBank:_e[27],questionCurrentPageNumber:_e[13],questionLastPageNumber:_e[30],classes:_e[22],assessmentCategories:_e[20],sessions:_e[23],terms:_e[24],assessmentTypes:_e[18],subjects:_e[21],sections:_e[15]}}}return Xe&&(pe=u0(Xe,nt(r)),pe.$on("mass-assign",r[54]),pe.$on("load-more-question-bank",r[50]),pe.$on("load-more-questions",r[49]),pe.$on("edit",r[55]),pe.$on("assign",r[56])),Me=new ek({props:{assignedQuestions:r[0],sections:r[15]}}),Me.$on("mass-unassign",r[57]),Me.$on("edit",r[58]),Me.$on("unassign",r[59]),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Assessments",a=I(),de(l.$$.fragment),c=I(),u=x("span"),u.textContent=`${r[31]}`,f=I(),de(h.$$.fragment),d=I(),p=x("a"),p.textContent="Question Bank",g=I(),de(w.$$.fragment),v=I(),_=x("span"),_.textContent=`${r[32]} ( ${r[33]} )`,k=I(),A=x("div"),C=x("div"),N=x("div"),T=x("button"),O=Be("Questions"),Q=I(),E=x("button"),j=Be("Question Bank"),U=I(),ne=x("div"),G=x("h3"),G.textContent="Assigned Questions",ae=I(),q=x("div"),de(F.$$.fragment),te=I(),de(B.$$.fragment),L=I(),Y=x("div"),re=x("div"),X=x("div"),X.innerHTML=`<div class="container h-[30rem]"><div class="flex items-center text-center rounded-lg h-full dark:border-gray-700"><div class="flex flex-col w-full max-w-sm px-4 mx-auto"><div class="p-3 mx-auto text-blue-500 bg-blue-100 rounded-full dark:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> 
                                <h1 class="mt-3 text-lg text-gray-800 dark:text-white">No questions found</h1> 
                                <p class="mt-2 text-gray-500 dark:text-gray-400">There aren&#39;t any available questions.</p></div></div></div>`,K=I(),W=x("div"),pe&&de(pe.$$.fragment),be=I(),Ne=x("div"),Ae=x("div"),qe=x("div"),de(Me.$$.fragment),b(o,"class","mx-2 text-sm font-medium text-gray-700"),b(u,"class","mx-2 text-sm font-medium text-gray-700"),b(p,"href","#"),b(p,"class","text-sm font-medium text-gray-700"),b(_,"class","text-sm font-medium text-gray-700"),b(n,"class","flex space-x-3 items-center py-4 px-8"),b(t,"class","fixed ml-56 h-16 z-30 inset-x-0 flex items-center justify-between border-b bg-white"),b(T,"type","button"),b(T,"class",D=`text-xs font-semibold py-2.5 px-8 ${r[2]!=id?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition w-full`),b(E,"type","button"),b(E,"class",J=`text-xs font-semibold py-2.5 px-8 ${r[2]!=S1?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition w-full`),b(N,"class","flex items-center justify-center h-full"),b(C,"class","px-8 w-[36rem] shrink-0 border-r h-full"),b(G,"class","text-gray-800 text-sm font-bold min-w-max"),b(q,"class","flex items-center space-x-2"),b(ne,"class","px-8 py-4 min-w-[36rem] flex items-center justify-between w-full"),b(A,"class","fixed ml-56 mt-16 z-30 inset-x-0 flex border-b items-center h-16 bg-white"),b(X,"class","absolute inset-0 bg-white"),b(W,"class","absolute z-50 bg-white w-full"),b(re,"class","relative flex flex-col h-full"),b(Y,"class","fixed ml-56 w-[36rem] inset-x-0 bg-white border-r bottom-0 h-[calc(100vh-13rem)] overflow-y-auto"),b(qe,"class","pb-52 max-w-lg"),b(Ae,"class","relative flex flex-col h-full"),b(Ne,"class","fixed bottom-0 h-[calc(100vh-13rem)] ml-[35rem] w-full bg-white overflow-auto"),b(e,"class","relative mt-20")},m(_e,Re){oe(_e,e,Re),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(n,a),ue(l,n,null),m(n,c),m(n,u),m(n,f),ue(h,n,null),m(n,d),m(n,p),m(n,g),ue(w,n,null),m(n,v),m(n,_),m(e,k),m(e,A),m(A,C),m(C,N),m(N,T),m(T,O),m(N,Q),m(N,E),m(E,j),m(A,U),m(A,ne),m(ne,G),m(ne,ae),m(ne,q),ue(F,q,null),m(q,te),ue(B,q,null),m(e,L),m(e,Y),m(Y,re),m(re,X),m(re,K),m(re,W),pe&&ue(pe,W,null),m(e,be),m(e,Ne),m(Ne,Ae),m(Ae,qe),ue(Me,qe,null),Ee=!0,Le||(ve=[mn(En.call(null,p)),ht(T,"click",r[52]),ht(E,"click",r[53])],Le=!0)},p(_e,Re){(!Ee||Re[0]&4&&D!==(D=`text-xs font-semibold py-2.5 px-8 ${_e[2]!=id?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition w-full`))&&b(T,"class",D),(!Ee||Re[0]&4&&J!==(J=`text-xs font-semibold py-2.5 px-8 ${_e[2]!=S1?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition w-full`))&&b(E,"class",J);const je={};if(Re[0]&67108864&&(je.questions=_e[26]),Re[0]&134217728&&(je.questionBank=_e[27]),Re[0]&8192&&(je.questionCurrentPageNumber=_e[13]),Re[0]&4194304&&(je.classes=_e[22]),Re[0]&1048576&&(je.assessmentCategories=_e[20]),Re[0]&8388608&&(je.sessions=_e[23]),Re[0]&16777216&&(je.terms=_e[24]),Re[0]&262144&&(je.assessmentTypes=_e[18]),Re[0]&2097152&&(je.subjects=_e[21]),Re[0]&32768&&(je.sections=_e[15]),Re[0]&4&&Xe!==(Xe=_e[2])){if(pe){ct();const yt=pe;z(yt.$$.fragment,1,0,()=>{fe(yt,1)}),ut()}Xe?(pe=u0(Xe,nt(_e)),pe.$on("mass-assign",_e[54]),pe.$on("load-more-question-bank",_e[50]),pe.$on("load-more-questions",_e[49]),pe.$on("edit",_e[55]),pe.$on("assign",_e[56]),de(pe.$$.fragment),R(pe.$$.fragment,1),ue(pe,W,null)):pe=null}else Xe&&pe.$set(je);const Ye={};Re[0]&1&&(Ye.assignedQuestions=_e[0]),Re[0]&32768&&(Ye.sections=_e[15]),Me.$set(Ye)},i(_e){Ee||(R(s.$$.fragment,_e),R(l.$$.fragment,_e),R(h.$$.fragment,_e),R(w.$$.fragment,_e),R(F.$$.fragment,_e),R(B.$$.fragment,_e),pe&&R(pe.$$.fragment,_e),R(Me.$$.fragment,_e),Ee=!0)},o(_e){z(s.$$.fragment,_e),z(l.$$.fragment,_e),z(h.$$.fragment,_e),z(w.$$.fragment,_e),z(F.$$.fragment,_e),z(B.$$.fragment,_e),pe&&z(pe.$$.fragment,_e),z(Me.$$.fragment,_e),Ee=!1},d(_e){_e&&ie(e),fe(s),fe(l),fe(h),fe(w),fe(F),fe(B),pe&&fe(pe),fe(Me),Le=!1,Wr(ve)}}}function qv(r){let e,t;return e=new B5({props:{questionId:r[1].questionId,sections:r[16],topics:r[17],questionEdit:r[12],question:r[1].question,correctAnswer:r[1].correctAnswer,options:r[1].options,questionScore:r[1].questionScore,selectedSection:r[1].sectionId,selectedTopic:r[1].topicId,edit:r[8],disabled:r[9],source:r[1].source}}),e.$on("saving",r[60]),e.$on("error",r[61]),e.$on("cancel",r[36]),e.$on("updated",r[62]),e.$on("saved",r[63]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&2&&(i.questionId=n[1].questionId),s[0]&65536&&(i.sections=n[16]),s[0]&131072&&(i.topics=n[17]),s[0]&4096&&(i.questionEdit=n[12]),s[0]&2&&(i.question=n[1].question),s[0]&2&&(i.correctAnswer=n[1].correctAnswer),s[0]&2&&(i.options=n[1].options),s[0]&2&&(i.questionScore=n[1].questionScore),s[0]&2&&(i.selectedSection=n[1].sectionId),s[0]&2&&(i.selectedTopic=n[1].topicId),s[0]&256&&(i.edit=n[8]),s[0]&512&&(i.disabled=n[9]),s[0]&2&&(i.source=n[1].source),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Hv(r){let e,t,n={disabled:r[9]};return e=new z5({props:n}),r[64](e),e.$on("on-upload",r[46]),{c(){de(e.$$.fragment)},m(s,i){ue(e,s,i),t=!0},p(s,i){const o={};i[0]&512&&(o.disabled=s[9]),e.$set(o)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){z(e.$$.fragment,s),t=!1},d(s){r[64](null),fe(e,s)}}}function Vv(r){let e,t;return e=new q5({props:{sections:r[16],questionTypes:r[19],disabled:r[9],headings:r[28],options:r[29]()}}),e.$on("deselected",r[65]),e.$on("selected",r[66]),e.$on("import",r[47]),e.$on("back-button",r[67]),e.$on("question-type",r[68]),e.$on("de-question-type",r[69]),e.$on("section",r[70]),e.$on("de-section",r[71]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&65536&&(i.sections=n[16]),s[0]&524288&&(i.questionTypes=n[19]),s[0]&512&&(i.disabled=n[9]),s[0]&268435456&&(i.headings=n[28]),s[0]&536870912&&(i.options=n[29]()),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function QW(r){let e,t,n,s,i=(r[4]===r[34].openAddQuestionForm||r[4]===r[34].edit)&&qv(r),o=r[4]===r[34].uploadQuestions&&Hv(r),a=r[4]===r[34].importQuestions&&Vv(r);return{c(){i&&i.c(),e=I(),o&&o.c(),t=I(),a&&a.c(),n=cr()},m(l,c){i&&i.m(l,c),oe(l,e,c),o&&o.m(l,c),oe(l,t,c),a&&a.m(l,c),oe(l,n,c),s=!0},p(l,c){l[4]===l[34].openAddQuestionForm||l[4]===l[34].edit?i?(i.p(l,c),c[0]&16&&R(i,1)):(i=qv(l),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(ct(),z(i,1,1,()=>{i=null}),ut()),l[4]===l[34].uploadQuestions?o?(o.p(l,c),c[0]&16&&R(o,1)):(o=Hv(l),o.c(),R(o,1),o.m(t.parentNode,t)):o&&(ct(),z(o,1,1,()=>{o=null}),ut()),l[4]===l[34].importQuestions?a?(a.p(l,c),c[0]&16&&R(a,1)):(a=Vv(l),a.c(),R(a,1),a.m(n.parentNode,n)):a&&(ct(),z(a,1,1,()=>{a=null}),ut())},i(l){s||(R(i),R(o),R(a),s=!0)},o(l){z(i),z(o),z(a),s=!1},d(l){i&&i.d(l),l&&ie(e),o&&o.d(l),l&&ie(t),a&&a.d(l),l&&ie(n)}}}function GW(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new fr({props:{options:r[16],placeholder:"Select Section",className:"text-sm"}}),s.$on("selected",r[72]),s.$on("deselected",r[73]),c=new ft({props:{buttonText:"Assign",className:"text-sm"}}),c.$on("click",r[75]),{c(){e=x("div"),t=x("p"),t.textContent="Choose Section",n=I(),de(s.$$.fragment),i=I(),o=x("div"),a=x("button"),a.textContent="Cancel",l=I(),de(c.$$.fragment),b(t,"class","font-bold text-gray-800 text-base"),b(a,"class","bg-gray-400 text-white hover:bg-gray-500 rounded-lg px-4 py-2.5 transition text-sm"),b(o,"class","flex items-center space-x-3 w-full"),b(e,"class","flex flex-col space-y-8 justify-center items-center h-full")},m(d,p){oe(d,e,p),m(e,t),m(e,n),ue(s,e,null),m(e,i),m(e,o),m(o,a),m(o,l),ue(c,o,null),u=!0,f||(h=ht(a,"click",r[74]),f=!0)},p(d,p){const g={};p[0]&65536&&(g.options=d[16]),s.$set(g)},i(d){u||(R(s.$$.fragment,d),R(c.$$.fragment,d),u=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),u=!1},d(d){d&&ie(e),fe(s),fe(c),f=!1,h()}}}function JW(r){let e,t,n,s,i,o,a,l,c,u,f,h;return f=new ft({props:{buttonText:"Close",className:"text-sm"}}),f.$on("click",r[76]),{c(){e=x("div"),t=x("div"),t.innerHTML='<svg class="h-28 w-28" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="782.04441" height="701.88002" viewBox="0 0 782.04441 701.88002" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M609.48783,100.59015l-25.44631,6.56209L270.53735,187.9987,245.091,194.56079A48.17927,48.17927,0,0,0,210.508,253.17865L320.849,681.05606a48.17924,48.17924,0,0,0,58.61776,34.58317l.06572-.01695,364.26536-93.93675.06572-.01695a48.17923,48.17923,0,0,0,34.58309-58.6178l-110.341-427.87741A48.17928,48.17928,0,0,0,609.48783,100.59015Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M612.94784,114.00532l-30.13945,7.77236L278.68955,200.20385l-30.139,7.77223a34.30949,34.30949,0,0,0-24.6275,41.74308l110.341,427.87741a34.30946,34.30946,0,0,0,41.7431,24.62736l.06572-.01695,364.26536-93.93674.06619-.01707a34.30935,34.30935,0,0,0,24.627-41.7429l-110.341-427.87741A34.30938,34.30938,0,0,0,612.94784,114.00532Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M590.19,252.56327,405.917,300.08359a8.01411,8.01411,0,0,1-4.00241-15.52046l184.273-47.52033A8.01412,8.01412,0,0,1,590.19,252.56327Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M628.955,270.49906,412.671,326.27437a8.01411,8.01411,0,1,1-4.00241-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M620.45825,369.93676l-184.273,47.52032a8.01411,8.01411,0,1,1-4.00242-15.52046l184.273-47.52032a8.01411,8.01411,0,1,1,4.00241,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M659.22329,387.87255l-216.284,55.77531a8.01411,8.01411,0,1,1-4.00242-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M650.72653,487.31025l-184.273,47.52033a8.01412,8.01412,0,0,1-4.00242-15.52047l184.273-47.52032a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M689.49156,505.246l-216.284,55.77532a8.01412,8.01412,0,1,1-4.00241-15.52047l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M374.45884,348.80871l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76146L289.5963,304.81607a3.847,3.847,0,0,1,2.76145-4.68061l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76145l14.96947,58.04817A3.847,3.847,0,0,1,374.45884,348.80871Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M404.72712,466.1822l-65.21247,16.817a3.847,3.847,0,0,1-4.68062-2.76146l-14.96946-58.04816A3.847,3.847,0,0,1,322.626,417.509l65.21246-16.817a3.847,3.847,0,0,1,4.68062,2.76145l14.96946,58.04817A3.847,3.847,0,0,1,404.72712,466.1822Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M434.99539,583.55569l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76145l-14.96946-58.04817a3.847,3.847,0,0,1,2.76145-4.68062l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76146l14.96947,58.04816A3.847,3.847,0,0,1,434.99539,583.55569Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.63647,209.0517H487.31811a48.17928,48.17928,0,0,0-48.125,48.12512V699.05261a48.17924,48.17924,0,0,0,48.125,48.12507H863.63647a48.17924,48.17924,0,0,0,48.125-48.12507V257.17682A48.17928,48.17928,0,0,0,863.63647,209.0517Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.637,222.90589H487.31811a34.30948,34.30948,0,0,0-34.271,34.27093V699.05261a34.30947,34.30947,0,0,0,34.271,34.27088H863.637a34.30936,34.30936,0,0,0,34.27051-34.27088V257.17682A34.30937,34.30937,0,0,0,863.637,222.90589Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><circle cx="694.19401" cy="614.02963" r="87.85039" fill="#6c63ff"></circle><path d="M945.18722,701.63087H914.63056V671.07421a11.45875,11.45875,0,0,0-22.9175,0v30.55666H861.1564a11.45875,11.45875,0,0,0,0,22.9175h30.55666V755.105a11.45875,11.45875,0,1,0,22.9175,0V724.54837h30.55666a11.45875,11.45875,0,0,0,0-22.9175Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M807.00068,465.71551H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01412,8.01412,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,492.76314H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01411,8.01411,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.00068,586.929H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,613.97661H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01412,8.01412,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,505.04162H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V441.25158a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,505.04162Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,626.25509H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V562.46505a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,626.25509Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.21185,330.781H666.91017a8.01411,8.01411,0,0,1,0-16.02823H807.21185a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M840.27007,357.82862H666.91017a8.01411,8.01411,0,1,1,0-16.02822h173.3599a8.01411,8.01411,0,0,1,0,16.02822Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M635.85911,390.6071H506.51316a3.847,3.847,0,0,1-3.84277-3.84277V285.81706a3.847,3.847,0,0,1,3.84277-3.84277H635.85911a3.847,3.847,0,0,1,3.84277,3.84277V386.76433A3.847,3.847,0,0,1,635.85911,390.6071Z" transform="translate(-208.9778 -99.05999)" fill="#6c63ff"></path></svg>',n=I(),s=x("div"),i=x("p"),i.textContent="There were some Import Errors",o=I(),a=x("a"),l=Be("Click to Download"),c=I(),u=x("div"),de(f.$$.fragment),b(t,"class",""),b(i,"class","font-bold text-gray-800 text-lg"),b(a,"class","text-blue-500 text-sm"),b(a,"href",r[14]),b(s,"class","flex flex-col items-center space-y-6"),b(u,"class","pt-3"),b(e,"class","flex flex-col justify-center items-center h-full p-6 space-y-5")},m(d,p){oe(d,e,p),m(e,t),m(e,n),m(e,s),m(s,i),m(s,o),m(s,a),m(a,l),m(e,c),m(e,u),ue(f,u,null),h=!0},p(d,p){(!h||p[0]&16384)&&b(a,"href",d[14])},i(d){h||(R(f.$$.fragment,d),h=!0)},o(d){z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(f)}}}function KW(r){let e,t,n,s,i,o,a,l;return e=new Vn({props:{$$slots:{default:[YW]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[4],showSheet:r[7],$$slots:{default:[QW]},$$scope:{ctx:r}}}),n.$on("close-button",r[36]),i=new r1({props:{show:r[10],$$slots:{default:[GW]},$$scope:{ctx:r}}}),a=new r1({props:{show:r[11],$$slots:{default:[JW]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment),s=I(),de(i.$$.fragment),o=I(),de(a.$$.fragment)},m(c,u){ue(e,c,u),oe(c,t,u),ue(n,c,u),oe(c,s,u),ue(i,c,u),oe(c,o,u),ue(a,c,u),l=!0},p(c,u){const f={};u[0]&234135557|u[3]&131072&&(f.$$scope={dirty:u,ctx:c}),e.$set(f);const h={};u[0]&16&&(h.title=c[4]),u[0]&128&&(h.showSheet=c[7]),u[0]&806032250|u[3]&131072&&(h.$$scope={dirty:u,ctx:c}),n.$set(h);const d={};u[0]&1024&&(d.show=c[10]),u[0]&33621024|u[3]&131072&&(d.$$scope={dirty:u,ctx:c}),i.$set(d);const p={};u[0]&2048&&(p.show=c[11]),u[0]&18432|u[3]&131072&&(p.$$scope={dirty:u,ctx:c}),a.$set(p)},i(c){l||(R(e.$$.fragment,c),R(n.$$.fragment,c),R(i.$$.fragment,c),R(a.$$.fragment,c),l=!0)},o(c){z(e.$$.fragment,c),z(n.$$.fragment,c),z(i.$$.fragment,c),z(a.$$.fragment,c),l=!1},d(c){fe(e,c),c&&ie(t),fe(n,c),c&&ie(s),fe(i,c),c&&ie(o),fe(a,c)}}}function XW(r,e,t){let n,s;cn(r,kn,Ge=>t(85,s=Ge));let i=id,o,a,l,c,u=!1,f=!1,h=!1,d=!1,p=!1,g=!1,w=1,v,_=1,k,A="",C=[],N=[],T=[],O=[],D=[],Q=[],E=[],j=[],J=[],U=[],ne=[],G=[],ae=[],q=[],F=[],te=[],B=s.props.assessmentId,L=s.props.assessmentTitle,Y=s.props.subjectId,re=s.props.subjectTitle,X=s.props.questionBankId,K=s.props.questionBankClasses,W={question:"<p></p>",options:["<p></p>","<p></p>"],correctAnswer:"",questionScore:"1",sectionId:"",topicId:"",source:""},pe={openAddQuestionForm:"Add New Question",uploadQuestions:"Upload File",importQuestions:"Import Questions",edit:"Edit Question"},be={},Ne={},Ae=[{placeholder:"Question",value:"question",isSelected:!1},{placeholder:"Option",value:"options",isSelected:!1},{placeholder:"Score",value:"questionScore",isSelected:!1},{placeholder:"Correct Answer",value:"correctAnswer",isSelected:!1}],qe,Me=JSON.stringify(W),Ee=JSON.stringify(Ae);br(async()=>{Xe(),nt(),ve(),yt(),Mt(),_e(),Ye(),wt(),je(),vr(),Re(),Ds(),sessionStorage.getItem("importError")&&(t(14,A=sessionStorage.getItem("importError")),t(11,p=!0))});const Le=Ge=>t(2,i=Ge),ve=()=>{let Ge="/api/question-bank?perPage=20&page="+_+"&assessmentId="+B;ze.getWithToken(Ge,{onSuccess:Vt=>{t(27,te=[...F,...Tr(Vt.data,q)]),k=Vt.meta.last_page},onError:Vt=>{}})},Xe=()=>{ze.getWithToken(`/api/questions?questionBankId=${X}&assessmentId=${B}&perPage=20&assigned=1`,{onSuccess:Ge=>{t(0,O=Ge.data)},onError:Ge=>{}})},nt=()=>ze.getWithToken(`/api/questions?questionBankId=${X}&assessmentId=${B}&perPage=20`,{onSuccess:async Ge=>{t(26,ae=Ge.data)},onError:Ge=>{}}),_e=()=>{ze.getWithToken("/api/assessment-types",{onSuccess:Ge=>{t(18,D=Ge.data.flatMap(Vt=>[{placeholder:Vt.type,value:Vt.id}]))},onError:Ge=>{}})},Re=()=>{ze.getWithToken("/api/question-types",{onSuccess:Ge=>{t(19,Q=Ge.data.flatMap(Vt=>[{placeholder:Vt,value:Vt}]))},onError:Ge=>{}})},je=()=>{t(20,E=[{placeholder:"Standalone",value:1},{placeholder:"Termly",value:0}])},Ye=()=>{ze.getWithToken("/api/terms",{onSuccess:Ge=>{t(24,ne=Ge.data.flatMap(Vt=>[{placeholder:Vt.term,value:Vt.id}]))}})},yt=async()=>{await ze.getWithToken("/api/subjects",{onSuccess:Ge=>{t(21,j=Ge.data.flatMap(Vt=>[{placeholder:Vt.subjectName,value:Vt.subjectId}]))},onError:Ge=>{}})},wt=()=>{ze.getWithToken("/api/sessions",{onSuccess:Ge=>{t(23,U=Ge.data.flatMap(Vt=>[{placeholder:Vt.session,value:Vt.id}]))},onError:Ge=>{}})},Mt=()=>{ze.getWithToken("/api/classes",{onSuccess:Ge=>{t(22,J=Ge.data.flatMap(Vt=>[{placeholder:Vt.class_name,value:Vt.id}]))},onError:Ge=>{}})},at=()=>{bt(),t(7,u=!1)},bt=()=>{t(1,W=JSON.parse(Me)),t(51,Ae=JSON.parse(Ee)),Ne={}},Ht=Ge=>{t(4,a=Ge),t(7,u=!0)},Pt=Ge=>{ze.postWithToken("/api/question/assign/"+B,{questionId:Ge.questionId,subjectId:Y},{onSuccess:Vt=>{O.push(Ge),t(0,O),q=q.filter(Qn=>Qn.questionId===Ge.questionId)},onError:Vt=>{}})},Ft=Ge=>{t(25,G=Ge),ze.postWithToken("/api/question/mass-assign/"+X,{questions:G,sectionId:l},{onSuccess:Vt=>{t(25,G=[]),Xe(),nt(),t(10,d=!1),t(5,l=null)},onError:Vt=>{Vt.errors.sectionId&&t(10,d=!0)}})},st=Ge=>{ze.postWithToken("/api/question/unassign/"+B,{questionId:Ge.questionId,subjectId:Y},{onSuccess:Vt=>{t(0,O=O.filter(Qn=>Qn.questionId!=Ge.questionId)),Vt.data.assessmentId===B&&Yt(Ge)},onError:Vt=>{console.log(Vt)}})},Cr=Ge=>{ze.postWithToken("/api/question/mass-unassign/"+X,{questions:Ge},{onSuccess:Vt=>{Xe(),nt()},onError:Vt=>{}})},rr=Ge=>{let Vt=JSON.stringify(Ge);t(8,f=!0),t(12,g=!g),t(1,W=JSON.parse(Vt)),Ht(pe.edit)},fs=()=>{t(8,f=!1),Ht(pe.openAddQuestionForm)},kr=()=>{Ht(pe.uploadQuestions)},Er=Ge=>{nt(),Xe(),at(),t(9,h=!1)},Mn=Ge=>{nt(),at(),t(9,h=!1)},pr=()=>{if(h)return;t(9,h=!0);let Ge=new FormData;Ge.append("file",o.uploadFile),Ge.append("assessmentId",B),ze.postFormWithToken("/api/question/import",Ge,{onSuccess:Vt=>{qe=Vt.data.key,t(28,be=Vt.data.headings),t(4,a=pe.importQuestions),setTimeout(()=>t(9,h=!1),2e3)}})},rs=()=>{h||(t(9,h=!0),ze.postWithToken("/api/question/import",{mappings:Ne,assessmentId:B,key:qe,questionBankId:X,questionType:c,sectionId:l},{onSuccess:Ge=>{nt(),at(),setTimeout(()=>t(9,h=!1),2e3),Ge.data.errors&&(sessionStorage.setItem("importError",Ge.data.errors),t(11,p=!0),t(14,A=Ge.data.errors))},onError:Ge=>{nt(),setTimeout(()=>t(9,h=!1),2e3)}}))},Lr=Ge=>{var Qn;let Vt=Ae.filter(pi=>Ge.value===pi.value&&Ge.value!="options")[0];Vt&&(Vt.isSelected=!Vt.isSelected),Ge.selected&&Ge.value!="options"&&(Ne[Ge.value]=Object.keys(be)[Ge.index]),Ge.selected&&Ge.value=="options"&&(Ne[Ge.value]=Ne[Ge.value]?[...Ne[Ge.value],Object.keys(be)[Ge.index]]:[Object.keys(be)[Ge.index]]),Ge.deselected&&Ge.value!="options"&&delete Ne[Ge.value],Ge.deselected&&Ge.value=="options"&&(Ne[Ge.value]=(Qn=Ne[Ge.value])==null?void 0:Qn.filter(pi=>pi!=Object.keys(be)[Ge.index])),t(51,Ae)},bs=()=>{w!==v&&(t(13,w++,w),nt())},ns=()=>{_!==k&&(F=[...te],_++,ve())},Tr=(Ge,Vt)=>Ge.filter(Qn=>!Vt.some(pi=>pi.questionId===Qn.questionId)),Yt=Ge=>{ae.push(Ge),t(26,ae),q.push(Ge)},vr=()=>{ze.getWithToken(`/api/question-bank/sections/${X}`,{onSuccess:Ge=>{t(16,N=Ge.data.flatMap(Vt=>[{placeholder:Vt.sectionTitle,value:Vt.sectionId,questionType:Vt.questionType}])),t(15,C=[...N,{placeholder:"No Section",value:"No Section"}])}})},Ds=()=>{ze.getWithToken(`/api/get-question-topics?questionBankId=${X}`,{onSuccess:Ge=>{t(17,T=Ge.data.flatMap(Vt=>[{placeholder:Vt.topicTitle,value:Vt.topicId}]))}})},Yr=()=>Le(id),un=()=>Le(S1),$s=Ge=>Ft(Ge.detail.selectedQuestions),Wt=Ge=>rr(Ge.detail),vs=Ge=>Pt(Ge.detail),Un=Ge=>Cr(Ge.detail.selectedQuestions),fn=Ge=>rr(Ge.detail),nn=Ge=>st(Ge.detail),Vr=()=>t(9,h=!0),dn=()=>t(9,h=!1),ti=Ge=>Er(),Wn=Ge=>Mn();function bn(Ge){zr[Ge?"unshift":"push"](()=>{o=Ge,t(3,o)})}const Yn=Ge=>Lr(Ge.detail),ys=Ge=>Lr(Ge.detail),Qr=()=>t(4,a=pe.uploadQuestions),Sr=Ge=>t(6,c=Ge.detail.value),Rs=Ge=>t(6,c=null),hi=Ge=>t(5,l=Ge.detail.value),kt=Ge=>t(5,l=null),Jt=Ge=>t(5,l=Ge.detail.value),jr=()=>t(5,l=null),$i=()=>{t(25,G=[]),t(10,d=!1)},co=()=>Ft(G),Ho=()=>{sessionStorage.removeItem("importError"),t(11,p=!1),t(14,A="")};return r.$$.update=()=>{r.$$.dirty[1]&1048576&&t(29,n=()=>Ae==null?void 0:Ae.filter(Ge=>Ge.isSelected==!1)),r.$$.dirty[0]&1},[O,W,i,o,a,l,c,u,f,h,d,p,g,w,A,C,N,T,D,Q,E,j,J,U,ne,G,ae,te,be,n,v,L,re,K,pe,Le,at,Pt,Ft,st,Cr,rr,fs,kr,Er,Mn,pr,rs,Lr,bs,ns,Ae,Yr,un,$s,Wt,vs,Un,fn,nn,Vr,dn,ti,Wn,bn,Yn,ys,Qr,Sr,Rs,hi,kt,Jt,jr,$i,co,Ho]}let ZW=class extends It{constructor(e){super(),Ot(this,e,XW,KW,xt,{},null,[-1,-1,-1,-1])}};const eY=Object.freeze(Object.defineProperty({__proto__:null,default:ZW},Symbol.toStringTag,{value:"Module"}));function tY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k={label:"Enter Student Code"};return h=new Gr({props:k}),r[5](h),g=new ft({props:{disabled:r[1],buttonText:"Login"}}),g.$on("click",r[2]),{c(){e=I(),t=x("div"),n=x("div"),s=x("div"),s.innerHTML=`<div class="flex items-center h-full px-20 bg-gray-900 bg-opacity-40"><div class="flex flex-col items-center justify-center space-y-5"><img src="/images/soncal_logo.jpeg" height="150" width="150" class="rounded-full" alt="" srcset=""/> 
                    <h2 class="text-7xl font-black text-white mt-10">CBT PORTAL</h2></div></div>`,i=I(),o=x("div"),a=x("div"),l=x("div"),l.innerHTML='<p class="mt-3 text-gray-800 dark:text-gray-300 text-2xl font-semibold">Enter your details below</p>',c=I(),u=x("div"),f=x("div"),de(h.$$.fragment),d=I(),p=x("div"),de(g.$$.fragment),b(s,"class","hidden bg-cover lg:block lg:w-2/3"),X8(s,"background-image","url('/images/bg-image-cbt.avif')"),b(l,"class","text-left"),b(p,"class","mt-6"),b(u,"class","mt-8"),b(a,"class","flex-1"),b(o,"class","flex items-center w-full max-w-md px-6 mx-auto lg:w-2/6"),b(n,"class","flex justify-center h-screen"),b(t,"class","bg-white dark:bg-gray-900")},m(A,C){oe(A,e,C),oe(A,t,C),m(t,n),m(n,s),m(n,i),m(n,o),m(o,a),m(a,l),m(a,c),m(a,u),m(u,f),ue(h,f,null),m(u,d),m(u,p),ue(g,p,null),w=!0,v||(_=ht(document,"contextmenu",ad(r[4])),v=!0)},p(A,[C]){const N={};h.$set(N);const T={};C&2&&(T.disabled=A[1]),g.$set(T)},i(A){w||(R(h.$$.fragment,A),R(g.$$.fragment,A),w=!0)},o(A){z(h.$$.fragment,A),z(g.$$.fragment,A),w=!1},d(A){A&&ie(e),A&&ie(t),r[5](null),fe(h),fe(g),v=!1,_()}}}function rY(r,e,t){let n,s;cn(r,kn,f=>t(6,s=f));let i,o=s.props.assessmentId,a=!1;br(()=>{localStorage.removeItem("token")});const l=async()=>{t(3,a=!0),await ze.post("/cbt/"+o,{studentCode:i.value},{onSuccess:f=>(localStorage.setItem("token",f.data.token),window.location.replace(f.data.url)),onError:f=>{console.log(f)}}),t(3,a=!1)};function c(f){sc.call(this,r,f)}function u(f){zr[f?"unshift":"push"](()=>{i=f,t(0,i)})}return r.$$.update=()=>{r.$$.dirty&8&&t(1,n=a)},[i,n,l,a,c,u]}let nY=class extends It{constructor(e){super(),Ot(this,e,rY,tY,xt,{})}};const sY=Object.freeze(Object.defineProperty({__proto__:null,default:nY},Symbol.toStringTag,{value:"Module"}));function iY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E;l=new Tt({props:{icon:"dashboard"}}),d=new Tt({props:{icon:"book"}}),_=new Tt({props:{icon:"settings"}});const j=r[1].default,J=Oo(j,r,r[0],null);return{c(){e=x("div"),t=x("aside"),n=x("a"),n.innerHTML='<img class="w-auto h-7" src="https://merakiui.com/images/logo.svg" alt=""/>',s=I(),i=x("div"),o=x("nav"),a=x("a"),de(l.$$.fragment),c=I(),u=x("span"),u.textContent="Home",f=I(),h=x("a"),de(d.$$.fragment),p=I(),g=x("span"),g.textContent="Subject Topics",w=I(),v=x("a"),de(_.$$.fragment),k=I(),A=x("span"),A.textContent="Setting",C=I(),N=x("div"),T=x("div"),T.innerHTML=`<div class="text-gray-800 font-semibold text-2xl"></div> 
            <div class="flex items-center justify-between space-x-4"><a href="#" class="flex items-center gap-x-2"><img class="object-cover rounded-full h-7 w-7" src="https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;h=634&amp;q=80" alt="avatar"/> 
                    <span class="text-sm font-medium text-gray-700 dark:text-gray-200">John Doe</span></a> 
                
                <a href="#" class="text-gray-500 transition-colors duration-200 rotate-180 dark:text-gray-400 rtl:rotate-0 hover:text-blue-500 dark:hover:text-blue-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"></path></svg></a></div>`,O=I(),J&&J.c(),b(n,"href","#"),b(u,"class","mx-2 text-sm"),b(a,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(a,"href","/teacher/dashboard"),b(g,"class","mx-2 text-sm"),b(h,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(h,"href","/teacher/subject-topics"),b(A,"class","mx-2 text-sm"),b(v,"class","flex items-center px-3 py-2 text-gray-800 transition-colors duration-300 transform rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-gray-200 hover:text-gray-700"),b(v,"href","#"),b(o,"class","flex-1 -mx-3 space-y-3 mt-12"),b(i,"class","flex flex-col justify-between flex-1 mt-6"),b(t,"class","flex fixed inset-0 flex-col w-56 min-h-screen px-5 py-8 overflow-y-auto bg-white border-r rtl:border-r-0 rtl:border-l dark:bg-gray-900 dark:border-gray-700 z-50"),b(T,"class","fixed flex items-center w-screen h-20 border-b pl-[18.7rem] pr-8 bg-white inset-0 justify-between z-40"),b(N,"class","ml-56 min-h-screen w-full flex flex-col bg-gray-50"),b(e,"class","flex")},m(U,ne){oe(U,e,ne),m(e,t),m(t,n),m(t,s),m(t,i),m(i,o),m(o,a),ue(l,a,null),m(a,c),m(a,u),m(o,f),m(o,h),ue(d,h,null),m(h,p),m(h,g),m(o,w),m(o,v),ue(_,v,null),m(v,k),m(v,A),m(e,C),m(e,N),m(N,T),m(N,O),J&&J.m(N,null),D=!0,Q||(E=[mn(En.call(null,a)),mn(En.call(null,h))],Q=!0)},p(U,[ne]){J&&J.p&&(!D||ne&1)&&Eo(J,j,U,U[0],D?Io(j,U[0],ne,null):Po(U[0]),null)},i(U){D||(R(l.$$.fragment,U),R(d.$$.fragment,U),R(_.$$.fragment,U),R(J,U),D=!0)},o(U){z(l.$$.fragment,U),z(d.$$.fragment,U),z(_.$$.fragment,U),z(J,U),D=!1},d(U){U&&ie(e),fe(l),fe(d),fe(_),J&&J.d(U),Q=!1,Wr(E)}}}function oY(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class uc extends It{constructor(e){super(),Ot(this,e,oY,iY,xt,{})}}const aY=Object.freeze(Object.defineProperty({__proto__:null,default:uc},Symbol.toStringTag,{value:"Module"}));function Uv(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function Wv(r){let e,t;return e=new E0({props:{sectionTitle:r[9].sectionTitle,questionId:r[9].questionId,question:r[9].question,questionOptions:r[9].options,correctAnswer:r[9].correctAnswer,questionNumber:r[11]+1,questionScore:r[9].questionScore,showOptions:r[9].questionType!="theory",$$slots:{default:[lY]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&4&&(i.sectionTitle=n[9].sectionTitle),s&4&&(i.questionId=n[9].questionId),s&4&&(i.question=n[9].question),s&4&&(i.questionOptions=n[9].options),s&4&&(i.correctAnswer=n[9].correctAnswer),s&4&&(i.questionScore=n[9].questionScore),s&4&&(i.showOptions=n[9].questionType!="theory"),s&4100&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function lY(r){let e,t,n,s,i,o,a;function l(){return r[7](r[9])}return{c(){e=x("div"),t=x("button"),t.textContent="Edit",n=I(),s=x("button"),s.textContent="Delete",i=I(),b(t,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),b(s,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),b(e,"class","flex space-x-2 pt-5")},m(c,u){oe(c,e,u),m(e,t),m(e,n),m(e,s),oe(c,i,u),o||(a=ht(t,"click",l),o=!0)},p(c,u){r=c},d(c){c&&ie(e),c&&ie(i),o=!1,a()}}}function Yv(r){let e,t,n=r[9].isVisible&&Wv(r);return{c(){n&&n.c(),e=cr()},m(s,i){n&&n.m(s,i),oe(s,e,i),t=!0},p(s,i){s[9].isVisible?n?(n.p(s,i),i&4&&R(n,1)):(n=Wv(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(ct(),z(n,1,1,()=>{n=null}),ut())},i(s){t||(R(n),t=!0)},o(s){z(n),t=!1},d(s){n&&n.d(s),s&&ie(e)}}}function cY(r){let e,t,n,s,i,o,a,l;i=new fr({props:{options:r[0],placeholder:"All Sections",className:"text-sm"}}),i.$on("selected",r[5]),i.$on("deselected",r[6]);let c=r[2](),u=[];for(let h=0;h<c.length;h+=1)u[h]=Yv(Uv(r,c,h));const f=h=>z(u[h],1,1,()=>{u[h]=null});return{c(){e=x("div"),t=x("div"),n=x("p"),n.textContent="Sections:",s=I(),de(i.$$.fragment),o=I(),a=x("div");for(let h=0;h<u.length;h+=1)u[h].c();b(n,"class","font-bold text-sm text-gray-800"),b(t,"class","flex space-x-5 items-center h-full"),b(e,"class","fixed px-8 z-50 w-[calc(100vw-50rem)] min-w-[36rem] h-16 border-b bg-white shrink-0"),b(a,"class","fixed pb-16 shrink-0 question mt-16 overflow-y-auto h-[calc(100vh-17rem)] bottom-0 w-[calc(100vw-50rem)] bg-white svelte-1et1clp")},m(h,d){oe(h,e,d),m(e,t),m(t,n),m(t,s),ue(i,t,null),oe(h,o,d),oe(h,a,d);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);l=!0},p(h,[d]){const p={};if(d&1&&(p.options=h[0]),i.$set(p),d&12){c=h[2]();let g;for(g=0;g<c.length;g+=1){const w=Uv(h,c,g);u[g]?(u[g].p(w,d),R(u[g],1)):(u[g]=Yv(w),u[g].c(),R(u[g],1),u[g].m(a,null))}for(ct(),g=c.length;g<u.length;g+=1)f(g);ut()}},i(h){if(!l){R(i.$$.fragment,h);for(let d=0;d<c.length;d+=1)R(u[d]);l=!0}},o(h){z(i.$$.fragment,h),u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)z(u[d]);l=!1},d(h){h&&ie(e),fe(i),h&&ie(o),h&&ie(a),gr(u,h)}}}function uY(r,e,t){let n,{questions:s=[]}=e,{sections:i=[]}=e,o;const a=Ks(),l=f=>t(1,o=f.detail.value),c=f=>t(1,o=null),u=f=>a("edit",f);return r.$$set=f=>{"questions"in f&&t(4,s=f.questions),"sections"in f&&t(0,i=f.sections)},r.$$.update=()=>{r.$$.dirty&18&&t(2,n=()=>s.map(f=>o?(f.sectionId!=o?f.isVisible=!1:f.isVisible=!0,f):(f.isVisible=!0,f)))},[i,o,n,a,s,l,c,u]}class od extends It{constructor(e){super(),Ot(this,e,uY,cY,xt,{questions:4,sections:0})}}const fY=Object.freeze(Object.defineProperty({__proto__:null,default:od},Symbol.toStringTag,{value:"Module"}));function Qv(r,e,t){const n=r.slice();return n[5]=e[t],n[7]=t,n}function dY(r){let e,t,n,s,i,o,a;function l(){return r[3](r[5])}return{c(){e=x("div"),t=x("button"),t.textContent="Edit",n=I(),s=x("button"),s.textContent="Delete",i=I(),b(t,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),b(s,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),b(e,"class","flex space-x-2 pt-5")},m(c,u){oe(c,e,u),m(e,t),m(e,n),m(e,s),oe(c,i,u),o||(a=ht(t,"click",l),o=!0)},p(c,u){r=c},d(c){c&&ie(e),c&&ie(i),o=!1,a()}}}function Gv(r){let e,t;return e=new E0({props:{sectionTitle:r[5].sectionTitle,questionId:r[5].questionId,showOptions:r[5].questionType!="theory",question:r[5].question,questionOptions:r[5].options,correctAnswer:r[5].correctAnswer,questionNumber:r[7]+1,questionScore:r[5].questionScore,$$slots:{default:[dY]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.sectionTitle=n[5].sectionTitle),s&1&&(i.questionId=n[5].questionId),s&1&&(i.showOptions=n[5].questionType!="theory"),s&1&&(i.question=n[5].question),s&1&&(i.questionOptions=n[5].options),s&1&&(i.correctAnswer=n[5].correctAnswer),s&1&&(i.questionScore=n[5].questionScore),s&257&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function hY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w;s=new fr({props:{options:r[1],placeholder:"Class",className:"text-sm"}}),o=new fr({props:{options:r[1],placeholder:"Topic",className:"text-sm"}}),c=new fr({props:{options:r[1],placeholder:"Term",className:"text-sm"}}),f=new fr({props:{options:r[1],placeholder:"Session",className:"text-sm"}}),d=new fr({props:{options:r[1],placeholder:"Assessment Type",className:"text-sm"}});let v=r[0],_=[];for(let A=0;A<v.length;A+=1)_[A]=Gv(Qv(r,v,A));const k=A=>z(_[A],1,1,()=>{_[A]=null});return{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),de(o.$$.fragment),a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),h=I(),de(d.$$.fragment),p=I(),g=x("div");for(let A=0;A<_.length;A+=1)_[A].c();b(n,"class","grid grid-cols-2 gap-3"),b(l,"class","grid grid-cols-3 gap-3"),b(t,"class","w-full space-y-3"),b(e,"class","fixed flex items-center justify-center px-8 z-50 w-[calc(100vw-50rem)] h-32 border-b bg-white"),b(g,"class","fixed pb-52 question mt-16 overflow-y-auto h-[calc(100vh-21rem)] bottom-0 w-[calc(100vw-50rem)] bg-white svelte-1et1clp")},m(A,C){oe(A,e,C),m(e,t),m(t,n),ue(s,n,null),m(n,i),ue(o,n,null),m(t,a),m(t,l),ue(c,l,null),m(l,u),ue(f,l,null),m(l,h),ue(d,l,null),oe(A,p,C),oe(A,g,C);for(let N=0;N<_.length;N+=1)_[N]&&_[N].m(g,null);w=!0},p(A,[C]){const N={};C&2&&(N.options=A[1]),s.$set(N);const T={};C&2&&(T.options=A[1]),o.$set(T);const O={};C&2&&(O.options=A[1]),c.$set(O);const D={};C&2&&(D.options=A[1]),f.$set(D);const Q={};if(C&2&&(Q.options=A[1]),d.$set(Q),C&5){v=A[0];let E;for(E=0;E<v.length;E+=1){const j=Qv(A,v,E);_[E]?(_[E].p(j,C),R(_[E],1)):(_[E]=Gv(j),_[E].c(),R(_[E],1),_[E].m(g,null))}for(ct(),E=v.length;E<_.length;E+=1)k(E);ut()}},i(A){if(!w){R(s.$$.fragment,A),R(o.$$.fragment,A),R(c.$$.fragment,A),R(f.$$.fragment,A),R(d.$$.fragment,A);for(let C=0;C<v.length;C+=1)R(_[C]);w=!0}},o(A){z(s.$$.fragment,A),z(o.$$.fragment,A),z(c.$$.fragment,A),z(f.$$.fragment,A),z(d.$$.fragment,A),_=_.filter(Boolean);for(let C=0;C<_.length;C+=1)z(_[C]);w=!1},d(A){A&&ie(e),fe(s),fe(o),fe(c),fe(f),fe(d),A&&ie(p),A&&ie(g),gr(_,A)}}}function pY(r,e,t){let{questions:n=[]}=e,{sections:s=[]}=e;const i=Ks(),o=a=>i("edit",a);return r.$$set=a=>{"questions"in a&&t(0,n=a.questions),"sections"in a&&t(1,s=a.sections)},[n,s,i,o]}class A1 extends It{constructor(e){super(),Ot(this,e,pY,hY,xt,{questions:0,sections:1})}}const mY=Object.freeze(Object.defineProperty({__proto__:null,default:A1},Symbol.toStringTag,{value:"Module"}));function gY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,W,pe;s=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),l=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),J=new ft({props:{buttonText:"Import Questions",className:"min-w-max text-sm bg-green-600 hover:bg-green-500 focus:bg-green-600 focus:ring-green-300"}}),J.$on("click",r[25]),q=new B5({props:{topics:r[8],sections:r[7],disabled:r[4],edit:r[3],questionEdit:r[5],correctAnswer:r[0].correctAnswer,question:r[0].question,options:r[0].options,questionScore:r[0].questionScore,selectedSection:r[0].sectionId,selectedTopic:r[0].topicId,questionId:r[0].questionId,source:r[0].source}}),q.$on("saving",r[26]),q.$on("error",r[27]),q.$on("updated",r[16]),q.$on("saved",r[28]);var be=r[1];function Ne(Ae){return{props:{sections:Ae[7],questions:Ae[6]}}}return be&&(X=u0(be,Ne(r)),X.$on("edit",r[29])),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Assessments",a=I(),de(l.$$.fragment),c=I(),u=x("span"),u.textContent="Questions",f=I(),h=x("div"),d=x("div"),p=I(),g=x("div"),w=x("div"),v=x("div"),_=x("button"),k=Be("Questions"),C=I(),N=x("button"),T=Be("Question Bank"),D=I(),Q=x("div"),E=I(),j=x("div"),de(J.$$.fragment),U=I(),ne=x("div"),G=x("div"),ae=x("div"),de(q.$$.fragment),F=I(),te=x("div"),B=x("div"),L=x("div"),L.innerHTML=`<div class="container h-[30rem]"><div class="flex items-center text-center rounded-lg h-full dark:border-gray-700"><div class="flex flex-col w-full max-w-sm px-4 mx-auto"><div class="p-3 mx-auto text-blue-500 bg-blue-100 rounded-full dark:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> 
                                <h1 class="mt-3 text-lg text-gray-800 dark:text-white">No questions found</h1> 
                                <p class="mt-2 text-gray-500 dark:text-gray-400">There aren&#39;t any available questions.</p></div></div></div>`,Y=I(),re=x("div"),X&&de(X.$$.fragment),b(o,"class","mx-2 text-sm font-medium text-gray-700"),b(u,"class","text-sm font-medium text-gray-700"),b(n,"class","flex space-x-3 items-center py-4 px-8"),b(t,"class","fixed ml-56 h-16 z-30 inset-x-0 flex items-center justify-between border-b bg-white"),b(d,"class","px-8 w-[36rem] shrink-0 border-r h-full"),b(_,"type","button"),b(_,"class",A=`text-xs py-2.5 px-8 ${r[1]!=od?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition min-w-max w-full font-semibold`),b(N,"type","button"),b(N,"class",O=`text-xs py-2.5 px-8 ${r[1]!=A1?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition min-w-max  w-full font-semibold`),b(v,"class","flex items-center h-full"),b(w,"class","h-full w-full"),b(Q,"class","h-16 w-[2px] bg-gray-200"),b(j,"class","flex items-center space-x-2"),b(g,"class","px-8 py-4 w-[calc(100vw-50rem)] space-x-10 flex items-center justify-between"),b(h,"class","fixed ml-56 mt-16 z-30 inset-x-0 flex border-b items-center h-16 bg-white"),b(ae,"class","max-w-xl px-6 pt-8"),b(G,"class","relative flex flex-col h-full"),b(ne,"class","fixed ml-56 mt-[13rem] w-[36rem] inset-x-0 bottom-0 bg-white border-r h-[calc(100vh-13rem)] overflow-y-auto"),b(L,"class","absolute inset-0 bg-white"),b(re,"class","absolute z-50 bg-white w-full"),b(B,"class","relative flex flex-col h-full"),b(te,"class","ml-[50rem] fixed mt-52 min-w-[32rem] shrink-0 inset-0 bg-white min-h-screen overflow-auto"),b(e,"class","relative mt-20 overflow-x-auto")},m(Ae,qe){oe(Ae,e,qe),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(n,a),ue(l,n,null),m(n,c),m(n,u),m(e,f),m(e,h),m(h,d),m(h,p),m(h,g),m(g,w),m(w,v),m(v,_),m(_,k),m(v,C),m(v,N),m(N,T),m(g,D),m(g,Q),m(g,E),m(g,j),ue(J,j,null),m(e,U),m(e,ne),m(ne,G),m(G,ae),ue(q,ae,null),m(e,F),m(e,te),m(te,B),m(B,L),m(B,Y),m(B,re),X&&ue(X,re,null),K=!0,W||(pe=[ht(_,"click",r[23]),ht(N,"click",r[24])],W=!0)},p(Ae,qe){(!K||qe[0]&2&&A!==(A=`text-xs py-2.5 px-8 ${Ae[1]!=od?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition min-w-max w-full font-semibold`))&&b(_,"class",A),(!K||qe[0]&2&&O!==(O=`text-xs py-2.5 px-8 ${Ae[1]!=A1?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition min-w-max  w-full font-semibold`))&&b(N,"class",O);const Me={};qe[0]&256&&(Me.topics=Ae[8]),qe[0]&128&&(Me.sections=Ae[7]),qe[0]&16&&(Me.disabled=Ae[4]),qe[0]&8&&(Me.edit=Ae[3]),qe[0]&32&&(Me.questionEdit=Ae[5]),qe[0]&1&&(Me.correctAnswer=Ae[0].correctAnswer),qe[0]&1&&(Me.question=Ae[0].question),qe[0]&1&&(Me.options=Ae[0].options),qe[0]&1&&(Me.questionScore=Ae[0].questionScore),qe[0]&1&&(Me.selectedSection=Ae[0].sectionId),qe[0]&1&&(Me.selectedTopic=Ae[0].topicId),qe[0]&1&&(Me.questionId=Ae[0].questionId),qe[0]&1&&(Me.source=Ae[0].source),q.$set(Me);const Ee={};if(qe[0]&128&&(Ee.sections=Ae[7]),qe[0]&64&&(Ee.questions=Ae[6]),qe[0]&2&&be!==(be=Ae[1])){if(X){ct();const Le=X;z(Le.$$.fragment,1,0,()=>{fe(Le,1)}),ut()}be?(X=u0(be,Ne(Ae)),X.$on("edit",Ae[29]),de(X.$$.fragment),R(X.$$.fragment,1),ue(X,re,null)):X=null}else be&&X.$set(Ee)},i(Ae){K||(R(s.$$.fragment,Ae),R(l.$$.fragment,Ae),R(J.$$.fragment,Ae),R(q.$$.fragment,Ae),X&&R(X.$$.fragment,Ae),K=!0)},o(Ae){z(s.$$.fragment,Ae),z(l.$$.fragment,Ae),z(J.$$.fragment,Ae),z(q.$$.fragment,Ae),X&&z(X.$$.fragment,Ae),K=!1},d(Ae){Ae&&ie(e),fe(s),fe(l),fe(J),fe(q),X&&fe(X),W=!1,Wr(pe)}}}function Jv(r){let e,t,n={};return e=new z5({props:n}),r[30](e),e.$on("on-upload",r[17]),{c(){de(e.$$.fragment)},m(s,i){ue(e,s,i),t=!0},p(s,i){const o={};e.$set(o)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){z(e.$$.fragment,s),t=!1},d(s){r[30](null),fe(e,s)}}}function Kv(r){let e,t;return e=new q5({props:{headings:r[11],options:r[12]()}}),e.$on("deselected",r[31]),e.$on("selected",r[32]),e.$on("import",r[18]),e.$on("back-button",r[33]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&2048&&(i.headings=n[11]),s[0]&4096&&(i.options=n[12]()),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function bY(r){let e,t,n,s=r[10]===r[13].uploadQuestions&&Jv(r),i=r[10]===r[13].importQuestions&&Kv(r);return{c(){s&&s.c(),e=I(),i&&i.c(),t=cr()},m(o,a){s&&s.m(o,a),oe(o,e,a),i&&i.m(o,a),oe(o,t,a),n=!0},p(o,a){o[10]===o[13].uploadQuestions?s?(s.p(o,a),a[0]&1024&&R(s,1)):(s=Jv(o),s.c(),R(s,1),s.m(e.parentNode,e)):s&&(ct(),z(s,1,1,()=>{s=null}),ut()),o[10]===o[13].importQuestions?i?(i.p(o,a),a[0]&1024&&R(i,1)):(i=Kv(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(ct(),z(i,1,1,()=>{i=null}),ut())},i(o){n||(R(s),R(i),n=!0)},o(o){z(s),z(i),n=!1},d(o){s&&s.d(o),o&&ie(e),i&&i.d(o),o&&ie(t)}}}function vY(r){let e,t,n,s;return e=new uc({props:{$$slots:{default:[gY]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[10],showSheet:r[9],$$slots:{default:[bY]},$$scope:{ctx:r}}}),n.$on("close-button",r[19]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&507|o[1]&65536&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&1024&&(l.title=i[10]),o[0]&512&&(l.showSheet=i[9]),o[0]&7172|o[1]&65536&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function yY(r,e,t){let n,s;cn(r,kn,Ee=>t(36,s=Ee));let i={question:"<p></p>",options:["<p></p>","<p></p>"],correctAnswer:"",questionScore:"1",sectionId:"",topicId:"",source:""},o=od,a,l=!1,c=!1,u=!1,f=JSON.stringify(i),h=s.props.classCode,d=s.props.assessmentId,p=s.props.subjectId,g=s.props.questionBankId,w=[],v=[],_=[],k=!1,A,C={uploadQuestions:"Upload File",importQuestions:"Import Questions"},N={},T=[{placeholder:"Question",value:"question",isSelected:!1},{placeholder:"Option",value:"options",isSelected:!1},{placeholder:"Score",value:"questionScore",isSelected:!1},{placeholder:"Correct Answer",value:"correctAnswer",isSelected:!1}],O,D=JSON.stringify(T),Q={};br(()=>{J(),E(),j()});const E=()=>{ze.getWithToken(`/api/question-bank/sections/${g}`,{onSuccess:Ee=>{t(7,v=Ee.data.flatMap(Le=>[{placeholder:Le.sectionTitle,value:Le.sectionId,questionType:Le.questionType}]))}})},j=()=>{ze.getWithToken(`/api/get-question-topics?questionBankId=${g}`,{onSuccess:Ee=>{t(8,_=Ee.data.flatMap(Le=>[{placeholder:Le.topicTitle,value:Le.topicId}]))}})},J=()=>{ze.getWithToken(`/api/get-questions/${g}`,{onSuccess:Ee=>{t(6,w=Ee.data)}})},U=Ee=>{t(4,c=!1),t(5,u=!u),t(0,i=JSON.parse(f)),t(0,i.sectionId=Ee.sectionId,i),t(0,i.topicId=Ee.topicId,i),J()},ne=Ee=>{let Le=JSON.stringify(Ee);t(3,l=!0),t(5,u=!u),t(0,i=JSON.parse(Le))},G=()=>{t(4,c=!1),t(3,l=!1),t(5,u=!u),t(0,i=JSON.parse(f)),J()},ae=()=>{let Ee=new FormData;Ee.append("file",a.uploadFile),Ee.append("assessmentId",d),ze.postFormWithToken("/api/question/import",Ee,{onSuccess:Le=>{O=Le.data.key,t(11,N=Le.data.headings),t(10,A=C.importQuestions)}})},q=()=>{ze.postWithToken("/api/question/import",{mappings:Q,assessmentId:d,key:O,classId:h,subjectId:p},{onSuccess:Ee=>{J(),F()}})},F=()=>{t(9,k=!1),B()},te=Ee=>{B(),t(10,A=Ee),t(9,k=!0)},B=()=>{t(0,i=JSON.parse(f)),t(22,T=JSON.parse(D)),Q={}},L=Ee=>{var ve;let Le=T.filter(Xe=>Ee.value===Xe.value&&Ee.value!="options")[0];Le&&(Le.isSelected=!Le.isSelected),Ee.selected&&Ee.value!="options"&&(Q[Ee.value]=Object.keys(N)[Ee.index]),Ee.selected&&Ee.value=="options"&&(Q[Ee.value]=Q[Ee.value]?[...Q[Ee.value],Object.keys(N)[Ee.index]]:[Object.keys(N)[Ee.index]]),Ee.deselected&&Ee.value!="options"&&delete Q[Ee.value],Ee.deselected&&Ee.value=="options"&&(Q[Ee.value]=(ve=Q[Ee.value])==null?void 0:ve.filter(Xe=>Xe!=Object.keys(N)[Ee.index])),t(22,T)},Y=()=>t(1,o=od),re=()=>t(1,o=A1),X=()=>te(C.uploadQuestions),K=()=>t(4,c=!0),W=()=>t(4,c=!1),pe=Ee=>U(Ee.detail.question),be=Ee=>ne(Ee.detail);function Ne(Ee){zr[Ee?"unshift":"push"](()=>{a=Ee,t(2,a)})}const Ae=Ee=>L(Ee.detail),qe=Ee=>L(Ee.detail),Me=()=>t(10,A=C.uploadQuestions);return r.$$.update=()=>{r.$$.dirty[0]&4194304&&t(12,n=()=>T==null?void 0:T.filter(Ee=>Ee.isSelected==!1))},[i,o,a,l,c,u,w,v,_,k,A,N,n,C,U,ne,G,ae,q,F,te,L,T,Y,re,X,K,W,pe,be,Ne,Ae,qe,Me]}class wY extends It{constructor(e){super(),Ot(this,e,yY,vY,xt,{},null,[-1,-1])}}const _Y=Object.freeze(Object.defineProperty({__proto__:null,default:wY},Symbol.toStringTag,{value:"Module"}));function Xv(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function Zv(r,e,t){const n=r.slice();return n[17]=e[t],n}function e8(r){let e,t=r[17]+"",n;return{c(){e=x("span"),n=Be(t)},m(s,i){oe(s,e,i),m(e,n)},p(s,i){i&4&&t!==(t=s[17]+"")&&rt(n,t)},d(s){s&&ie(e)}}}function xY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g;return{c(){e=x("a"),t=Be("View Questions"),s=I(),i=x("a"),o=Be("Edit Sections"),l=I(),c=x("a"),u=Be("Edit Classes"),h=I(),d=x("button"),d.textContent="Delete",b(e,"href",n=`/teacher/questions/${r[14].questionBankId}`),b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(i,"href",a=`/teacher/create-question-bank/sections/${r[14].questionBankId}`),b(i,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(c,"href",f=`/teacher/create-question-bank/classes/${r[14].questionBankId}`),b(c,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(d,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(w,v){oe(w,e,v),m(e,t),oe(w,s,v),oe(w,i,v),m(i,o),oe(w,l,v),oe(w,c,v),m(c,u),oe(w,h,v),oe(w,d,v),p||(g=[mn(En.call(null,e)),mn(En.call(null,i)),mn(En.call(null,c))],p=!0)},p(w,v){v&4&&n!==(n=`/teacher/questions/${w[14].questionBankId}`)&&b(e,"href",n),v&4&&a!==(a=`/teacher/create-question-bank/sections/${w[14].questionBankId}`)&&b(i,"href",a),v&4&&f!==(f=`/teacher/create-question-bank/classes/${w[14].questionBankId}`)&&b(c,"href",f)},d(w){w&&ie(e),w&&ie(s),w&&ie(i),w&&ie(l),w&&ie(c),w&&ie(h),w&&ie(d),p=!1,Wr(g)}}}function t8(r){let e,t,n=r[16]+1+"",s,i,o,a=r[14].subject+"",l,c,u,f=r[14].totalQuestions+"",h,d,p,g,w=r[14].totalSections+"",v,_,k,A,C,N,T,O,D,Q,E,j=r[14].classes,J=[];for(let U=0;U<j.length;U+=1)J[U]=e8(Zv(r,j,U));return D=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[xY]},$$scope:{ctx:r}}}),{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=Be(" Questions"),p=I(),g=x("td"),v=Be(w),_=Be(" Sections"),k=I(),A=x("td"),C=x("div");for(let U=0;U<J.length;U+=1)J[U].c();N=I(),T=x("td"),O=x("div"),de(D.$$.fragment),Q=I(),b(t,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(o,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(u,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(g,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(C,"class","flex flex-col h-full"),b(A,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(O,"class","w-40"),b(T,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap")},m(U,ne){oe(U,e,ne),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(u,d),m(e,p),m(e,g),m(g,v),m(g,_),m(e,k),m(e,A),m(A,C);for(let G=0;G<J.length;G+=1)J[G]&&J[G].m(C,null);m(e,N),m(e,T),m(T,O),ue(D,O,null),m(e,Q),E=!0},p(U,ne){if((!E||ne&4)&&a!==(a=U[14].subject+"")&&rt(l,a),(!E||ne&4)&&f!==(f=U[14].totalQuestions+"")&&rt(h,f),(!E||ne&4)&&w!==(w=U[14].totalSections+"")&&rt(v,w),ne&4){j=U[14].classes;let ae;for(ae=0;ae<j.length;ae+=1){const q=Zv(U,j,ae);J[ae]?J[ae].p(q,ne):(J[ae]=e8(q),J[ae].c(),J[ae].m(C,null))}for(;ae<J.length;ae+=1)J[ae].d(1);J.length=j.length}const G={};ne&1048580&&(G.$$scope={dirty:ne,ctx:U}),D.$set(G)},i(U){E||(R(D.$$.fragment,U),E=!0)},o(U){z(D.$$.fragment,U),E=!1},d(U){U&&ie(e),gr(J,U),fe(D)}}}function kY(r){let e,t,n=r[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=t8(Xv(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a&4){n=o[2];let l;for(l=0;l<n.length;l+=1){const c=Xv(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=t8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function SY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C;return o=new ft({props:{buttonText:"New Question Bank",className:"max-w-min min-w-max bg-green-600 focus:outline-none hover:bg-green-700 focus:bg-green-600 focus:ring-green-200"}}),o.$on("click",r[6]),h=new fr({props:{options:r[0],optionsStyling:"text-sm text-gray-800",placeholder:"Select Subject",className:"w-full text-sm text-gray-400 py-2.5"}}),h.$on("selected",r[8]),h.$on("deselected",r[9]),p=new fr({props:{options:r[1],optionsStyling:"text-sm text-gray-800",placeholder:"Select Assessment",className:"w-full text-sm text-gray-400 py-2.5"}}),p.$on("selected",r[10]),p.$on("deselected",r[11]),w=new ft({props:{buttonText:"Search",className:"w-40 text-sm py-3"}}),w.$on("click",r[7]),_=new ft({props:{buttonText:"Reset",className:"w-40 text-sm py-3"}}),_.$on("click",r[12]),A=new zi({props:{headings:r[5],$$slots:{default:[kY]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h3"),s.textContent="Question Bank",i=I(),de(o.$$.fragment),a=I(),l=x("div"),c=x("span"),c.textContent="Filters",u=I(),f=x("div"),de(h.$$.fragment),d=I(),de(p.$$.fragment),g=I(),de(w.$$.fragment),v=I(),de(_.$$.fragment),k=I(),de(A.$$.fragment),b(s,"class","text-lg font-semibold"),b(n,"class","flex justify-between"),b(c,"class","text-base text-gray-700 font-semibold"),b(f,"class","flex items-center mt-3 space-x-3 w-full"),b(l,"class","flex flex-col border border-gray-300 rounded-lg w-full h-full bg-white mt-8 pt-4 pb-8 px-4"),b(t,"class","my-28"),b(e,"class","container")},m(N,T){oe(N,e,T),m(e,t),m(t,n),m(n,s),m(n,i),ue(o,n,null),m(t,a),m(t,l),m(l,c),m(l,u),m(l,f),ue(h,f,null),m(f,d),ue(p,f,null),m(f,g),ue(w,f,null),m(f,v),ue(_,f,null),m(t,k),ue(A,t,null),C=!0},p(N,T){const O={};T&1&&(O.options=N[0]),h.$set(O);const D={};T&2&&(D.options=N[1]),p.$set(D);const Q={};T&1048580&&(Q.$$scope={dirty:T,ctx:N}),A.$set(Q)},i(N){C||(R(o.$$.fragment,N),R(h.$$.fragment,N),R(p.$$.fragment,N),R(w.$$.fragment,N),R(_.$$.fragment,N),R(A.$$.fragment,N),C=!0)},o(N){z(o.$$.fragment,N),z(h.$$.fragment,N),z(p.$$.fragment,N),z(w.$$.fragment,N),z(_.$$.fragment,N),z(A.$$.fragment,N),C=!1},d(N){N&&ie(e),fe(o),fe(h),fe(p),fe(w),fe(_),fe(A)}}}function AY(r){let e,t;return e=new uc({props:{$$slots:{default:[SY]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&1048607&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function TY(r,e,t){let n=["S|N","Subject","Total Questions","Total Sections","Classes","Action"],s=[],i=[],o=[],a,l;br(()=>{ze.getWithToken("/api/get-subjects/",{onSuccess:w=>{t(0,s=w.data.flatMap(v=>[{placeholder:v.subjectName,value:v.subjectId}]))}}),ze.getWithToken("/api/published-assessments",{onSuccess:w=>{t(1,i=w.data.flatMap(v=>[{placeholder:v.title,value:v.assessmentId}]))}})});const c=()=>{ze.navigateTo("/teacher/create-question-bank")},u=()=>{ze.getWithToken(`/api/question-banks?assessmentId=${a}&subjectId=${l}`,{onSuccess:w=>{t(2,o=w.data)}})},f=w=>t(4,l=w.detail.value),h=w=>t(4,l=null),d=w=>t(3,a=w.detail.value),p=w=>t(3,a=null);function g(w){sc.call(this,r,w)}return[s,i,o,a,l,n,c,u,f,h,d,p,g]}class NY extends It{constructor(e){super(),Ot(this,e,TY,AY,xt,{})}}const MY=Object.freeze(Object.defineProperty({__proto__:null,default:NY},Symbol.toStringTag,{value:"Module"}));function r8(r,e,t){const n=r.slice();return n[10]=e[t],n}function n8(r){let e,t,n,s,i,o,a,l,c=r[10].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[2](r[10].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[7](r[10])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[2](r[10].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[2](r[10].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[2](r[10].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k&5&&(A.className=`${r[2](r[10].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k&5&&s!==(s=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[2](r[10].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k&1)&&c!==(c=r[10].class_name+"")&&rt(u,c),(!p||k&5&&f!==(f=`${r[2](r[10].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k&5&&h!==(h=`flex p-3 border-2 ${r[2](r[10].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function CY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne;n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),N=new Tt({props:{icon:"check",className:`${r[1]?"stroke-green-700":"stroke-gray-300"}`}});let G=r[0],ae=[];for(let F=0;F<G.length;F+=1)ae[F]=n8(r8(r,G,F));const q=F=>z(ae[F],1,1,()=>{ae[F]=null});return j=new ft({props:{buttonText:"Continue"}}),j.$on("click",r[5]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Questions",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),p.innerHTML=`<div><div class="text-lg font-semibold min-w-max text-gray-700">Add Classes</div> 
                        <div class="text-gray-400 text-sm">Please select relevant details below</div></div>`,g=I(),w=x("div"),v=x("div"),_=x("span"),_.textContent="Select classes question bank belong to",k=I(),A=x("div"),C=x("button"),de(N.$$.fragment),O=I();for(let F=0;F<ae.length;F+=1)ae[F].c();D=I(),Q=x("div"),E=x("div"),de(j.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(_,"class","flex-shrink-0 w-[18rem] text-gray-700"),b(C,"class",T=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${r[1]?"border-green-700":"border-gray-300"} rounded-lg`),b(A,"class","w-full space-y-2"),b(v,"class","flex w-full text-sm max-w-4xl"),b(w,"class","mt-12 space-y-6 w-full"),b(E,"class","w-40"),b(Q,"class","flex w-full mt-10 justify-end"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(F,te){oe(F,e,te),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(F,u,te),oe(F,f,te),m(f,h),m(h,d),m(d,p),m(d,g),m(d,w),m(w,v),m(v,_),m(v,k),m(v,A),m(A,C),ue(N,C,null),m(A,O);for(let B=0;B<ae.length;B+=1)ae[B]&&ae[B].m(A,null);m(d,D),m(d,Q),m(Q,E),ue(j,E,null),J=!0,U||(ne=ht(C,"click",r[4]),U=!0)},p(F,te){const B={};if(te&2&&(B.className=`${F[1]?"stroke-green-700":"stroke-gray-300"}`),N.$set(B),(!J||te&2&&T!==(T=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${F[1]?"border-green-700":"border-gray-300"} rounded-lg`))&&b(C,"class",T),te&13){G=F[0];let L;for(L=0;L<G.length;L+=1){const Y=r8(F,G,L);ae[L]?(ae[L].p(Y,te),R(ae[L],1)):(ae[L]=n8(Y),ae[L].c(),R(ae[L],1),ae[L].m(A,null))}for(ct(),L=G.length;L<ae.length;L+=1)q(L);ut()}},i(F){if(!J){R(n.$$.fragment,F),R(a.$$.fragment,F),R(N.$$.fragment,F);for(let te=0;te<G.length;te+=1)R(ae[te]);R(j.$$.fragment,F),J=!0}},o(F){z(n.$$.fragment,F),z(a.$$.fragment,F),z(N.$$.fragment,F),ae=ae.filter(Boolean);for(let te=0;te<ae.length;te+=1)z(ae[te]);z(j.$$.fragment,F),J=!1},d(F){F&&ie(e),fe(n),fe(a),F&&ie(u),F&&ie(f),fe(N),gr(ae,F),fe(j),U=!1,ne()}}}function LY(r){let e,t;return e=new uc({props:{$$slots:{default:[CY]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&8199&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function $Y(r,e,t){let n,s;cn(r,kn,d=>t(8,s=d));let i=[],o=[],a=s.props.questionBankId,l=!1;br(()=>{ze.getWithToken("/api/question-bank/assessment-classes/"+a,{onSuccess:d=>{t(0,i=d.data)}}),ze.getWithToken(`/api/question-bank/classes/${a}`,{onSuccess:d=>{t(6,o=d.data)}})});const c=d=>{if(n(d.class_code)){t(6,o=o.filter(p=>p.class_code!=d.class_code));return}o.push(d),t(6,o)},u=()=>{l?(t(1,l=!1),t(6,o=[])):(t(1,l=!0),t(6,o=i))},f=()=>{let d=o.flatMap(p=>[p.class_code]);ze.postWithToken("/api/question-bank/create/classes",{questionBankId:a,classes:d},{onSuccess:p=>{ze.navigateTo(`/teacher/create-question-bank/sections/${a}`)}})},h=d=>c(d);return r.$$.update=()=>{r.$$.dirty&64&&t(2,n=d=>o.some(p=>p.class_code==d))},[i,l,n,c,u,f,o,h]}class OY extends It{constructor(e){super(),Ot(this,e,$Y,LY,xt,{})}}const IY=Object.freeze(Object.defineProperty({__proto__:null,default:OY},Symbol.toStringTag,{value:"Module"}));function s8(r,e,t){const n=r.slice();return n[28]=e[t],n[30]=t,n}function i8(r){let e,t,n=r[30]+1+"",s,i,o,a=r[28].sectionTitle+"",l,c,u,f=r[28].sectionDescription+"",h,d,p,g,w,v,_,k;function A(){return r[17](r[28])}g=new ft({props:{buttonText:"Edit",className:"text-xs"}}),g.$on("click",A);function C(){return r[18](r[28])}return v=new ft({props:{buttonText:"Delete",className:"text-xs bg-red-500 focus:ring-red-200 hover:bg-red-600 focus:bg-red-500"}}),v.$on("click",C),{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=I(),p=x("td"),de(g.$$.fragment),w=I(),de(v.$$.fragment),_=I(),b(t,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(o,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(u,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 flex space-x-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap")},m(N,T){oe(N,e,T),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),ue(g,p,null),m(p,w),ue(v,p,null),m(e,_),k=!0},p(N,T){r=N,(!k||T[0]&2)&&a!==(a=r[28].sectionTitle+"")&&rt(l,a),(!k||T[0]&2)&&f!==(f=r[28].sectionDescription+"")&&rt(h,f)},i(N){k||(R(g.$$.fragment,N),R(v.$$.fragment,N),k=!0)},o(N){z(g.$$.fragment,N),z(v.$$.fragment,N),k=!1},d(N){N&&ie(e),fe(g),fe(v)}}}function EY(r){let e,t,n=r[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=i8(s8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&10242){n=o[1];let l;for(l=0;l<n.length;l+=1){const c=s8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=i8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function PY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D;return n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),v=new ft({props:{buttonText:"Add New Section",className:"max-w-min min-w-max"}}),v.$on("click",r[16]),A=new W1({props:{headings:r[8],$$slots:{default:[EY]},$$scope:{ctx:r}}}),O=new ft({props:{buttonText:"Continue"}}),O.$on("click",r[9]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Questions",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),g=x("div"),g.innerHTML=`<div class="text-lg font-semibold min-w-max text-gray-700">Add Sections</div> 
                        <div class="text-gray-400 text-sm">Please add relevant sections below</div>`,w=I(),de(v.$$.fragment),_=I(),k=x("div"),de(A.$$.fragment),C=I(),N=x("div"),T=x("div"),de(O.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(k,"class","mt-12 space-y-6 w-full"),b(T,"class","w-40"),b(N,"class","flex w-full mt-10 justify-end"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(Q,E){oe(Q,e,E),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(Q,u,E),oe(Q,f,E),m(f,h),m(h,d),m(d,p),m(p,g),m(p,w),ue(v,p,null),m(d,_),m(d,k),ue(A,k,null),m(d,C),m(d,N),m(N,T),ue(O,T,null),D=!0},p(Q,E){const j={};E[0]&2|E[1]&1&&(j.$$scope={dirty:E,ctx:Q}),A.$set(j)},i(Q){D||(R(n.$$.fragment,Q),R(a.$$.fragment,Q),R(v.$$.fragment,Q),R(A.$$.fragment,Q),R(O.$$.fragment,Q),D=!0)},o(Q){z(n.$$.fragment,Q),z(a.$$.fragment,Q),z(v.$$.fragment,Q),z(A.$$.fragment,Q),z(O.$$.fragment,Q),D=!1},d(Q){Q&&ie(e),fe(n),fe(a),Q&&ie(u),Q&&ie(f),fe(v),fe(A),fe(O)}}}function DY(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Add Section",className:"min-w-max max-w-min"}}),e.$on("click",r[10]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function RY(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Update",className:"min-w-max max-w-min"}}),e.$on("click",r[12]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function FY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p;n=new Gr({props:{value:r[6].sectionTitle,label:"Enter Section Title",labelStyle:"font-semibold"}}),n.$on("input",r[19]),o=new fr({props:{options:r[2],className:"text-sm",optionsStyling:"text-sm",placeholder:"Select Question Type",label:"Select Question Type",labelStyle:"font-semibold"}}),o.$on("selected",r[20]),o.$on("deselected",r[21]),c=new Gr({props:{value:r[6].sectionDescription,label:"Enter Section Description",labelStyle:"font-semibold"}}),c.$on("input",r[22]);const g=[RY,DY],w=[];function v(_,k){return _[3]==_[7].edit?0:1}return h=v(r),d=w[h]=g[h](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("div"),de(c.$$.fragment),u=I(),f=x("div"),d.c(),b(f,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),ue(c,l,null),m(e,u),m(e,f),w[h].m(f,null),p=!0},p(_,k){const A={};k[0]&64&&(A.value=_[6].sectionTitle),n.$set(A);const C={};k[0]&4&&(C.options=_[2]),o.$set(C);const N={};k[0]&64&&(N.value=_[6].sectionDescription),c.$set(N);let T=h;h=v(_),h===T?w[h].p(_,k):(ct(),z(w[T],1,1,()=>{w[T]=null}),ut(),d=w[h],d?d.p(_,k):(d=w[h]=g[h](_),d.c()),R(d,1),d.m(f,null))},i(_){p||(R(n.$$.fragment,_),R(o.$$.fragment,_),R(c.$$.fragment,_),R(d),p=!0)},o(_){z(n.$$.fragment,_),z(o.$$.fragment,_),z(c.$$.fragment,_),z(d),p=!1},d(_){_&&ie(e),fe(n),fe(o),fe(c),w[h].d()}}}function jY(r){let e,t,n,s;return e=new uc({props:{$$slots:{default:[PY]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[5],showSheet:r[0],$$slots:{default:[FY]},$$scope:{ctx:r}}}),n.$on("close-button",r[14]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&2|o[1]&1&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&32&&(l.title=i[5]),o[0]&1&&(l.showSheet=i[0]),o[0]&92|o[1]&1&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function BY(r,e,t){let n;cn(r,kn,ne=>t(23,n=ne));let s=!1,i=[],o=[],a,l=!1;const c={createSection:"Add New Section",edit:"Edit Section"};let u,f={sectionTitle:"",sectionDescription:"",sectionId:"",questionType:""},h=JSON.stringify(f),d=["S|N","Title","Description","Action"],p=n.props.questionBankId;br(()=>{w(),g()});const g=()=>{ze.getWithToken("/api/question-types",{onSuccess:ne=>{t(2,o=ne.data.flatMap(G=>[{placeholder:G.toUpperCase(),value:G}]))}})},w=()=>{ze.getWithToken(`/api/question-bank/sections/${p}`,{onSuccess:ne=>{t(1,i=ne.data)}})},v=()=>{ze.navigateTo(`/teacher/questions/${p}`)},_=()=>{t(4,l=!0),ze.postWithToken("/api/question-bank/create/section",{questionBankId:p,title:f.sectionTitle,description:f.sectionDescription,questionType:f.questionType},{onSuccess:ne=>{w(),N(),t(4,l=!1)},onError:ne=>{t(4,l=!1)}})},k=ne=>{t(6,f=ne),T(c.edit)},A=()=>{t(4,l=!0),ze.postWithToken(`/api/question-bank/update/section/${f.sectionId}`,{sectionTitle:f.sectionTitle,sectionDescription:f.sectionDescription,questionType:f.questionType},{onSuccess:ne=>{w(),N(),t(4,l=!1)},onError:ne=>{t(4,l=!1)}})},C=ne=>{ze.postWithToken(`/api/question-bank/delete/section/${ne}`,{questionBankId:p},{onSuccess:G=>{w()}})},N=()=>{t(6,f=JSON.parse(h)),t(0,s=!1)},T=ne=>{t(3,a=ne),t(5,u=ne),t(0,s=!0)};return[s,i,o,a,l,u,f,c,d,v,_,k,A,C,N,T,()=>T(c.createSection),ne=>k(ne),ne=>C(ne.sectionId),ne=>t(6,f.sectionTitle=ne.detail.input,f),ne=>t(6,f.questionType=ne.detail.value,f),ne=>t(6,f.questionType="",f),ne=>t(6,f.sectionDescription=ne.detail.input,f)]}class zY extends It{constructor(e){super(),Ot(this,e,BY,jY,xt,{},null,[-1,-1])}}const qY=Object.freeze(Object.defineProperty({__proto__:null,default:zY},Symbol.toStringTag,{value:"Module"}));function HY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G;n=new Tt({props:{icon:"chart",className:"h-5 w-5"}}),a=new Tt({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}});let ae={options:r[0],placeholder:"Select an Assessment",className:"text-sm py-2.5"};C=new fr({props:ae}),r[6](C),C.$on("selected",r[7]),C.$on("deselected",r[8]);let q={options:r[1],placeholder:"Select Subject",className:"text-sm py-2.5"};return E=new fr({props:q}),r[9](E),ne=new ft({props:{buttonText:"Continue"}}),ne.$on("click",r[5]),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("span"),i.textContent="Questions",o=I(),de(a.$$.fragment),l=I(),c=x("span"),c.textContent="Create",u=I(),f=x("div"),h=x("div"),d=x("div"),p=x("div"),p.innerHTML=`<div><div class="text-lg font-semibold min-w-max text-gray-700">Create Question Bank</div> 
                        <div class="text-gray-400 text-sm">Please select relevant details below</div></div>`,g=I(),w=x("div"),v=x("div"),_=x("div"),_.textContent="Select Assessment",k=I(),A=x("div"),de(C.$$.fragment),N=I(),T=x("div"),O=x("div"),O.textContent="Select Subject",D=I(),Q=x("div"),de(E.$$.fragment),j=I(),J=x("div"),U=x("div"),de(ne.$$.fragment),b(i,"class","mx-2 text-sm font-medium text-gray-700"),b(c,"class","text-sm font-medium text-gray-700"),b(t,"class","flex space-x-3 items-center py-4 px-8"),b(e,"class","mt-20 flex items-center justify-between border-b bg-white"),b(p,"class","flex items-center justify-between my-2 border-b pb-8"),b(_,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),b(A,"class","w-full"),b(v,"class","flex w-full items-center text-sm max-w-4xl"),b(O,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),b(Q,"class","w-full"),b(T,"class","flex w-full items-center text-sm max-w-4xl"),b(w,"class","mt-12 space-y-6 w-full"),b(U,"class","w-40"),b(J,"class","flex w-full mt-10 justify-end"),b(d,"class","border bg-white p-8 rounded-lg max-w-8xl"),b(h,"class","container max-w-4xl my-12 space-x-10"),b(f,"class","w-full mx-auto h-full")},m(F,te){oe(F,e,te),m(e,t),ue(n,t,null),m(t,s),m(t,i),m(t,o),ue(a,t,null),m(t,l),m(t,c),oe(F,u,te),oe(F,f,te),m(f,h),m(h,d),m(d,p),m(d,g),m(d,w),m(w,v),m(v,_),m(v,k),m(v,A),ue(C,A,null),m(w,N),m(w,T),m(T,O),m(T,D),m(T,Q),ue(E,Q,null),m(d,j),m(d,J),m(J,U),ue(ne,U,null),G=!0},p(F,te){const B={};te&1&&(B.options=F[0]),C.$set(B);const L={};te&2&&(L.options=F[1]),E.$set(L)},i(F){G||(R(n.$$.fragment,F),R(a.$$.fragment,F),R(C.$$.fragment,F),R(E.$$.fragment,F),R(ne.$$.fragment,F),G=!0)},o(F){z(n.$$.fragment,F),z(a.$$.fragment,F),z(C.$$.fragment,F),z(E.$$.fragment,F),z(ne.$$.fragment,F),G=!1},d(F){F&&ie(e),fe(n),fe(a),F&&ie(u),F&&ie(f),r[6](null),fe(C),r[9](null),fe(E),fe(ne)}}}function VY(r){let e,t;return e=new uc({props:{$$slots:{default:[HY]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&1039&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function UY(r,e,t){let n=[],s=[],i,o;br(()=>{ze.getWithToken("/api/published-assessments",{onSuccess:d=>{t(0,n=d.data.flatMap(p=>[{placeholder:p.title,value:p.assessmentId}]))}})});const a=d=>{ze.getWithToken(`/api/question-bank/subjects/${d}`,{onSuccess:p=>{t(1,s=p.data.flatMap(g=>[{placeholder:g.subjectName,value:g.subjectId}]))}})},l=()=>{ze.postWithToken("/api/question-bank/create",{assessmentId:i.value,subjectId:o.value},{onSuccess:d=>{ze.navigateTo(`/teacher/create-question-bank/classes/${d.data.questionBankId}`)}})};function c(d){zr[d?"unshift":"push"](()=>{i=d,t(2,i)})}const u=d=>a(d.detail.value),f=d=>t(1,s=[]);function h(d){zr[d?"unshift":"push"](()=>{o=d,t(3,o)})}return[n,s,i,o,a,l,c,u,f,h]}class WY extends It{constructor(e){super(),Ot(this,e,UY,VY,xt,{})}}const YY=Object.freeze(Object.defineProperty({__proto__:null,default:WY},Symbol.toStringTag,{value:"Module"}));function o8(r,e,t){const n=r.slice();return n[38]=e[t],n}function a8(r,e,t){const n=r.slice();return n[41]=e[t],n[43]=t,n}function QY(r){let e,t,n,s,i;function o(){return r[30](r[41])}return{c(){e=x("button"),e.textContent="Edit Topic",t=I(),n=x("button"),n.textContent="Delete Topic",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(n,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(a,l){oe(a,e,l),oe(a,t,l),oe(a,n,l),s||(i=ht(e,"click",o),s=!0)},p(a,l){r=a},d(a){a&&ie(e),a&&ie(t),a&&ie(n),s=!1,i()}}}function l8(r){let e,t,n=r[43]+1+"",s,i,o,a=r[41].subject+"",l,c,u,f=r[41].topic+"",h,d,p,g=r[41].class+"",w,v,_,k,A,C,N;return A=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[QY]},$$scope:{ctx:r}}}),{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=I(),p=x("td"),w=Be(g),v=I(),_=x("td"),k=x("div"),de(A.$$.fragment),C=I(),b(t,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(o,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(u,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(k,"class","w-40"),b(_,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap")},m(T,O){oe(T,e,O),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),m(p,w),m(e,v),m(e,_),m(_,k),ue(A,k,null),m(e,C),N=!0},p(T,O){(!N||O[0]&1)&&a!==(a=T[41].subject+"")&&rt(l,a),(!N||O[0]&1)&&f!==(f=T[41].topic+"")&&rt(h,f),(!N||O[0]&1)&&g!==(g=T[41].class+"")&&rt(w,g);const D={};O[0]&1|O[1]&8192&&(D.$$scope={dirty:O,ctx:T}),A.$set(D)},i(T){N||(R(A.$$.fragment,T),N=!0)},o(T){z(A.$$.fragment,T),N=!1},d(T){T&&ie(e),fe(A)}}}function GY(r){let e,t,n=r[0],s=[];for(let o=0;o<n.length;o+=1)s[o]=l8(a8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&2097153){n=o[0];let l;for(l=0;l<n.length;l+=1){const c=a8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=l8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function JY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C;return o=new ft({props:{buttonText:"New Topic",className:"max-w-min min-w-max bg-green-600 focus:outline-none hover:bg-green-700 focus:bg-green-600 focus:ring-green-200"}}),o.$on("click",r[24]),h=new fr({props:{options:r[3],optionsStyling:"text-sm text-gray-800",placeholder:"Select Subject",className:"w-full text-sm text-gray-400 py-2.5"}}),h.$on("selected",r[25]),h.$on("deselected",r[26]),p=new fr({props:{options:r[2],optionsStyling:"text-sm text-gray-800",placeholder:"Select Class",className:"w-full text-sm text-gray-400 py-2.5"}}),p.$on("selected",r[27]),p.$on("deselected",r[28]),w=new ft({props:{buttonText:"Search",className:"w-40 text-sm py-3"}}),w.$on("click",r[20]),_=new ft({props:{buttonText:"Reset",className:"w-40 text-sm py-3"}}),_.$on("click",r[29]),A=new zi({props:{headings:r[12],$$slots:{default:[GY]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h3"),s.textContent="Subject Topics",i=I(),de(o.$$.fragment),a=I(),l=x("div"),c=x("span"),c.textContent="Filters",u=I(),f=x("div"),de(h.$$.fragment),d=I(),de(p.$$.fragment),g=I(),de(w.$$.fragment),v=I(),de(_.$$.fragment),k=I(),de(A.$$.fragment),b(s,"class","text-lg font-semibold"),b(n,"class","flex justify-between"),b(c,"class","text-base text-gray-700 font-semibold"),b(f,"class","flex items-center mt-3 space-x-3 w-full"),b(l,"class","flex flex-col border border-gray-300 rounded-lg w-full h-full bg-white mt-8 pt-4 pb-8 px-4"),b(t,"class","my-28"),b(e,"class","container")},m(N,T){oe(N,e,T),m(e,t),m(t,n),m(n,s),m(n,i),ue(o,n,null),m(t,a),m(t,l),m(l,c),m(l,u),m(l,f),ue(h,f,null),m(f,d),ue(p,f,null),m(f,g),ue(w,f,null),m(f,v),ue(_,f,null),m(t,k),ue(A,t,null),C=!0},p(N,T){const O={};T[0]&8&&(O.options=N[3]),h.$set(O);const D={};T[0]&4&&(D.options=N[2]),p.$set(D);const Q={};T[0]&1|T[1]&8192&&(Q.$$scope={dirty:T,ctx:N}),A.$set(Q)},i(N){C||(R(o.$$.fragment,N),R(h.$$.fragment,N),R(p.$$.fragment,N),R(w.$$.fragment,N),R(_.$$.fragment,N),R(A.$$.fragment,N),C=!0)},o(N){z(o.$$.fragment,N),z(h.$$.fragment,N),z(p.$$.fragment,N),z(w.$$.fragment,N),z(_.$$.fragment,N),z(A.$$.fragment,N),C=!1},d(N){N&&ie(e),fe(o),fe(h),fe(p),fe(w),fe(_),fe(A)}}}function c8(r){let e,t,n,s,i,o,a,l,c=r[38].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[11](r[38].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[34](r[38])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[11](r[38].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[11](r[38].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[11](r[38].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k[0]&2064&&(A.className=`${r[11](r[38].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k[0]&2064&&s!==(s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[11](r[38].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k[0]&16)&&c!==(c=r[38].class_name+"")&&rt(u,c),(!p||k[0]&2064&&f!==(f=`${r[11](r[38].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k[0]&2064&&h!==(h=`flex p-3 border-2 ${r[11](r[38].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function KY(r){let e,t;return e=new ft({props:{disabled:r[1],buttonText:"Add Topic",className:"min-w-max max-w-min"}}),e.$on("click",r[19]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&2&&(i.disabled=n[1]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function XY(r){let e,t;return e=new ft({props:{disabled:r[1],buttonText:"Update Topic",className:"min-w-max max-w-min"}}),e.$on("click",r[22]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&2&&(i.disabled=n[1]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function ZY(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g;n=new Gr({props:{value:r[8].topicTitle,label:"Enter Topic"}}),n.$on("input",r[31]),o=new fr({props:{options:r[3],value:r[8].topicSubject,optionsStyling:"text-sm text-gray-800",placeholder:"Select Subject",className:"w-full text-sm text-gray-700 py-2.5",label:"Select Subject"}}),o.$on("selected",r[32]),o.$on("deselected",r[33]);let w=r[4],v=[];for(let N=0;N<w.length;N+=1)v[N]=c8(o8(r,w,N));const _=N=>z(v[N],1,1,()=>{v[N]=null}),k=[XY,KY],A=[];function C(N,T){return N[7]==N[13].edit?0:1}return d=C(r),p=A[d]=k[d](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("p"),l.textContent="Select Classes",c=I(),u=x("div");for(let N=0;N<v.length;N+=1)v[N].c();f=I(),h=x("div"),p.c(),b(l,"class","text-sm text-gray-800"),b(u,"class","w-full space-y-2.5"),b(h,"class","w-20 pt-6"),b(e,"class","flex flex-col space-y-6 p-3")},m(N,T){oe(N,e,T),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),m(e,c),m(e,u);for(let O=0;O<v.length;O+=1)v[O]&&v[O].m(u,null);m(e,f),m(e,h),A[d].m(h,null),g=!0},p(N,T){const O={};T[0]&256&&(O.value=N[8].topicTitle),n.$set(O);const D={};if(T[0]&8&&(D.options=N[3]),T[0]&256&&(D.value=N[8].topicSubject),o.$set(D),T[0]&264208){w=N[4];let E;for(E=0;E<w.length;E+=1){const j=o8(N,w,E);v[E]?(v[E].p(j,T),R(v[E],1)):(v[E]=c8(j),v[E].c(),R(v[E],1),v[E].m(u,null))}for(ct(),E=w.length;E<v.length;E+=1)_(E);ut()}let Q=d;d=C(N),d===Q?A[d].p(N,T):(ct(),z(A[Q],1,1,()=>{A[Q]=null}),ut(),p=A[d],p?p.p(N,T):(p=A[d]=k[d](N),p.c()),R(p,1),p.m(h,null))},i(N){if(!g){R(n.$$.fragment,N),R(o.$$.fragment,N);for(let T=0;T<w.length;T+=1)R(v[T]);R(p),g=!0}},o(N){z(n.$$.fragment,N),z(o.$$.fragment,N),v=v.filter(Boolean);for(let T=0;T<v.length;T+=1)z(v[T]);z(p),g=!1},d(N){N&&ie(e),fe(n),fe(o),gr(v,N),A[d].d()}}}function eQ(r){let e,t,n,s;return e=new uc({props:{$$slots:{default:[JY]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[9],showSheet:r[10],$$slots:{default:[ZY]},$$scope:{ctx:r}}}),n.$on("close-button",r[14]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&109|o[1]&8192&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&512&&(l.title=i[9]),o[0]&1024&&(l.showSheet=i[10]),o[0]&2458|o[1]&8192&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function tQ(r,e,t){let n,s=["S|N","Subject","Topic","Class","Action"],i=[],o=!1,a=[],l=[],c=[],u=[],f,h,d,p,g={topicTitle:"",topicId:"",topicSubject:""},w=JSON.stringify(g);const v={create:"Add New Topic",edit:"Edit Topic"};let _,k=!1;const A=()=>{t(8,g=JSON.parse(w)),t(4,c=[]),t(23,u=[]),t(10,k=!1)},C=X=>{t(9,_=X),t(7,p=X),t(10,k=!0)};br(()=>{ze.getWithToken("/api/get-subjects/",{onSuccess:X=>{t(3,l=X.data.flatMap(K=>[{placeholder:K.subjectName,value:K.subjectId}]))}})});const N=X=>ze.getWithToken("/api/get-class-subjects/"+X,{onSuccess:K=>K.data}),T=async X=>{t(6,h=X),t(2,a=await N(X)),t(2,a=a.flatMap(K=>[{placeholder:K.class_name,value:K.class_code}]))},O=async X=>{d=X,t(4,c=await N(X))},D=X=>{if(n(X.class_code)){t(23,u=u.filter(K=>K.class_code!=X.class_code));return}u.push(X),t(23,u)},Q=()=>{t(1,o=!0),ze.postWithToken("/api/topic/create",{title:g.topicTitle,subjectId:d,classes:u.flatMap(X=>[X.class_code])},{onSuccess:X=>{A(),t(1,o=!1)}})},E=()=>{ze.postWithToken("/api/topics/get/",{subjectId:h,classId:f},{onSuccess:X=>{t(0,i=X.data)}})},j=X=>{t(8,g.topicId=X.topicId,g),t(8,g.topicTitle=X.topic,g),t(8,g.topicSubject=h,g),ze.getWithToken(`/api/topics/classes/${g.topicId}/${g.topicSubject}`,{onSuccess:K=>{t(23,u=K.data)}}),C(v.edit)},J=()=>{t(1,o=!0),ze.postWithToken("/api/topic/update",{topicId:g.topicId,title:g.topicTitle,subjectId:d,classes:u.flatMap(X=>[{classCode:X.class_code,classId:X.classId}])},{onSuccess:X=>{E(),A(),t(1,o=!1)}})},U=()=>C(v.create),ne=X=>T(X.detail.value),G=()=>{t(6,h=null),t(2,a=[])},ae=X=>t(5,f=X.detail.value),q=()=>t(5,f=null);function F(X){sc.call(this,r,X)}const te=X=>j(X),B=X=>t(8,g.topicTitle=X.detail.input,g),L=X=>O(X.detail.value),Y=()=>t(4,c=[]),re=X=>D(X);return r.$$.update=()=>{r.$$.dirty[0]&8388608&&t(11,n=X=>u.some(K=>K.class_code==X))},[i,o,a,l,c,f,h,p,g,_,k,n,s,v,A,C,T,O,D,Q,E,j,J,u,U,ne,G,ae,q,F,te,B,L,Y,re]}class rQ extends It{constructor(e){super(),Ot(this,e,tQ,eQ,xt,{},null,[-1,-1])}}const nQ=Object.freeze(Object.defineProperty({__proto__:null,default:rQ},Symbol.toStringTag,{value:"Module"}));function u8(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function f8(r,e){let t,n,s=e[8]+1+"",i,o,a,l=e[6].subjectName+"",c,u,f,h,d,p,g;function w(){return e[3](e[6])}return d=new ft({props:{buttonText:"Set Questions"}}),d.$on("click",w),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),h=x("div"),de(d.$$.fragment),p=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(h,"class","w-40"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(v,_){oe(v,t,_),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,h),ue(d,h,null),m(t,p),g=!0},p(v,_){e=v,(!g||_&1)&&s!==(s=e[8]+1+"")&&rt(i,s),(!g||_&1)&&l!==(l=e[6].subjectName+"")&&rt(c,l)},i(v){g||(R(d.$$.fragment,v),g=!0)},o(v){z(d.$$.fragment,v),g=!1},d(v){v&&ie(t),fe(d)}}}function sQ(r){let e=[],t=new Map,n,s,i=r[0];const o=a=>a[6].subjectId;for(let a=0;a<i.length;a+=1){let l=u8(r,i,a),c=o(l);t.set(c,e[a]=f8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&5&&(i=a[0],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,f8,n,u8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function iQ(r){let e,t,n,s,i;return s=new zi({props:{headings:r[1],$$slots:{default:[sQ]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),t.innerHTML='<h3 class="text-lg font-semibold">Classes</h3>',n=I(),de(s.$$.fragment),b(t,"class","container px-4"),b(e,"class","px-6 my-28")},m(o,a){oe(o,e,a),m(e,t),m(e,n),ue(s,e,null),i=!0},p(o,a){const l={};a&513&&(l.$$scope={dirty:a,ctx:o}),s.$set(l)},i(o){i||(R(s.$$.fragment,o),i=!0)},o(o){z(s.$$.fragment,o),i=!1},d(o){o&&ie(e),fe(s)}}}function oQ(r){let e,t;return e=new uc({props:{$$slots:{default:[iQ]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&513&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function aQ(r,e,t){let n;cn(r,kn,c=>t(4,n=c));let s=["S/N","Subject","Actions"],i=[],o=n.props.classCode;br(()=>{ze.getWithToken("/api/get-subjects/",{onSuccess:c=>{t(0,i=c.data)}})});const a=c=>{ze.navigateTo(`/teacher/create-questions/${o}/${c}`)};return[i,s,a,c=>a(c.subjectId)]}class lQ extends It{constructor(e){super(),Ot(this,e,aQ,oQ,xt,{})}}const cQ=Object.freeze(Object.defineProperty({__proto__:null,default:lQ},Symbol.toStringTag,{value:"Module"}));function d8(r,e,t){const n=r.slice();return n[1]=e[t],n}function uQ(r){let e,t=r[1]+"",n;return{c(){e=x("div"),n=Be(t),b(e,"class","flex items-center justify-center h-14 w-full border-r border-b text-xs text-gray-700 ")},m(s,i){oe(s,e,i),m(e,n)},p:Bt,d(s){s&&ie(e)}}}function fQ(r){let e,t=r[1]+"",n;return{c(){e=x("div"),n=Be(t),b(e,"class","flex items-center justify-center h-14 w-full border-b text-xs text-gray-700 ")},m(s,i){oe(s,e,i),m(e,n)},p:Bt,d(s){s&&ie(e)}}}function h8(r){let e;function t(i,o){return i[1]%7==0?fQ:uQ}let s=t(r)(r);return{c(){s.c(),e=cr()},m(i,o){s.m(i,o),oe(i,e,o)},p(i,o){s.p(i,o)},d(i){s.d(i),i&&ie(e)}}}function dQ(r){let e,t,n,s,i,o,a,l,c,u,f,h,d=r[0](),p=[];for(let g=0;g<d.length;g+=1)p[g]=h8(d8(r,d,g));return{c(){e=x("div"),e.innerHTML=`<div class="flex flex-col w-full justify-center h-40 border rounded-lg bg-white px-8 space-y-2 hover:scale-105 transition"><span class="text-gray-600 text-sm">Total Students</span> 
            <span class="text-3xl text-gray-800 font-semibold">1,000</span></div> 
        <div class="flex flex-col w-full justify-center h-40 border rounded-lg bg-white px-8 space-y-2 hover:scale-105 transition"><span class="text-gray-600 text-sm">Total Classes</span> 
            <span class="text-3xl text-gray-800 font-semibold">0</span></div> 
        <div class="flex flex-col w-full justify-center h-40 border rounded-lg bg-white px-8 space-y-2 hover:scale-105 transition"><span class="text-gray-600 text-sm">Total Subjects</span> 
            <span class="text-3xl text-gray-800 font-semibold">0</span></div> 
        <div class="flex flex-col w-full justify-center h-40 border rounded-lg bg-white px-8 space-y-2 hover:scale-105 transition"><span class="text-gray-600 text-sm">Total Assessments</span> 
            <span class="text-3xl text-gray-800 font-semibold">0</span></div>`,t=I(),n=x("div"),s=x("div"),i=x("div"),i.innerHTML=`<span class="text-gray-800 text-base">August 2023</span> 
                <div class="flex space-x-1"><button class="flex items-center justify-center h-6 w-6 bg-gray-800 rounded"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.7071 19.2071C16.0976 18.8166 16.0976 18.1834 15.7071 17.7929L9.91421 12L15.7071 6.20711C16.0976 5.81658 16.0976 5.18342 15.7071 4.79289C15.3166 4.40237 14.6834 4.40237 14.2929 4.79289L8.5 10.5858C7.71895 11.3668 7.71895 12.6332 8.5 13.4142L14.2929 19.2071C14.6834 19.5976 15.3166 19.5976 15.7071 19.2071Z" fill="white"></path></svg></button> 
                    <button class="flex items-center justify-center h-6 w-6 bg-gray-800 rounded"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.04289 19.2071C7.65237 18.8166 7.65237 18.1834 8.04289 17.7929L13.8358 12L8.04289 6.20711C7.65237 5.81658 7.65237 5.18342 8.04289 4.79289C8.43342 4.40237 9.06658 4.40237 9.45711 4.79289L15.25 10.5858C16.031 11.3668 16.031 12.6332 15.25 13.4142L9.45711 19.2071C9.06658 19.5976 8.43342 19.5976 8.04289 19.2071Z" fill="white"></path></svg></button></div>`,o=I(),a=x("div"),l=x("div"),l.innerHTML=`<div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Mon</div> 
                    <div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Tue</div> 
                    <div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Wed</div> 
                    <div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Thu</div> 
                    <div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Fri</div> 
                    <div class="flex items-center justify-center h-10 w-full border-r border-b text-xs font-semibold">Sat</div> 
                    <div class="flex items-center justify-center h-10 w-full border-b text-xs font-semibold">Sun</div>`,c=I(),u=x("div");for(let g=0;g<p.length;g+=1)p[g].c();f=I(),h=x("div"),b(e,"class","grid grid-cols-4 gap-4 mt-24 p-8"),b(i,"class","flex justify-between items-center h-10 pb-4"),b(l,"class","grid grid-cols-7 bg-gray-50 text-gray-800"),b(u,"class","grid grid-cols-7 grid-rows-5"),b(a,"class","h-80 w-96 border rounded overflow-hidden bg-white"),b(s,"class","px-4 py-4 border rounded-lg bg-white"),b(h,"class","flex flex-col border rounded-lg w-full h-96 bg-white"),b(n,"class","flex flex-row mt-4 px-8 space-x-8 py-4")},m(g,w){oe(g,e,w),oe(g,t,w),oe(g,n,w),m(n,s),m(s,i),m(s,o),m(s,a),m(a,l),m(a,c),m(a,u);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(u,null);m(n,f),m(n,h)},p(g,w){if(w&1){d=g[0]();let v;for(v=0;v<d.length;v+=1){const _=d8(g,d,v);p[v]?p[v].p(_,w):(p[v]=h8(_),p[v].c(),p[v].m(u,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=d.length}},d(g){g&&ie(e),g&&ie(t),g&&ie(n),gr(p,g)}}}function hQ(r){let e,t;return e=new Vn({props:{$$slots:{default:[dQ]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,[s]){const i={};s&16&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function pQ(r){return[()=>{let t=[];for(let n=1;n<=35;n++)t.push(n);return t}]}let mQ=class extends It{constructor(e){super(),Ot(this,e,pQ,hQ,xt,{})}};const gQ=Object.freeze(Object.defineProperty({__proto__:null,default:mQ},Symbol.toStringTag,{value:"Module"}));function p8(r,e,t){const n=r.slice();return n[27]=e[t],n}function m8(r,e,t){const n=r.slice();return n[30]=e[t],n[32]=t,n}function bQ(r){let e,t,n,s,i;function o(){return r[19](r[30])}function a(){return r[20](r[30])}return{c(){e=x("button"),e.textContent="Edit Class",t=I(),n=x("button"),n.textContent="Add Subjects",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(n,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(l,c){oe(l,e,c),oe(l,t,c),oe(l,n,c),s||(i=[ht(e,"click",o),ht(n,"click",a)],s=!0)},p(l,c){r=l},d(l){l&&ie(e),l&&ie(t),l&&ie(n),s=!1,Wr(i)}}}function g8(r,e){let t,n,s=e[32]+1+"",i,o,a,l=e[30].class_name+"",c,u,f,h=(e[30].studentCount??"Not Available")+"",d,p,g,w,v,_,k;return v=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[bQ]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),d=Be(h),p=I(),g=x("td"),w=x("div"),de(v.$$.fragment),_=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(w,"class","w-40"),b(g,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(A,C){oe(A,t,C),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,d),m(t,p),m(t,g),m(g,w),ue(v,w,null),m(t,_),k=!0},p(A,C){e=A,(!k||C[0]&4)&&s!==(s=e[32]+1+"")&&rt(i,s),(!k||C[0]&4)&&l!==(l=e[30].class_name+"")&&rt(c,l),(!k||C[0]&4)&&h!==(h=(e[30].studentCount??"Not Available")+"")&&rt(d,h);const N={};C[0]&4|C[1]&4&&(N.$$scope={dirty:C,ctx:e}),v.$set(N)},i(A){k||(R(v.$$.fragment,A),k=!0)},o(A){z(v.$$.fragment,A),k=!1},d(A){A&&ie(t),fe(v)}}}function vQ(r){let e=[],t=new Map,n,s,i=r[2];const o=a=>a[30].class_code;for(let a=0;a<i.length;a+=1){let l=m8(r,i,a),c=o(l);t.set(c,e[a]=g8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l[0]&40964&&(i=a[2],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,g8,n,m8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function yQ(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"badge",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"New Class",className:"text-sm"}}),c.$on("click",r[11]),f=new zi({props:{headings:r[9],$$slots:{default:[vQ]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Classes",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-semibold text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","my-28 container")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p[0]&4|p[1]&4&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function wQ(r){let e,t,n,s,i,o,a,l;n=new Gr({props:{value:r[0],label:"Enter Class"}}),n.$on("input",r[22]);const c=[kQ,xQ],u=[];function f(h,d){return h[5]?0:1}return o=f(r),a=u[o]=c[o](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),a.c(),b(i,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(h,d){oe(h,e,d),m(e,t),ue(n,t,null),m(e,s),m(e,i),u[o].m(i,null),l=!0},p(h,d){const p={};d[0]&1&&(p.value=h[0]),n.$set(p);let g=o;o=f(h),o===g?u[o].p(h,d):(ct(),z(u[g],1,1,()=>{u[g]=null}),ut(),a=u[o],a?a.p(h,d):(a=u[o]=c[o](h),a.c()),R(a,1),a.m(i,null))},i(h){l||(R(n.$$.fragment,h),R(a),l=!0)},o(h){z(n.$$.fragment,h),z(a),l=!1},d(h){h&&ie(e),fe(n),u[o].d()}}}function _Q(r){let e,t,n,s,i,o,a,l,c=r[3],u=[];for(let h=0;h<c.length;h+=1)u[h]=b8(p8(r,c,h));const f=h=>z(u[h],1,1,()=>{u[h]=null});return a=new ft({props:{disabled:r[4],buttonText:"Assign Subjects"}}),a.$on("click",r[17]),{c(){e=x("div"),t=x("p"),t.textContent="Assign Subjects",n=I(),s=x("div");for(let h=0;h<u.length;h+=1)u[h].c();i=I(),o=x("div"),de(a.$$.fragment),b(t,"class","text-gray-800 font-semibold pb-6"),b(s,"class","space-y-3"),b(o,"class","pt-10"),b(e,"class","flex flex-col space-y-3 p-3")},m(h,d){oe(h,e,d),m(e,t),m(e,n),m(e,s);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);m(e,i),m(e,o),ue(a,o,null),l=!0},p(h,d){if(d[0]&65800){c=h[3];let g;for(g=0;g<c.length;g+=1){const w=p8(h,c,g);u[g]?(u[g].p(w,d),R(u[g],1)):(u[g]=b8(w),u[g].c(),R(u[g],1),u[g].m(s,null))}for(ct(),g=c.length;g<u.length;g+=1)f(g);ut()}const p={};d[0]&16&&(p.disabled=h[4]),a.$set(p)},i(h){if(!l){for(let d=0;d<c.length;d+=1)R(u[d]);R(a.$$.fragment,h),l=!0}},o(h){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)z(u[d]);z(a.$$.fragment,h),l=!1},d(h){h&&ie(e),gr(u,h),fe(a)}}}function xQ(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[12]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kQ(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[14]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function b8(r){let e,t,n,s,i,o,a,l,c=r[27].subjectName+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[8](r[27].subjectId)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[21](r[27])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[8](r[27].subjectId)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k[0]&264&&(A.className=`${r[8](r[27].subjectId)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k[0]&264&&s!==(s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k[0]&8)&&c!==(c=r[27].subjectName+"")&&rt(u,c),(!p||k[0]&264&&f!==(f=`${r[8](r[27].subjectId)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k[0]&264&&h!==(h=`flex p-3 border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function SQ(r){let e,t,n,s;const i=[_Q,wQ],o=[];function a(l,c){return l[1]?0:1}return e=a(r),t=o[e]=i[e](r),{c(){t.c(),n=cr()},m(l,c){o[e].m(l,c),oe(l,n,c),s=!0},p(l,c){let u=e;e=a(l),e===u?o[e].p(l,c):(ct(),z(o[u],1,1,()=>{o[u]=null}),ut(),t=o[e],t?t.p(l,c):(t=o[e]=i[e](l),t.c()),R(t,1),t.m(n.parentNode,n))},i(l){s||(R(t),s=!0)},o(l){z(t),s=!1},d(l){o[e].d(l),l&&ie(n)}}}function AQ(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[yQ]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[6],showSheet:r[7],$$slots:{default:[SQ]},$$scope:{ctx:r}}}),n.$on("close-button",r[10]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&4|o[1]&4&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&64&&(l.title=i[6]),o[0]&128&&(l.showSheet=i[7]),o[0]&315|o[1]&4&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function TQ(r,e,t){let n,s=["SN","Class","Total Students","Actions"],i=[],o=[],a=!1,l=[],c="",u,f=!1,h="Create New Class";br(()=>{v(),_()});let d=!1;const p=()=>{t(7,d=!1),w()},g=()=>t(7,d=!0),w=()=>{t(5,u=void 0),t(0,c=""),t(1,f=!1),t(4,a=!1)},v=()=>{ze.get("/api/classes",{onSuccess:J=>{t(2,i=J.data)}})},_=()=>{ze.get("/api/subjects",{onSuccess:J=>{t(3,o=J.data)}})},k=()=>{t(4,a=!0),ze.post("/api/class/create",{className:c},{onSuccess:J=>{v(),p(),w(),t(4,a=!1)},onError:J=>{t(4,a=!1)}})},A=J=>{t(4,a=!0),t(5,u=J),ze.get("/api/class/subject/"+J,{onSuccess:U=>{t(1,f=!0),t(18,l=U.data),g(),t(4,a=!1)},onError:U=>{t(4,a=!1)}})},C=()=>{t(4,a=!0),ze.post("/api/class/update",{className:c,classId:u},{onSuccess:J=>{v(),p(),w(),t(4,a=!1)},onError:J=>{t(4,a=!1)}})},N=(J,U)=>{t(5,u=J),t(0,c=U),t(6,h="Edit Class"),g()},T=J=>{if(n(J.subjectId)){t(18,l=l.filter(U=>U.subjectId!=J.subjectId));return}l.push(J),t(18,l)},O=()=>{t(4,a=!0),ze.post("/api/class/assign-subjects",{classId:u,subjects:l},{onSuccess:J=>{p(),t(4,a=!1)}})},D=J=>N(J.id,J.class_name),Q=J=>A(J.id),E=J=>T(J),j=J=>t(0,c=J.detail.input);return r.$$.update=()=>{r.$$.dirty[0]&262144&&t(8,n=J=>l.some(U=>U.subjectId==J)),r.$$.dirty[0]&262147&&t(4,a=f&&l.length===0||!f&&c.length===0)},[c,f,i,o,a,u,h,d,n,s,p,g,k,A,C,N,T,O,l,D,Q,E,j]}let NQ=class extends It{constructor(e){super(),Ot(this,e,TQ,AQ,xt,{},null,[-1,-1])}};const MQ=Object.freeze(Object.defineProperty({__proto__:null,default:NQ},Symbol.toStringTag,{value:"Module"}));function v8(r,e,t){const n=r.slice();return n[0]=e[t],n[17]=t,n}function y8(r,e){let t,n,s=e[17]+1+"",i,o,a,l=e[0].session+"",c,u,f,h,d,p,g,w,v;function _(){return e[11](e[0])}return d=new ft({props:{buttonText:"Edit",className:"text-xs w-20"}}),d.$on("click",_),g=new ft({props:{buttonText:"Delete",className:"text-xs w-20 bg-red-500 hover:bg-red-400 focus:bg-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),h=x("div"),de(d.$$.fragment),p=I(),de(g.$$.fragment),w=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(h,"class","flex space-x-3"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(k,A){oe(k,t,A),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,h),ue(d,h,null),m(h,p),ue(g,h,null),m(t,w),v=!0},p(k,A){e=k,(!v||A&2)&&s!==(s=e[17]+1+"")&&rt(i,s),(!v||A&2)&&l!==(l=e[0].session+"")&&rt(c,l)},i(k){v||(R(d.$$.fragment,k),R(g.$$.fragment,k),v=!0)},o(k){z(d.$$.fragment,k),z(g.$$.fragment,k),v=!1},d(k){k&&ie(t),fe(d),fe(g)}}}function CQ(r){let e=[],t=new Map,n,s,i=r[1];const o=a=>a[0].id;for(let a=0;a<i.length;a+=1){let l=v8(r,i,a),c=o(l);t.set(c,e[a]=y8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&1026&&(i=a[1],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,y8,n,v8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function LQ(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"update",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"New Session",className:"text-sm"}}),c.$on("click",r[7]),f=new zi({props:{headings:r[5],$$slots:{default:[CQ]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Sessions",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-semibold text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","my-28 container")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p&262146&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function $Q(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[8]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OQ(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[9]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IQ(r){let e,t,n,s,i,o,a,l;n=new Gr({props:{value:r[0],label:"Enter Session Title",placeholder:"2022/2023"}}),n.$on("input",r[12]);const c=[OQ,$Q],u=[];function f(h,d){return h[2]?0:1}return o=f(r),a=u[o]=c[o](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),a.c(),b(i,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(h,d){oe(h,e,d),m(e,t),ue(n,t,null),m(e,s),m(e,i),u[o].m(i,null),l=!0},p(h,d){const p={};d&1&&(p.value=h[0]),n.$set(p);let g=o;o=f(h),o===g?u[o].p(h,d):(ct(),z(u[g],1,1,()=>{u[g]=null}),ut(),a=u[o],a?a.p(h,d):(a=u[o]=c[o](h),a.c()),R(a,1),a.m(i,null))},i(h){l||(R(n.$$.fragment,h),R(a),l=!0)},o(h){z(n.$$.fragment,h),z(a),l=!1},d(h){h&&ie(e),fe(n),u[o].d()}}}function EQ(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[LQ]},$$scope:{ctx:r}}}),n=new Ni({props:{title:"Create New Session",showSheet:r[4],$$slots:{default:[IQ]},$$scope:{ctx:r}}}),n.$on("close-button",r[6]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,[o]){const a={};o&262146&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o&16&&(l.showSheet=i[4]),o&262157&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function PQ(r,e,t){let n=["SN","Session","Actions"],s=[],i="",o,a=!1;br(()=>{h()});let l=!1;const c=()=>{t(4,l=!1),f()},u=()=>t(4,l=!0),f=()=>{t(2,o=void 0),t(0,i=""),t(3,a=!1)},h=()=>{ze.get("/api/sessions",{onSuccess:_=>{t(1,s=_.data)}})},d=()=>{t(3,a=!0),ze.post("/api/session/create",{session:i},{onSuccess:_=>{h(),c(),f(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},p=()=>{t(3,a=!0),ze.post("/api/session/update",{session:i,academicSessionId:o},{onSuccess:_=>{h(),c(),f(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},g=(_,k)=>{t(2,o=_),t(0,i=k),u()},w=_=>g(_.id,_.session),v=_=>t(0,i=_.detail.input);return r.$$.update=()=>{r.$$.dirty&1&&t(3,a=i.length===0)},[i,s,o,a,l,n,c,u,d,p,g,w,v]}let DQ=class extends It{constructor(e){super(),Ot(this,e,PQ,EQ,xt,{})}};const RQ=Object.freeze(Object.defineProperty({__proto__:null,default:DQ},Symbol.toStringTag,{value:"Module"}));class FQ{constructor(e,t="user",n=null,s=null){this._webcamElement=e,this._webcamElement.width=this._webcamElement.width||640,this._webcamElement.height=this._webcamElement.height||360,this._facingMode=t,this._webcamList=[],this._streamList=[],this._selectedDeviceId="",this._canvasElement=n,this._snapSoundElement=s}get facingMode(){return this._facingMode}set facingMode(e){this._facingMode=e}get webcamList(){return this._webcamList}get webcamCount(){return this._webcamList.length}get selectedDeviceId(){return this._selectedDeviceId}getVideoInputs(e){return this._webcamList=[],e.forEach(t=>{t.kind==="videoinput"&&this._webcamList.push(t)}),this._webcamList.length==1&&(this._facingMode="user"),this._webcamList}getMediaConstraints(){var e={};this._selectedDeviceId==""?e.facingMode=this._facingMode:e.deviceId={exact:this._selectedDeviceId},e.width={exact:this._webcamElement.width},e.height={exact:this._webcamElement.height};var t={video:e,audio:!1};return t}selectCamera(){for(let e of this._webcamList)if(this._facingMode=="user"&&e.label.toLowerCase().includes("front")||this._facingMode=="enviroment"&&e.label.toLowerCase().includes("back")){this._selectedDeviceId=e.deviceId;break}}flip(){this._facingMode=this._facingMode=="user"?"enviroment":"user",this._webcamElement.style.transform="",this.selectCamera()}async start(e=!0){return new Promise((t,n)=>{this.stop(),navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(s=>{this._streamList.push(s),this.info().then(i=>{this.selectCamera(),e?this.stream().then(o=>{t(this._facingMode)}).catch(o=>{n(o)}):t(this._selectedDeviceId)}).catch(i=>{n(i)})}).catch(s=>{n(s)})})}async info(){return new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(n=>{this.getVideoInputs(n),e(this._webcamList)}).catch(n=>{t(n)})})}async stream(){return new Promise((e,t)=>{navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(n=>{this._streamList.push(n),this._webcamElement.srcObject=n,this._facingMode=="user"&&(this._webcamElement.style.transform="scale(-1,1)"),this._webcamElement.play(),e(this._facingMode)}).catch(n=>{console.log(n),t(n)})})}stop(){this._streamList.forEach(e=>{e.getTracks().forEach(t=>{t.stop()})})}snap(){if(this._canvasElement!=null){this._snapSoundElement!=null&&this._snapSoundElement.play(),this._canvasElement.height=this._webcamElement.scrollHeight,this._canvasElement.width=this._webcamElement.scrollWidth;let e=this._canvasElement.getContext("2d");return this._facingMode=="user"&&(e.translate(this._canvasElement.width,0),e.scale(-1,1)),e.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),e.drawImage(this._webcamElement,0,0,this._canvasElement.width,this._canvasElement.height),this._canvasElement.toDataURL("image/png")}else throw"canvas element is missing"}}function jQ(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q,E,j,J,U,ne,G,ae,q={label:"Enter Student First Name"};a=new Gr({props:q}),r[11](a);let F={label:"Enter Student Surname"};c=new Gr({props:F}),r[12](c);let te={value:"SOBMCAL/21/",label:"Enter Registration Number"};f=new Gr({props:te}),r[13](f);let B={options:r[5],placeholder:"Select Level",label:"Select Student Level",className:"text-sm"};return d=new fr({props:B}),r[14](d),C=new ft({props:{buttonText:"Save Student Info"}}),C.$on("click",r[10]),j=new ft({props:{buttonText:"Start Webcam",className:"max-w-fit"}}),j.$on("click",r[7]),U=new ft({props:{buttonText:"Capture",className:"max-w-fit"}}),U.$on("click",r[8]),G=new ft({props:{buttonText:"Stop Webcam",className:"max-w-fit"}}),G.$on("click",r[9]),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("h1"),s.textContent="Student Bio Data Capture",i=I(),o=x("div"),de(a.$$.fragment),l=I(),de(c.$$.fragment),u=I(),de(f.$$.fragment),h=I(),de(d.$$.fragment),p=I(),g=x("div"),w=x("p"),w.textContent="Stundent Passport",v=I(),_=x("canvas"),k=I(),A=x("div"),de(C.$$.fragment),N=I(),T=x("div"),O=x("div"),D=x("video"),Q=I(),E=x("div"),de(j.$$.fragment),J=I(),de(U.$$.fragment),ne=I(),de(G.$$.fragment),b(s,"class","font-bold text-lg"),b(w,"class","text-sm"),b(_,"class","h-60 w-60 mt-6 border-2 rounded-lg"),b(_,"id","canvas"),b(o,"class","space-y-6 mt-12"),b(A,"class","mt-10"),b(n,"class","flex flex-col py-12"),b(t,"class","container min-h-screen flex flex-1 flex-col"),b(D,"class","border rounded-lg"),b(D,"id","webcam"),D.autoplay=!0,D.playsInline=!0,b(D,"width","640"),b(D,"height","480"),b(E,"class","flex space-x-5 mt-12"),b(T,"class","container min-h-screen flex flex-col items-center pt-16 w-1/2 border-l border-2"),b(e,"class","flex min-h-screen w-screen")},m(L,Y){oe(L,e,Y),m(e,t),m(t,n),m(n,s),m(n,i),m(n,o),ue(a,o,null),m(o,l),ue(c,o,null),m(o,u),ue(f,o,null),m(o,h),ue(d,o,null),m(o,p),m(o,g),m(g,w),m(g,v),m(g,_),r[15](_),m(n,k),m(n,A),ue(C,A,null),m(e,N),m(e,T),m(T,O),m(O,D),r[16](D),m(T,Q),m(T,E),ue(j,E,null),m(E,J),ue(U,E,null),m(E,ne),ue(G,E,null),ae=!0},p(L,[Y]){const re={};a.$set(re);const X={};c.$set(X);const K={};f.$set(K);const W={};Y&32&&(W.options=L[5]),d.$set(W)},i(L){ae||(R(a.$$.fragment,L),R(c.$$.fragment,L),R(f.$$.fragment,L),R(d.$$.fragment,L),R(C.$$.fragment,L),R(j.$$.fragment,L),R(U.$$.fragment,L),R(G.$$.fragment,L),ae=!0)},o(L){z(a.$$.fragment,L),z(c.$$.fragment,L),z(f.$$.fragment,L),z(d.$$.fragment,L),z(C.$$.fragment,L),z(j.$$.fragment,L),z(U.$$.fragment,L),z(G.$$.fragment,L),ae=!1},d(L){L&&ie(e),r[11](null),fe(a),r[12](null),fe(c),r[13](null),fe(f),r[14](null),fe(d),r[15](null),fe(C),r[16](null),fe(j),fe(U),fe(G)}}}function BQ(r,e,t){let n,s,i,o,a,l,c,u=[],f;br(async()=>{i=new FQ(n,"user",s),ze.get("/api/classes",{onSuccess:N=>{t(5,u=N.data.flatMap(T=>[{placeholder:T.class_name,value:T.id}]))}})});const h=()=>{i.start().then(N=>{console.log("webcam started")}).catch(N=>{console.log(N)})},d=()=>{o=i.snap()},p=()=>i.stop(),g=()=>{ze.post("/api/student-profile/create",{firstName:a.value,lastName:l.value,regNo:c.value,profilePic:o,level:f.value},{onSuccess:N=>{window.location.reload()}})};function w(N){zr[N?"unshift":"push"](()=>{a=N,t(2,a)})}function v(N){zr[N?"unshift":"push"](()=>{l=N,t(3,l)})}function _(N){zr[N?"unshift":"push"](()=>{c=N,t(4,c)})}function k(N){zr[N?"unshift":"push"](()=>{f=N,t(6,f)})}function A(N){zr[N?"unshift":"push"](()=>{s=N,t(1,s)})}function C(N){zr[N?"unshift":"push"](()=>{n=N,t(0,n)})}return[n,s,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C]}class zQ extends It{constructor(e){super(),Ot(this,e,BQ,jQ,xt,{})}}const qQ=Object.freeze(Object.defineProperty({__proto__:null,default:zQ},Symbol.toStringTag,{value:"Module"}));function w8(r,e,t){const n=r.slice();return n[40]=e[t],n}function _8(r,e,t){const n=r.slice();return n[43]=e[t],n[45]=t,n}function HQ(r){let e,t,n,s,i;function o(){return r[26](r[43])}function a(){return r[27](r[45])}return{c(){e=x("button"),e.textContent="Edit Student",t=I(),n=x("button"),n.textContent="Add Subjects",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(n,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(l,c){oe(l,e,c),oe(l,t,c),oe(l,n,c),s||(i=[ht(e,"click",o),ht(n,"click",a)],s=!0)},p(l,c){r=l},d(l){l&&ie(e),l&&ie(t),l&&ie(n),s=!1,Wr(i)}}}function x8(r){let e,t,n=r[45]+1+"",s,i,o,a=r[43].name+"",l,c,u,f=r[43].class+"",h,d,p,g=r[43].studentCode+"",w,v,_,k,A,C,N;return A=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[HQ]},$$scope:{ctx:r}}}),{c(){e=x("tr"),t=x("td"),s=Be(n),i=I(),o=x("td"),l=Be(a),c=I(),u=x("td"),h=Be(f),d=I(),p=x("td"),w=Be(g),v=I(),_=x("td"),k=x("div"),de(A.$$.fragment),C=I(),b(t,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(o,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(u,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 text-sm text-blue-500 dark:text-gray-300 whitespace-nowrap"),b(k,"class","w-40"),b(_,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap")},m(T,O){oe(T,e,O),m(e,t),m(t,s),m(e,i),m(e,o),m(o,l),m(e,c),m(e,u),m(u,h),m(e,d),m(e,p),m(p,w),m(e,v),m(e,_),m(_,k),ue(A,k,null),m(e,C),N=!0},p(T,O){(!N||O[0]&512)&&a!==(a=T[43].name+"")&&rt(l,a),(!N||O[0]&512)&&f!==(f=T[43].class+"")&&rt(h,f),(!N||O[0]&512)&&g!==(g=T[43].studentCode+"")&&rt(w,g);const D={};O[0]&512|O[1]&32768&&(D.$$scope={dirty:O,ctx:T}),A.$set(D)},i(T){N||(R(A.$$.fragment,T),N=!0)},o(T){z(A.$$.fragment,T),N=!1},d(T){T&&ie(e),fe(A)}}}function VQ(r){let e,t,n=r[9],s=[];for(let o=0;o<n.length;o+=1)s[o]=x8(_8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&2228736){n=o[9];let l;for(l=0;l<n.length;l+=1){const c=_8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=x8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function UQ(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"badge",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"Add New Student",className:"text-sm"}}),c.$on("click",r[25]),f=new zi({props:{headings:r[14],$$slots:{default:[VQ]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Students",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-semibold text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","container my-28")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p[0]&512|p[1]&32768&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function k8(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O,D,Q={value:r[12].firstName,label:"Enter Student First Name"};n=new Gr({props:Q}),r[28](n),n.$on("input",r[29]);let E={value:r[12].surname,label:"Enter Student Surname"};o=new Gr({props:E}),r[30](o),o.$on("input",r[31]);let j={isSelected:!!r[12].class,value:r[12].classId,options:r[4],placeholder:r[12].class?r[12].class:"Select Class",label:"Select Student Class",className:"text-sm"};c=new fr({props:j}),r[32](c),c.$on("selected",r[33]);const J=[YQ,WQ],U=[];function ne(G,ae){return G[1]==G[15].edit?0:1}return C=ne(r),N=U[C]=J[C](r),{c(){var G;e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("div"),de(c.$$.fragment),u=I(),f=x("div"),h=x("label"),h.textContent="Upload Student Photo",d=I(),p=x("img"),v=I(),_=x("input"),k=I(),A=x("div"),N.c(),b(h,"for","pic"),b(h,"class","text-sm text-gray-800"),b(p,"alt",""),b(p,"class",g=`rounded-lg h-60 w-60 mt-4 ${((G=r[12].photo)==null?void 0:G.length)>0?"":"hidden"}`),la(p.src,w=r[12].photo?r[12].photo:r[2])||b(p,"src",w),b(p,"id","preview"),b(_,"type","file"),b(_,"accept","image/*"),b(_,"id","pic"),b(f,"class","flex flex-col space-y-4"),b(A,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(G,ae){oe(G,e,ae),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),ue(c,l,null),m(e,u),m(e,f),m(f,h),m(f,d),m(f,p),m(f,v),m(f,_),m(e,k),m(e,A),U[C].m(A,null),T=!0,O||(D=ht(_,"change",r[34]),O=!0)},p(G,ae){var L;const q={};ae[0]&4096&&(q.value=G[12].firstName),n.$set(q);const F={};ae[0]&4096&&(F.value=G[12].surname),o.$set(F);const te={};ae[0]&4096&&(te.isSelected=!!G[12].class),ae[0]&4096&&(te.value=G[12].classId),ae[0]&16&&(te.options=G[4]),ae[0]&4096&&(te.placeholder=G[12].class?G[12].class:"Select Class"),c.$set(te),(!T||ae[0]&4096&&g!==(g=`rounded-lg h-60 w-60 mt-4 ${((L=G[12].photo)==null?void 0:L.length)>0?"":"hidden"}`))&&b(p,"class",g),(!T||ae[0]&4100&&!la(p.src,w=G[12].photo?G[12].photo:G[2]))&&b(p,"src",w);let B=C;C=ne(G),C===B?U[C].p(G,ae):(ct(),z(U[B],1,1,()=>{U[B]=null}),ut(),N=U[C],N?N.p(G,ae):(N=U[C]=J[C](G),N.c()),R(N,1),N.m(A,null))},i(G){T||(R(n.$$.fragment,G),R(o.$$.fragment,G),R(c.$$.fragment,G),R(N),T=!0)},o(G){z(n.$$.fragment,G),z(o.$$.fragment,G),z(c.$$.fragment,G),z(N),T=!1},d(G){G&&ie(e),r[28](null),fe(n),r[30](null),fe(o),r[32](null),fe(c),U[C].d(),O=!1,D()}}}function WQ(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Save",className:""}}),e.$on("click",r[16]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function YQ(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Update",className:""}}),e.$on("click",r[18]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function S8(r){let e,t,n,s,i,o,a,l,c,u;const f=[GQ,QQ],h=[];function d(p,g){return p[8].length===0?0:1}return i=d(r),o=h[i]=f[i](r),c=new ft({props:{disabled:r[3],buttonText:"Assign Subjects"}}),c.$on("click",r[23]),{c(){e=x("div"),t=x("p"),t.textContent="Subjects",n=I(),s=x("div"),o.c(),a=I(),l=x("div"),de(c.$$.fragment),b(t,"class","text-gray-800 font-semibold pb-6"),b(s,"class","space-y-3"),b(l,"class","pt-10 w-40"),b(e,"class","flex flex-col space-y-3 p-3")},m(p,g){oe(p,e,g),m(e,t),m(e,n),m(e,s),h[i].m(s,null),m(e,a),m(e,l),ue(c,l,null),u=!0},p(p,g){let w=i;i=d(p),i===w?h[i].p(p,g):(ct(),z(h[w],1,1,()=>{h[w]=null}),ut(),o=h[i],o?o.p(p,g):(o=h[i]=f[i](p),o.c()),R(o,1),o.m(s,null));const v={};g[0]&8&&(v.disabled=p[3]),c.$set(v)},i(p){u||(R(o),R(c.$$.fragment,p),u=!0)},o(p){z(o),z(c.$$.fragment,p),u=!1},d(p){p&&ie(e),h[i].d(),fe(c)}}}function QQ(r){let e,t,n=r[8],s=[];for(let o=0;o<n.length;o+=1)s[o]=A8(w8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&4202752){n=o[8];let l;for(l=0;l<n.length;l+=1){const c=w8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=A8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function GQ(r){let e;return{c(){e=x("div"),e.innerHTML='<p class="italic text-gray-500">No subjects to add</p>',b(e,"class","flex w-full py-6")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function A8(r){let e,t,n,s,i,o,a,l,c=r[40].subjectName+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[13](r[40].subjectId)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[35](r[40])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[13](r[40].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[13](r[40].subjectId)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[13](r[40].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k[0]&8448&&(A.className=`${r[13](r[40].subjectId)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k[0]&8448&&s!==(s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[13](r[40].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k[0]&256)&&c!==(c=r[40].subjectName+"")&&rt(u,c),(!p||k[0]&8448&&f!==(f=`${r[13](r[40].subjectId)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k[0]&8448&&h!==(h=`flex p-3 border-2 ${r[13](r[40].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function JQ(r){let e,t,n,s=(r[1]===r[15].addNewStudent||r[1]===r[15].edit)&&k8(r),i=r[1]===r[15].assignSubjects&&S8(r);return{c(){s&&s.c(),e=I(),i&&i.c(),t=cr()},m(o,a){s&&s.m(o,a),oe(o,e,a),i&&i.m(o,a),oe(o,t,a),n=!0},p(o,a){o[1]===o[15].addNewStudent||o[1]===o[15].edit?s?(s.p(o,a),a[0]&2&&R(s,1)):(s=k8(o),s.c(),R(s,1),s.m(e.parentNode,e)):s&&(ct(),z(s,1,1,()=>{s=null}),ut()),o[1]===o[15].assignSubjects?i?(i.p(o,a),a[0]&2&&R(i,1)):(i=S8(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(ct(),z(i,1,1,()=>{i=null}),ut())},i(o){n||(R(s),R(i),n=!0)},o(o){z(s),z(i),n=!1},d(o){s&&s.d(o),o&&ie(e),i&&i.d(o),o&&ie(t)}}}function KQ(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[UQ]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[10],showSheet:r[11],$$slots:{default:[JQ]},$$scope:{ctx:r}}}),n.$on("close-button",r[20]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&512|o[1]&32768&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&1024&&(l.title=i[10]),o[0]&2048&&(l.showSheet=i[11]),o[0]&12799|o[1]&32768&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function XQ(r,e,t){let n,s=!1,i=["SN","Name","Class","Student Code","Actions"],o=[],a,l,c,u=[],f,h=[],d=[],p,g,w,v={id:"",name:"",firstName:"",surname:"",class:"",classId:"",studentCode:"",photo:""},_="";const k=()=>{t(12,v={id:"",name:"",firstName:"",surname:"",class:"",classId:"",studentCode:"",photo:""})},A={addNewStudent:"Add New Student",edit:"Edit Student Info",assignSubjects:"Assign Subjects"};br(()=>{C(),N(),ze.get("/api/classes",{onSuccess:K=>{t(4,o=K.data.flatMap(W=>[{placeholder:W.class_name,value:W.id}]))}})});const C=()=>{ze.get("/api/students",{onSuccess:K=>{t(9,d=K.data)}})},N=()=>{ze.get("/api/subjects",{onSuccess:K=>{t(8,u=K.data)}})},T=()=>{t(3,s=!0),ze.post("/api/student/create",{profilePic:_,classId:c.value,firstName:a.value,surname:l.value},{onSuccess:K=>{C(),E(),t(3,s=!1)},onError:K=>{t(3,s=!1)}})},O=K=>{t(12,v.id=K.studentId,v),t(12,v.firstName=K.firstName,v),t(12,v.surname=K.surname,v),t(12,v.classId=K.classId,v),t(12,v.class=K.class,v),t(12,v.photo=K.photo,v),t(2,_=K.photo),Q(A.edit)},D=()=>{t(3,s=!0),ze.post("/api/student/update",{profilePic:_,studentId:v.id,classId:c.value,firstName:a.value,surname:l.value},{onSuccess:K=>{C(),E(),t(3,s=!1)},onError:K=>{t(3,s=!1)}})},Q=K=>{t(1,p=K),p===A.addNewStudent&&t(10,g=A.addNewStudent),p===A.edit&&t(10,g=A.edit),p===A.assignSubjects&&t(10,g=A.assignSubjects),t(11,w=!0)},E=()=>{t(11,w=!1),k()},j=K=>{t(12,v.id=d[K].studentId,v),ze.get("/api/student/assigned-subjects/"+v.id,{onSuccess:W=>{t(24,h=W.data)}}),Q(A.assignSubjects)},J=K=>{if(n(K.subjectId)){t(24,h=h.filter(W=>W.subjectId!=K.subjectId));return}h.push(K),t(24,h)},U=()=>{t(3,s=!0),ze.post("/api/student/assign-subjects",{studentId:v.id,subjects:h},{onSuccess:K=>{E(),t(3,s=!1)},onError:K=>{t(3,s=!1)}})},ne=()=>Q(A.addNewStudent),G=K=>O(K),ae=K=>j(K);function q(K){zr[K?"unshift":"push"](()=>{a=K,t(5,a)})}const F=K=>t(12,v.firstName=K.detail.input,v);function te(K){zr[K?"unshift":"push"](()=>{l=K,t(6,l)})}const B=K=>t(12,v.surname=K.detail.input,v);function L(K){zr[K?"unshift":"push"](()=>{c=K,t(7,c)})}const Y=K=>{t(12,v.classId=K.detail.value,v),t(12,v.class=K.detail.placeholder,v)};function re(){f=this.files,t(0,f),t(2,_)}const X=K=>J(K);return r.$$.update=()=>{if(r.$$.dirty[0]&16777216&&t(13,n=K=>h.some(W=>W.subjectId==K)),r.$$.dirty[0]&5&&f&&f[0]){t(0,f=f[0]);let K=document.getElementById("preview"),W=new FileReader;W.onload=function(pe){K.setAttribute("src",pe.target.result),K.style.display="flex",t(2,_=K.getAttribute("src")),t(12,v.photo=_,v)},W.readAsDataURL(f)}r.$$.dirty[0]&16777218&&t(3,s=p===A.assignSubjects&&h.length===0)},[f,p,_,s,o,a,l,c,u,d,g,w,v,n,i,A,T,O,D,Q,E,j,J,U,h,ne,G,ae,q,F,te,B,L,Y,re,X]}let ZQ=class extends It{constructor(e){super(),Ot(this,e,XQ,KQ,xt,{},null,[-1,-1])}};const eG=Object.freeze(Object.defineProperty({__proto__:null,default:ZQ},Symbol.toStringTag,{value:"Module"}));function T8(r,e,t){const n=r.slice();return n[16]=e[t],n[18]=t,n}function N8(r,e){let t,n,s=e[18]+1+"",i,o,a,l=e[16].subjectName+"",c,u,f,h,d,p,g,w,v;function _(){return e[11](e[16])}return d=new ft({props:{buttonText:"Edit",className:"text-xs w-20"}}),d.$on("click",_),g=new ft({props:{buttonText:"Delete",className:"text-xs w-20 bg-red-500 hover:bg-red-400 focus:bg-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),h=x("div"),de(d.$$.fragment),p=I(),de(g.$$.fragment),w=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(h,"class","flex space-x-3"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(k,A){oe(k,t,A),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,h),ue(d,h,null),m(h,p),ue(g,h,null),m(t,w),v=!0},p(k,A){e=k,(!v||A&2)&&s!==(s=e[18]+1+"")&&rt(i,s),(!v||A&2)&&l!==(l=e[16].subjectName+"")&&rt(c,l)},i(k){v||(R(d.$$.fragment,k),R(g.$$.fragment,k),v=!0)},o(k){z(d.$$.fragment,k),z(g.$$.fragment,k),v=!1},d(k){k&&ie(t),fe(d),fe(g)}}}function tG(r){let e=[],t=new Map,n,s,i=r[1];const o=a=>a[16].subjectId;for(let a=0;a<i.length;a+=1){let l=T8(r,i,a),c=o(l);t.set(c,e[a]=N8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&1026&&(i=a[1],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,N8,n,T8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function rG(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"book",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"New Subject",className:"text-sm"}}),c.$on("click",r[7]),f=new zi({props:{headings:r[5],$$slots:{default:[tG]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Subjects",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-medium text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","container my-28")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p&524290&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function nG(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[8]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function sG(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[9]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function iG(r){let e,t,n,s,i,o,a,l;n=new Gr({props:{value:r[0],label:"Enter Subject Name"}}),n.$on("input",r[12]);const c=[sG,nG],u=[];function f(h,d){return h[2]?0:1}return o=f(r),a=u[o]=c[o](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),a.c(),b(i,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(h,d){oe(h,e,d),m(e,t),ue(n,t,null),m(e,s),m(e,i),u[o].m(i,null),l=!0},p(h,d){const p={};d&1&&(p.value=h[0]),n.$set(p);let g=o;o=f(h),o===g?u[o].p(h,d):(ct(),z(u[g],1,1,()=>{u[g]=null}),ut(),a=u[o],a?a.p(h,d):(a=u[o]=c[o](h),a.c()),R(a,1),a.m(i,null))},i(h){l||(R(n.$$.fragment,h),R(a),l=!0)},o(h){z(n.$$.fragment,h),z(a),l=!1},d(h){h&&ie(e),fe(n),u[o].d()}}}function oG(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[rG]},$$scope:{ctx:r}}}),n=new Ni({props:{title:"Create New Subject",showSheet:r[4],$$slots:{default:[iG]},$$scope:{ctx:r}}}),n.$on("close-button",r[6]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,[o]){const a={};o&524290&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o&16&&(l.showSheet=i[4]),o&524301&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function aG(r,e,t){let n=["SN","Subject Name","Actions"],s=[],i="",o,a=!1;br(()=>{h()});let l=!1;const c=()=>{t(4,l=!1),f()},u=()=>t(4,l=!0),f=()=>{t(2,o=void 0),t(0,i="")},h=()=>{ze.get("/api/subjects",{onSuccess:_=>{t(1,s=_.data)}})},d=()=>{t(3,a=!0),ze.post("/api/subject/create",{subjectName:i},{onSuccess:_=>{h(),f(),c(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},p=()=>{t(3,a=!0),ze.post("/api/subject/update",{subjectName:i,subjectId:o},{onSuccess:_=>{h(),f(),c(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},g=(_,k)=>{t(2,o=_),t(0,i=k),u()},w=_=>g(_.subjectId,_.subjectName),v=_=>t(0,i=_.detail.input);return r.$$.update=()=>{r.$$.dirty&1&&t(3,a=i.length===0)},[i,s,o,a,l,n,c,u,d,p,g,w,v]}let lG=class extends It{constructor(e){super(),Ot(this,e,aG,oG,xt,{})}};const cG=Object.freeze(Object.defineProperty({__proto__:null,default:lG},Symbol.toStringTag,{value:"Module"}));function M8(r,e,t){const n=r.slice();return n[52]=e[t],n[54]=t,n}function C8(r,e,t){const n=r.slice();return n[55]=e[t],n[57]=t,n}function L8(r,e,t){const n=r.slice();return n[55]=e[t],n}function $8(r,e,t){const n=r.slice();return n[52]=e[t],n}function O8(r,e,t){const n=r.slice();return n[62]=e[t],n[64]=t,n}function uG(r){let e,t,n,s,i,o,a,l,c;function u(){return r[37](r[64])}function f(){return r[38](r[64])}function h(){return r[39](r[64])}function d(){return r[40](r[64])}return{c(){e=x("button"),e.textContent="Edit",t=I(),n=x("button"),n.textContent="Assign Subjects",s=I(),i=x("button"),i.textContent="Assign Classes",o=I(),a=x("button"),a.textContent="Assign Class Subjects",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(n,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(i,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(a,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(p,g){oe(p,e,g),oe(p,t,g),oe(p,n,g),oe(p,s,g),oe(p,i,g),oe(p,o,g),oe(p,a,g),l||(c=[ht(e,"click",u),ht(n,"click",f),ht(i,"click",h),ht(a,"click",d)],l=!0)},p(p,g){r=p},d(p){p&&ie(e),p&&ie(t),p&&ie(n),p&&ie(s),p&&ie(i),p&&ie(o),p&&ie(a),l=!1,Wr(c)}}}function I8(r,e){let t,n,s=e[64]+1+"",i,o,a,l=e[62].name+"",c,u,f,h=e[62].email+"",d,p,g,w,v,_,k;return v=new el({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[uG]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),d=Be(h),p=I(),g=x("td"),w=x("div"),de(v.$$.fragment),_=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(f,"class","px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"),b(w,"class","w-40"),b(g,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(A,C){oe(A,t,C),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,d),m(t,p),m(t,g),m(g,w),ue(v,w,null),m(t,_),k=!0},p(A,C){e=A,(!k||C[0]&8)&&s!==(s=e[64]+1+"")&&rt(i,s),(!k||C[0]&8)&&l!==(l=e[62].name+"")&&rt(c,l),(!k||C[0]&8)&&h!==(h=e[62].email+"")&&rt(d,h);const N={};C[0]&8|C[2]&8&&(N.$$scope={dirty:C,ctx:e}),v.$set(N)},i(A){k||(R(v.$$.fragment,A),k=!0)},o(A){z(v.$$.fragment,A),k=!1},d(A){A&&ie(t),fe(v)}}}function fG(r){let e=[],t=new Map,n,s,i=r[3];const o=a=>a[62].id;for(let a=0;a<i.length;a+=1){let l=O8(r,i,a),c=o(l);t.set(c,e[a]=I8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l[0]&15728648&&(i=a[3],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,I8,n,O8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function dG(r){let e,t,n,s,i,o,a,l,c,u,f,h,d;return i=new Tt({props:{icon:"user",className:"h-6 w-6"}}),u=new ft({props:{buttonText:"Add New Teacher",className:"text-sm"}}),u.$on("click",r[36]),h=new zi({props:{headings:r[17],$$slots:{default:[fG]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),s=x("div"),de(i.$$.fragment),o=I(),a=x("span"),a.textContent="Teachers",l=I(),c=x("div"),de(u.$$.fragment),f=I(),de(h.$$.fragment),b(a,"class","mx-2 text-lg font-medium text-gray-800"),b(s,"class","flex space-x-3 items-center"),b(n,"class","flex items-center justify-between"),b(t,"class","mx-auto"),b(e,"class","my-28 container")},m(p,g){oe(p,e,g),m(e,t),m(t,n),m(n,s),ue(i,s,null),m(s,o),m(s,a),m(n,l),m(n,c),ue(u,c,null),m(e,f),ue(h,e,null),d=!0},p(p,g){const w={};g[0]&8|g[2]&8&&(w.$$scope={dirty:g,ctx:p}),h.$set(w)},i(p){d||(R(i.$$.fragment,p),R(u.$$.fragment,p),R(h.$$.fragment,p),d=!0)},o(p){z(i.$$.fragment,p),z(u.$$.fragment,p),z(h.$$.fragment,p),d=!1},d(p){p&&ie(e),fe(i),fe(u),fe(h)}}}function E8(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_={value:r[12].name,label:"Enter Teacher's Name"};n=new Gr({props:_}),r[41](n);let k={value:r[12].email,label:"Enter Teacher's Email"};o=new Gr({props:k}),r[42](o);let A={value:r[12].password,label:"Enter Teacher's Password"};c=new Gr({props:A}),r[43](c);let C={value:r[12].phoneNumber,label:"Enter Teacher's Phone Number"};h=new Gr({props:C}),r[44](h);const N=[pG,hG],T=[];function O(D,Q){return D[12].id?0:1}return g=O(r),w=T[g]=N[g](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),de(o.$$.fragment),a=I(),l=x("div"),de(c.$$.fragment),u=I(),f=x("div"),de(h.$$.fragment),d=I(),p=x("div"),w.c(),b(p,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(D,Q){oe(D,e,Q),m(e,t),ue(n,t,null),m(e,s),m(e,i),ue(o,i,null),m(e,a),m(e,l),ue(c,l,null),m(e,u),m(e,f),ue(h,f,null),m(e,d),m(e,p),T[g].m(p,null),v=!0},p(D,Q){const E={};Q[0]&4096&&(E.value=D[12].name),n.$set(E);const j={};Q[0]&4096&&(j.value=D[12].email),o.$set(j);const J={};Q[0]&4096&&(J.value=D[12].password),c.$set(J);const U={};Q[0]&4096&&(U.value=D[12].phoneNumber),h.$set(U);let ne=g;g=O(D),g===ne?T[g].p(D,Q):(ct(),z(T[ne],1,1,()=>{T[ne]=null}),ut(),w=T[g],w?w.p(D,Q):(w=T[g]=N[g](D),w.c()),R(w,1),w.m(p,null))},i(D){v||(R(n.$$.fragment,D),R(o.$$.fragment,D),R(c.$$.fragment,D),R(h.$$.fragment,D),R(w),v=!0)},o(D){z(n.$$.fragment,D),z(o.$$.fragment,D),z(c.$$.fragment,D),z(h.$$.fragment,D),z(w),v=!1},d(D){D&&ie(e),r[41](null),fe(n),r[42](null),fe(o),r[43](null),fe(c),r[44](null),fe(h),T[g].d()}}}function hG(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[19]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function pG(r){let e,t;return e=new ft({props:{disabled:r[4],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[24]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.disabled=n[4]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function P8(r){let e,t,n,s,i,o,a,l,c,u;const f=[gG,mG],h=[];function d(p,g){return p[1].length===0?0:1}return i=d(r),o=h[i]=f[i](r),c=new ft({props:{disabled:r[4],buttonText:"Assign Subjects"}}),c.$on("click",r[25]),{c(){e=x("div"),t=x("p"),t.textContent="Subjects",n=I(),s=x("div"),o.c(),a=I(),l=x("div"),de(c.$$.fragment),b(t,"class","text-gray-800 font-semibold pb-6"),b(s,"class","space-y-3"),b(l,"class","pt-10 w-40"),b(e,"class","flex flex-col space-y-3 p-3")},m(p,g){oe(p,e,g),m(e,t),m(e,n),m(e,s),h[i].m(s,null),m(e,a),m(e,l),ue(c,l,null),u=!0},p(p,g){let w=i;i=d(p),i===w?h[i].p(p,g):(ct(),z(h[w],1,1,()=>{h[w]=null}),ut(),o=h[i],o?o.p(p,g):(o=h[i]=f[i](p),o.c()),R(o,1),o.m(s,null));const v={};g[0]&16&&(v.disabled=p[4]),c.$set(v)},i(p){u||(R(o),R(c.$$.fragment,p),u=!0)},o(p){z(o),z(c.$$.fragment,p),u=!1},d(p){p&&ie(e),h[i].d(),fe(c)}}}function mG(r){let e,t,n=r[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=D8($8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&1073807362){n=o[1];let l;for(l=0;l<n.length;l+=1){const c=$8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=D8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function gG(r){let e;return{c(){e=x("div"),e.innerHTML='<p class="italic text-gray-500">No subjects to add</p>',b(e,"class","flex w-full py-6")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function D8(r){let e,t,n,s,i,o,a,l,c=r[52].subjectName+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[16](r[52].subjectId)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[45](r[52])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[16](r[52].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[16](r[52].subjectId)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[16](r[52].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k[0]&65538&&(A.className=`${r[16](r[52].subjectId)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k[0]&65538&&s!==(s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[16](r[52].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k[0]&2)&&c!==(c=r[52].subjectName+"")&&rt(u,c),(!p||k[0]&65538&&f!==(f=`${r[16](r[52].subjectId)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k[0]&65538&&h!==(h=`flex p-3 border-2 ${r[16](r[52].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function R8(r){let e,t,n,s,i,o,a,l,c,u;const f=[vG,bG],h=[];function d(p,g){return p[0].length===0?0:1}return i=d(r),o=h[i]=f[i](r),c=new ft({props:{disabled:r[4],buttonText:"Assign Classes"}}),c.$on("click",r[26]),{c(){e=x("div"),t=x("p"),t.textContent="Classes",n=I(),s=x("div"),o.c(),a=I(),l=x("div"),de(c.$$.fragment),b(t,"class","text-gray-800 font-semibold pb-6"),b(s,"class","space-y-3"),b(l,"class","pt-10 w-40"),b(e,"class","flex flex-col space-y-3 p-3")},m(p,g){oe(p,e,g),m(e,t),m(e,n),m(e,s),h[i].m(s,null),m(e,a),m(e,l),ue(c,l,null),u=!0},p(p,g){let w=i;i=d(p),i===w?h[i].p(p,g):(ct(),z(h[w],1,1,()=>{h[w]=null}),ut(),o=h[i],o?o.p(p,g):(o=h[i]=f[i](p),o.c()),R(o,1),o.m(s,null));const v={};g[0]&16&&(v.disabled=p[4]),c.$set(v)},i(p){u||(R(o),R(c.$$.fragment,p),u=!0)},o(p){z(o),z(c.$$.fragment,p),u=!1},d(p){p&&ie(e),h[i].d(),fe(c)}}}function bG(r){let e,t,n=r[0],s=[];for(let o=0;o<n.length;o+=1)s[o]=F8(L8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&32769|a[1]&1){n=o[0];let l;for(l=0;l<n.length;l+=1){const c=L8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=F8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function vG(r){let e;return{c(){e=x("div"),e.innerHTML='<p class="italic text-gray-500">No class to add</p>',b(e,"class","flex w-full py-6")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function F8(r){let e,t,n,s,i,o,a,l,c=r[55].class_name+"",u,f,h,d,p,g,w;n=new Tt({props:{icon:"check",className:`${r[15](r[55].id)?"stroke-green-700":"stroke-gray-300"}`}});function v(){return r[46](r[55])}return{c(){e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),d=I(),b(t,"class",s=`flex items-center shrink-0 justify-center  h-[3.2rem] w-[3.2rem] border-2 ${r[15](r[55].id)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[15](r[55].id)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[15](r[55].id)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),m(e,d),p=!0,g||(w=ht(t,"click",v),g=!0)},p(_,k){r=_;const A={};k[0]&32769&&(A.className=`${r[15](r[55].id)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!p||k[0]&32769&&s!==(s=`flex items-center shrink-0 justify-center  h-[3.2rem] w-[3.2rem] border-2 ${r[15](r[55].id)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!p||k[0]&1)&&c!==(c=r[55].class_name+"")&&rt(u,c),(!p||k[0]&32769&&f!==(f=`${r[15](r[55].id)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!p||k[0]&32769&&h!==(h=`flex p-3 border-2 ${r[15](r[55].id)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){p||(R(n.$$.fragment,_),p=!0)},o(_){z(n.$$.fragment,_),p=!1},d(_){_&&ie(e),fe(n),g=!1,w()}}}function j8(r){let e,t,n,s,i,o,a,l,c,u;const f=[wG,yG],h=[];function d(p,g){return p[5].length===0?0:1}return i=d(r),o=h[i]=f[i](r),c=new ft({props:{disabled:r[4],buttonText:"Assign"}}),c.$on("click",r[27]),{c(){e=x("div"),t=x("p"),t.textContent="Class Subjects",n=I(),s=x("div"),o.c(),a=I(),l=x("div"),de(c.$$.fragment),b(t,"class","text-gray-800 font-semibold pb-6"),b(s,"class","space-y-3"),b(l,"class","pt-10 w-40"),b(e,"class","flex flex-col space-y-3 p-3")},m(p,g){oe(p,e,g),m(e,t),m(e,n),m(e,s),h[i].m(s,null),m(e,a),m(e,l),ue(c,l,null),u=!0},p(p,g){let w=i;i=d(p),i===w?h[i].p(p,g):(ct(),z(h[w],1,1,()=>{h[w]=null}),ut(),o=h[i],o?o.p(p,g):(o=h[i]=f[i](p),o.c()),R(o,1),o.m(s,null));const v={};g[0]&16&&(v.disabled=p[4]),c.$set(v)},i(p){u||(R(o),R(c.$$.fragment,p),u=!0)},o(p){z(o),z(c.$$.fragment,p),u=!1},d(p){p&&ie(e),h[i].d(),fe(c)}}}function yG(r){let e,t,n=r[5],s=[];for(let o=0;o<n.length;o+=1)s[o]=z8(M8(r,n,o));const i=o=>z(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=cr()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);oe(o,e,a),t=!0},p(o,a){if(a[0]&16480|a[1]&2){n=o[5];let l;for(l=0;l<n.length;l+=1){const c=M8(o,n,l);s[l]?(s[l].p(c,a),R(s[l],1)):(s[l]=z8(c),s[l].c(),R(s[l],1),s[l].m(e.parentNode,e))}for(ct(),l=n.length;l<s.length;l+=1)i(l);ut()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)R(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)z(s[a]);t=!1},d(o){gr(s,o),o&&ie(e)}}}function wG(r){let e;return{c(){e=x("div"),e.innerHTML='<p class="italic text-gray-500">No Subjects</p>',b(e,"class","flex w-full py-6")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}function B8(r){var v;let e,t,n,s,i,o,a,l,c=r[55].class_name+"",u,f,h,d,p,g;n=new Tt({props:{icon:"check",className:`${r[14]((v=r[5][r[54]])==null?void 0:v.subjectId,r[55].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function w(){return r[47](r[54],r[55])}return{c(){var _,k,A;e=x("div"),t=x("button"),de(n.$$.fragment),i=I(),o=x("div"),a=x("button"),l=x("span"),u=Be(c),b(t,"class",s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[14]((_=r[5][r[54]])==null?void 0:_.subjectId,r[55].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),b(l,"class",f=`${r[14]((k=r[5][r[54]])==null?void 0:k.subjectId,r[55].class_code)?"text-green-700":"text-gray-400"}`),b(a,"type","button"),b(a,"class",h=`flex p-3 border-2 ${r[14]((A=r[5][r[54]])==null?void 0:A.subjectId,r[55].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(o,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(_,k){oe(_,e,k),m(e,t),ue(n,t,null),m(e,i),m(e,o),m(o,a),m(a,l),m(l,u),d=!0,p||(g=ht(t,"click",w),p=!0)},p(_,k){var C,N,T,O;r=_;const A={};k[0]&16480&&(A.className=`${r[14]((C=r[5][r[54]])==null?void 0:C.subjectId,r[55].class_code)?"stroke-green-700":"stroke-gray-300"}`),n.$set(A),(!d||k[0]&16480&&s!==(s=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[14]((N=r[5][r[54]])==null?void 0:N.subjectId,r[55].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(t,"class",s),(!d||k[0]&64)&&c!==(c=r[55].class_name+"")&&rt(u,c),(!d||k[0]&16480&&f!==(f=`${r[14]((T=r[5][r[54]])==null?void 0:T.subjectId,r[55].class_code)?"text-green-700":"text-gray-400"}`))&&b(l,"class",f),(!d||k[0]&16480&&h!==(h=`flex p-3 border-2 ${r[14]((O=r[5][r[54]])==null?void 0:O.subjectId,r[55].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(a,"class",h)},i(_){d||(R(n.$$.fragment,_),d=!0)},o(_){z(n.$$.fragment,_),d=!1},d(_){_&&ie(e),fe(n),p=!1,g()}}}function z8(r){let e,t=r[52].subjectName+"",n,s,i,o,a,l=r[6],c=[];for(let f=0;f<l.length;f+=1)c[f]=B8(C8(r,l,f));const u=f=>z(c[f],1,1,()=>{c[f]=null});return{c(){e=x("p"),n=Be(t),s=I(),i=x("div");for(let f=0;f<c.length;f+=1)c[f].c();o=I(),b(e,"class","font-semibold pt-5"),b(i,"class","ml-4 space-y-3")},m(f,h){oe(f,e,h),m(e,n),oe(f,s,h),oe(f,i,h);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(i,null);m(i,o),a=!0},p(f,h){if((!a||h[0]&32)&&t!==(t=f[52].subjectName+"")&&rt(n,t),h[0]&16480|h[1]&2){l=f[6];let d;for(d=0;d<l.length;d+=1){const p=C8(f,l,d);c[d]?(c[d].p(p,h),R(c[d],1)):(c[d]=B8(p),c[d].c(),R(c[d],1),c[d].m(i,o))}for(ct(),d=l.length;d<c.length;d+=1)u(d);ut()}},i(f){if(!a){for(let h=0;h<l.length;h+=1)R(c[h]);a=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)z(c[h]);a=!1},d(f){f&&ie(e),f&&ie(s),f&&ie(i),gr(c,f)}}}function _G(r){let e,t,n,s,i,o=(r[2]===r[18].addNewTeacher||r[2]===r[18].edit)&&E8(r),a=r[2]===r[18].assignSubjects&&P8(r),l=r[2]===r[18].assignClasses&&R8(r),c=r[2]===r[18].assignClassSubjects&&j8(r);return{c(){o&&o.c(),e=I(),a&&a.c(),t=I(),l&&l.c(),n=I(),c&&c.c(),s=cr()},m(u,f){o&&o.m(u,f),oe(u,e,f),a&&a.m(u,f),oe(u,t,f),l&&l.m(u,f),oe(u,n,f),c&&c.m(u,f),oe(u,s,f),i=!0},p(u,f){u[2]===u[18].addNewTeacher||u[2]===u[18].edit?o?(o.p(u,f),f[0]&4&&R(o,1)):(o=E8(u),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ct(),z(o,1,1,()=>{o=null}),ut()),u[2]===u[18].assignSubjects?a?(a.p(u,f),f[0]&4&&R(a,1)):(a=P8(u),a.c(),R(a,1),a.m(t.parentNode,t)):a&&(ct(),z(a,1,1,()=>{a=null}),ut()),u[2]===u[18].assignClasses?l?(l.p(u,f),f[0]&4&&R(l,1)):(l=R8(u),l.c(),R(l,1),l.m(n.parentNode,n)):l&&(ct(),z(l,1,1,()=>{l=null}),ut()),u[2]===u[18].assignClassSubjects?c?(c.p(u,f),f[0]&4&&R(c,1)):(c=j8(u),c.c(),R(c,1),c.m(s.parentNode,s)):c&&(ct(),z(c,1,1,()=>{c=null}),ut())},i(u){i||(R(o),R(a),R(l),R(c),i=!0)},o(u){z(o),z(a),z(l),z(c),i=!1},d(u){o&&o.d(u),u&&ie(e),a&&a.d(u),u&&ie(t),l&&l.d(u),u&&ie(n),c&&c.d(u),u&&ie(s)}}}function xG(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[dG]},$$scope:{ctx:r}}}),n=new Ni({props:{title:r[11],showSheet:r[13],$$slots:{default:[_G]},$$scope:{ctx:r}}}),n.$on("close-button",r[29]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,o){const a={};o[0]&8|o[2]&8&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o[0]&2048&&(l.title=i[11]),o[0]&8192&&(l.showSheet=i[13]),o[0]&120823|o[2]&8&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function kG(r,e,t){let n,s,i,o=["S/N","Full Name","Email","Actions"],a=[],l=[],c=[],u=!1,f=[],h=[],d=[],p=[],g={},w,v,_,k,A,C,N={id:"",name:"",email:"",password:"",phoneNumber:""},T={addNewTeacher:"Add New Teacher",edit:"Edit Teacher Info",assignSubjects:"Assign Subjects",assignClasses:"Assign Classes",assignClassSubjects:"Assign Class Subjects"},O=!1;const D=()=>{t(12,N={id:"",name:"",email:"",password:"",phoneNumber:""})},Q=()=>{ze.get("/api/teachers",{onSuccess:_e=>{t(3,a=_e.data)}})},E=()=>{ze.get("/api/classes",{onSuccess:_e=>{t(0,l=_e.data)}})},j=()=>{ze.get("/api/subjects",{onSuccess:_e=>{t(1,c=_e.data)}})};br(()=>{Q(),E(),j()});const J=()=>{t(4,u=!0),ze.post("/api/teacher/create",{name:w.value,phoneNumber:_.value,email:v.value,password:k.value},{onSuccess:_e=>{Q(),Y(),t(4,u=!1)},onError:_e=>{t(4,u=!1)}})},U=_e=>{t(12,N.id=a[_e].id,N),t(12,N.name=a[_e].name,N),t(12,N.email=a[_e].email,N),t(12,N.phoneNumber=a[_e].phoneNumber,N),L(T.edit)},ne=_e=>{t(12,N.id=a[_e].id,N),ze.get("/api/teacher/assigned-subjects/"+N.id,{onSuccess:Re=>{t(33,f=Re.data)}}),L(T.assignSubjects)},G=_e=>{t(12,N.id=a[_e].id,N),ze.get("/api/teacher/assigned-classes/"+N.id,{onSuccess:Re=>{t(34,h=Re.data)}}),L(T.assignClasses)},ae=_e=>{t(12,N.id=a[_e].id,N),ze.get("/api/teacher/assigned-classes/"+N.id,{onSuccess:Re=>{t(6,p=Re.data)}}),ze.get("/api/teacher/assigned-subjects/"+N.id,{onSuccess:Re=>{t(5,d=Re.data)}}),ze.get("/api/teacher/assigned-class-subjects/"+N.id,{onSuccess:Re=>{if(Re.data.length===0){t(35,g={});return}t(35,g=Re.data)}}),L(T.assignClassSubjects)},q=()=>{t(4,u=!0),ze.post(`/api/teacher/update/${N.id}`,{name:w.value,phoneNumber:_.value,email:v.value,password:k.value},{onSuccess:_e=>{Q(),Y(),t(4,u=!1)},onError:_e=>{t(4,u=!1)}})},F=()=>{t(4,u=!0),ze.post("/api/teacher/assign-subjects",{teacherId:N.id,subjects:f},{onSuccess:_e=>{Y(),t(4,u=!1)},onError:_e=>{t(4,u=!1)}})},te=()=>{t(4,u=!0),ze.post("/api/teacher/assign-classes",{teacherId:N.id,classes:h},{onSuccess:_e=>{Y(),t(4,u=!1)},onError:_e=>{t(4,u=!1)}})},B=()=>{t(4,u=!0),ze.post("/api/teacher/assign-class-subjects",{teacherId:N.id,classSubjects:g},{onSuccess:_e=>{Y(),t(4,u=!1)},onError:_e=>{t(4,u=!1)}})},L=_e=>{t(2,C=_e),t(11,A=_e),t(13,O=!0)},Y=()=>{D(),t(13,O=!1)},re=_e=>{if(n(_e.subjectId)){t(33,f=f.filter(Re=>Re.subjectId!=_e.subjectId));return}f.push(_e),t(33,f)},X=_e=>{if(s(_e.id)){t(34,h=h.filter(Re=>Re.id!=_e.id));return}h.push(_e),t(34,h)},K=(_e,Re)=>{var Ye;let je=(Ye=d[_e])==null?void 0:Ye.subjectId;i(je,Re)?t(35,g[je]=g[je].filter(yt=>yt!=Re),g):t(35,g[je]=[...g[je]??[],Re],g)},W=()=>L(T.addNewTeacher),pe=_e=>U(_e),be=_e=>ne(_e),Ne=_e=>G(_e),Ae=_e=>ae(_e);function qe(_e){zr[_e?"unshift":"push"](()=>{w=_e,t(7,w)})}function Me(_e){zr[_e?"unshift":"push"](()=>{v=_e,t(8,v)})}function Ee(_e){zr[_e?"unshift":"push"](()=>{k=_e,t(10,k)})}function Le(_e){zr[_e?"unshift":"push"](()=>{_=_e,t(9,_)})}const ve=_e=>re(_e),Xe=_e=>X(_e),nt=(_e,Re)=>K(_e,Re.class_code);return r.$$.update=()=>{r.$$.dirty[1]&4&&t(16,n=_e=>f.some(Re=>Re.subjectId==_e)),r.$$.dirty[1]&8&&t(15,s=_e=>h.some(Re=>Re.id==_e)),r.$$.dirty[1]&16&&t(14,i=(_e,Re)=>{var je;return(je=g[_e])==null?void 0:je.some(Ye=>Ye===Re)}),r.$$.dirty[0]&7|r.$$.dirty[1]&28&&t(4,u=C===T.assignSubjects&&c.length===0||C===T.assignSubjects&&f.length===0||C===T.assignClasses&&l.length===0||C===T.assignClasses&&h.length===0||C===T.assignClassSubjects&&Object.values(g).length===0)},[l,c,C,a,u,d,p,w,v,_,k,A,N,O,i,s,n,o,T,J,U,ne,G,ae,q,F,te,B,L,Y,re,X,K,f,h,g,W,pe,be,Ne,Ae,qe,Me,Ee,Le,ve,Xe,nt]}let SG=class extends It{constructor(e){super(),Ot(this,e,kG,xG,xt,{},null,[-1,-1,-1])}};const AG=Object.freeze(Object.defineProperty({__proto__:null,default:SG},Symbol.toStringTag,{value:"Module"}));function q8(r,e,t){const n=r.slice();return n[0]=e[t],n[17]=t,n}function H8(r,e){let t,n,s=e[17]+1+"",i,o,a,l=e[0].term+"",c,u,f,h,d,p,g,w,v;function _(){return e[11](e[0])}return d=new ft({props:{buttonText:"Edit",className:"text-xs w-20"}}),d.$on("click",_),g=new ft({props:{buttonText:"Delete",className:"text-xs w-20 bg-red-500 hover:bg-red-400 focus:bg-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"}}),{key:r,first:null,c(){t=x("tr"),n=x("td"),i=Be(s),o=I(),a=x("td"),c=Be(l),u=I(),f=x("td"),h=x("div"),de(d.$$.fragment),p=I(),de(g.$$.fragment),w=I(),b(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(h,"class","flex space-x-3"),b(f,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=t},m(k,A){oe(k,t,A),m(t,n),m(n,i),m(t,o),m(t,a),m(a,c),m(t,u),m(t,f),m(f,h),ue(d,h,null),m(h,p),ue(g,h,null),m(t,w),v=!0},p(k,A){e=k,(!v||A&2)&&s!==(s=e[17]+1+"")&&rt(i,s),(!v||A&2)&&l!==(l=e[0].term+"")&&rt(c,l)},i(k){v||(R(d.$$.fragment,k),R(g.$$.fragment,k),v=!0)},o(k){z(d.$$.fragment,k),z(g.$$.fragment,k),v=!1},d(k){k&&ie(t),fe(d),fe(g)}}}function TG(r){let e=[],t=new Map,n,s,i=r[1];const o=a=>a[0].id;for(let a=0;a<i.length;a+=1){let l=q8(r,i,a),c=o(l);t.set(c,e[a]=H8(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=cr()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);oe(a,n,l),s=!0},p(a,l){l&1026&&(i=a[1],ct(),e=Ro(e,l,o,1,a,i,t,n.parentNode,Do,H8,n,q8),ut())},i(a){if(!s){for(let l=0;l<i.length;l+=1)R(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)z(e[l]);s=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&ie(n)}}}function NG(r){let e,t,n,s,i,o,a,l,c,u,f,h;return s=new Tt({props:{icon:"schedule",className:"h-6 w-6"}}),c=new ft({props:{buttonText:"New Term",className:"text-sm"}}),c.$on("click",r[7]),f=new zi({props:{headings:r[5],$$slots:{default:[TG]},$$scope:{ctx:r}}}),{c(){e=x("div"),t=x("div"),n=x("div"),de(s.$$.fragment),i=I(),o=x("span"),o.textContent="Terms",a=I(),l=x("div"),de(c.$$.fragment),u=I(),de(f.$$.fragment),b(o,"class","mx-2 text-lg font-semibold text-gray-800"),b(n,"class","flex space-x-3 items-center"),b(t,"class","flex items-center justify-between"),b(e,"class","my-28 container")},m(d,p){oe(d,e,p),m(e,t),m(t,n),ue(s,n,null),m(n,i),m(n,o),m(t,a),m(t,l),ue(c,l,null),m(e,u),ue(f,e,null),h=!0},p(d,p){const g={};p&262146&&(g.$$scope={dirty:p,ctx:d}),f.$set(g)},i(d){h||(R(s.$$.fragment,d),R(c.$$.fragment,d),R(f.$$.fragment,d),h=!0)},o(d){z(s.$$.fragment,d),z(c.$$.fragment,d),z(f.$$.fragment,d),h=!1},d(d){d&&ie(e),fe(s),fe(c),fe(f)}}}function MG(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Save",className:"text-sm"}}),e.$on("click",r[8]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function CG(r){let e,t;return e=new ft({props:{disabled:r[3],buttonText:"Update",className:"text-sm"}}),e.$on("click",r[9]),{c(){de(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.disabled=n[3]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function LG(r){let e,t,n,s,i,o,a,l;n=new Gr({props:{value:r[0],label:"Enter Term Title",placeholder:"First Term"}}),n.$on("input",r[12]);const c=[CG,MG],u=[];function f(h,d){return h[2]?0:1}return o=f(r),a=u[o]=c[o](r),{c(){e=x("div"),t=x("div"),de(n.$$.fragment),s=I(),i=x("div"),a.c(),b(i,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(h,d){oe(h,e,d),m(e,t),ue(n,t,null),m(e,s),m(e,i),u[o].m(i,null),l=!0},p(h,d){const p={};d&1&&(p.value=h[0]),n.$set(p);let g=o;o=f(h),o===g?u[o].p(h,d):(ct(),z(u[g],1,1,()=>{u[g]=null}),ut(),a=u[o],a?a.p(h,d):(a=u[o]=c[o](h),a.c()),R(a,1),a.m(i,null))},i(h){l||(R(n.$$.fragment,h),R(a),l=!0)},o(h){z(n.$$.fragment,h),z(a),l=!1},d(h){h&&ie(e),fe(n),u[o].d()}}}function $G(r){let e,t,n,s;return e=new Vn({props:{$$slots:{default:[NG]},$$scope:{ctx:r}}}),n=new Ni({props:{title:"Create New Term",showSheet:r[4],$$slots:{default:[LG]},$$scope:{ctx:r}}}),n.$on("close-button",r[6]),{c(){de(e.$$.fragment),t=I(),de(n.$$.fragment)},m(i,o){ue(e,i,o),oe(i,t,o),ue(n,i,o),s=!0},p(i,[o]){const a={};o&262146&&(a.$$scope={dirty:o,ctx:i}),e.$set(a);const l={};o&16&&(l.showSheet=i[4]),o&262157&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){s||(R(e.$$.fragment,i),R(n.$$.fragment,i),s=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),s=!1},d(i){fe(e,i),i&&ie(t),fe(n,i)}}}function OG(r,e,t){let n=["SN","Term","Actions"],s=[],i="",o,a=!1;br(()=>{h()});let l=!1;const c=()=>{t(4,l=!1),f()},u=()=>t(4,l=!0),f=()=>{t(2,o=void 0),t(0,i=""),t(3,a=!1)},h=()=>{ze.get("/api/terms",{onSuccess:_=>{t(1,s=_.data)}})},d=()=>{t(3,a=!0),ze.post("/api/term/create",{term:i},{onSuccess:_=>{h(),c(),f(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},p=()=>{t(3,a=!0),ze.post("/api/term/update",{term:i,termId:o},{onSuccess:_=>{h(),c(),f(),t(3,a=!1)},onError:_=>{t(3,a=!1)}})},g=(_,k)=>{t(2,o=_),t(0,i=k),u()},w=_=>g(_.id,_.term),v=_=>t(0,i=_.detail.input);return r.$$.update=()=>{r.$$.dirty&1&&t(3,a=i.length===0)},[i,s,o,a,l,n,c,u,d,p,g,w,v]}class IG extends It{constructor(e){super(),Ot(this,e,OG,$G,xt,{})}}const EG=Object.freeze(Object.defineProperty({__proto__:null,default:IG},Symbol.toStringTag,{value:"Module"}));function PG(r){let e,t,n,s,i,o,a,l,c,u,f,h,d,p,g,w,v,_,k,A,C,N,T,O;return C=new ft({props:{disabled:r[2],buttonText:"Sign In"}}),C.$on("click",r[3]),{c(){e=x("div"),t=x("div"),n=x("div"),n.innerHTML='<div class="flex items-center h-full px-20 bg-gray-900 bg-opacity-40"><div><div><h2 class="text-5xl font-bold text-white mt-10">SONCAL CBT PORTAL</h2></div></div></div>',s=I(),i=x("div"),o=x("div"),a=x("div"),a.innerHTML=`<div class="flex justify-center mx-auto"><img class="w-auto h-20" src="/images/logo.png" alt=""/></div> 

                    <p class="mt-3 text-gray-500 dark:text-gray-300">Sign in to access your account</p>`,l=I(),c=x("div"),u=x("div"),f=x("label"),f.textContent="Email Address",h=I(),d=x("input"),p=I(),g=x("div"),w=x("div"),w.innerHTML='<label for="password" class="text-sm text-gray-600 dark:text-gray-200">Password</label>',v=I(),_=x("input"),k=I(),A=x("div"),de(C.$$.fragment),b(n,"class","hidden bg-cover lg:block lg:w-2/3"),X8(n,"background-image","url('/images/bg-image-cbt.avif')"),b(a,"class","text-center"),b(f,"for","email"),b(f,"class","block mb-2 text-sm text-gray-600 dark:text-gray-200"),b(d,"type","email"),b(d,"name","email"),b(d,"id","email"),b(d,"placeholder","example@example.com"),b(d,"class","block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40"),b(w,"class","flex justify-between mb-2"),b(_,"type","password"),b(_,"name","password"),b(_,"id","password"),b(_,"placeholder","Your Password"),b(_,"class","block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40"),b(g,"class","mt-6"),b(A,"class","mt-6"),b(c,"class","mt-8"),b(o,"class","flex-1"),b(i,"class","flex items-center w-full max-w-md px-6 mx-auto lg:w-2/6"),b(t,"class","flex justify-center h-screen"),b(e,"class","bg-white dark:bg-gray-900")},m(D,Q){oe(D,e,Q),m(e,t),m(t,n),m(t,s),m(t,i),m(i,o),m(o,a),m(o,l),m(o,c),m(c,u),m(u,f),m(u,h),m(u,d),qu(d,r[0]),m(c,p),m(c,g),m(g,w),m(g,v),m(g,_),qu(_,r[1]),m(c,k),m(c,A),ue(C,A,null),N=!0,T||(O=[ht(d,"input",r[4]),ht(_,"input",r[5])],T=!0)},p(D,[Q]){Q&1&&d.value!==D[0]&&qu(d,D[0]),Q&2&&_.value!==D[1]&&qu(_,D[1]);const E={};Q&4&&(E.disabled=D[2]),C.$set(E)},i(D){N||(R(C.$$.fragment,D),N=!0)},o(D){z(C.$$.fragment,D),N=!1},d(D){D&&ie(e),fe(C),T=!1,Wr(O)}}}function DG(r,e,t){let n,s="",i="";const o=async()=>{t(2,n=!0),await ze.post("/adminer/login",{email:s,password:i},{onSuccess:c=>(localStorage.setItem("token",c.data.token),ze.navigateTo(c.data.url)),onError:c=>{console.log(c)}}),t(2,n=!1)};function a(){s=this.value,t(0,s)}function l(){i=this.value,t(1,i)}return r.$$.update=()=>{r.$$.dirty&3&&t(2,n=!(s&&i))},[s,i,n,o,a,l]}class RG extends It{constructor(e){super(),Ot(this,e,DG,PG,xt,{})}}const FG=Object.freeze(Object.defineProperty({__proto__:null,default:RG},Symbol.toStringTag,{value:"Module"}));function jG(r){let e,t,n,s,i,o,a,l,c,u,f;return{c(){e=x("h1"),e.textContent="Hey There !!!",t=I(),n=new Qk(!1),s=I(),i=x("input"),o=I(),a=x("br"),l=I(),c=x("button"),c.textContent="Verify",n.a=s,b(i,"type","text"),b(i,"class","border px-6 py-4"),b(c,"class","bg-black text-white px-6 py-2.5 rounded")},m(h,d){oe(h,e,d),oe(h,t,d),n.m(r[0],h,d),oe(h,s,d),oe(h,i,d),qu(i,r[1]),oe(h,o,d),oe(h,a,d),oe(h,l,d),oe(h,c,d),u||(f=[ht(i,"input",r[3]),ht(c,"click",r[2])],u=!0)},p(h,[d]){d&1&&n.p(h[0]),d&2&&i.value!==h[1]&&qu(i,h[1])},i:Bt,o:Bt,d(h){h&&ie(e),h&&ie(t),h&&n.d(),h&&ie(s),h&&ie(i),h&&ie(o),h&&ie(a),h&&ie(l),h&&ie(c),u=!1,Wr(f)}}}function BG(r,e,t){let n,s;br(async()=>{await ze.getWithToken("/api/2faa",{onSuccess:a=>{t(0,n=a.qrCode)},onError:a=>{console.log(a)}})});const i=async()=>{await ze.postWithToken("/api/two_factor_verify",{otp:s},{onSuccess:a=>{console.log(a)},onError:a=>{console.log(a)}})};function o(){s=this.value,t(1,s)}return[n,s,i,o]}class zG extends It{constructor(e){super(),Ot(this,e,BG,jG,xt,{})}}const qG=Object.freeze(Object.defineProperty({__proto__:null,default:zG},Symbol.toStringTag,{value:"Module"}));function HG(r){let e;return{c(){e=x("div"),e.innerHTML=`<label for="hs-vertical-checkbox-in-form" class="max-w-xs flex p-3 block w-full bg-white border border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400"><input type="checkbox" class="shrink-0 mt-0.5 border-gray-200 rounded text-blue-600 pointer-events-none focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800" id="hs-vertical-checkbox-in-form"/> 
      <span class="text-sm text-gray-500 ml-3 dark:text-gray-400">Default checkbox</span></label>`,b(e,"class","grid space-y-2")},m(t,n){oe(t,e,n)},p:Bt,i:Bt,o:Bt,d(t){t&&ie(e)}}}class VG extends It{constructor(e){super(),Ot(this,e,null,HG,xt,{})}}const UG=Object.freeze(Object.defineProperty({__proto__:null,default:VG},Symbol.toStringTag,{value:"Module"}));function WG(r){let e,t,n,s,i;const o=r[2].default,a=Oo(o,r,r[1],null);return{c(){e=x("button"),a&&a.c(),t=I(),n=x("span"),s=Be(r[0]),b(n,"class","mx-1 text-sm"),b(e,"class","flex items-center px-4 py-3 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-gray-900 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring focus:ring-gray-400 focus:ring-opacity-80")},m(l,c){oe(l,e,c),a&&a.m(e,null),m(e,t),m(e,n),m(n,s),i=!0},p(l,[c]){a&&a.p&&(!i||c&2)&&Eo(a,o,l,l[1],i?Io(o,l[1],c,null):Po(l[1]),null),(!i||c&1)&&rt(s,l[0])},i(l){i||(R(a,l),i=!0)},o(l){z(a,l),i=!1},d(l){l&&ie(e),a&&a.d(l)}}}function YG(r,e,t){let{$$slots:n={},$$scope:s}=e,{buttonText:i}=e;return r.$$set=o=>{"buttonText"in o&&t(0,i=o.buttonText),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class QG extends It{constructor(e){super(),Ot(this,e,YG,WG,xt,{buttonText:0})}}const GG=Object.freeze(Object.defineProperty({__proto__:null,default:QG},Symbol.toStringTag,{value:"Module"}));c0(()=>import("./preline-6eb4a640.js").then(r=>r.p),[]);c0(()=>Promise.resolve().then(()=>JI),void 0);c0(()=>Promise.resolve().then(()=>Qw),void 0);oC({resolve:r=>Object.assign({"./Pages/CBT/Assessment/Index.svelte":DC,"./Pages/CBT/Assessment/assessment_types/AssessmentTypesView.svelte":QC,"./Pages/CBT/Assessment/standalone/StandaloneAssessment.svelte":aE,"./Pages/CBT/Assessment/standalone/results/Index.svelte":pE,"./Pages/CBT/Assessment/termly/TermlyAssessment.svelte":ME,"./Pages/CBT/Assessment/termly/TermlyAssessmentClasses.svelte":RE,"./Pages/CBT/Assessment/termly/TermlyAssessmentSchedule.svelte":QE,"./Pages/CBT/Assessment/termly/View.svelte":nP,"./Pages/CBT/Assessment/termly/question_bank/Create.svelte":lP,"./Pages/CBT/Assessment/termly/question_bank/CreateSection.svelte":bP,"./Pages/CBT/Assessment/termly/question_bank/Edit.svelte":kP,"./Pages/CBT/Assessment/termly/results/Index.svelte":OP,"./Pages/CBT/Assessment/termly/results/Result.svelte":ED,"./Pages/CBT/CheckIn/Index.svelte":FD,"./Pages/CBT/Exams/Complete.svelte":qD,"./Pages/CBT/Exams/Standalone.svelte":oR,"./Pages/CBT/Exams/Termly/Exam.svelte":dR,"./Pages/CBT/Exams/Termly/Index.svelte":vR,"./Pages/CBT/Questions/Create.svelte":eY,"./Pages/CBT/Questions/assessment_questions.svelte":EW,"./Pages/CBT/Questions/assigned_questions.svelte":BW,"./Pages/CBT/Questions/question_bank.svelte":LW,"./Pages/CBT/Student/Exam.svelte":eR,"./Pages/CBT/Student/ExamIntro.svelte":UD,"./Pages/CBT/Student/Login.svelte":sY,"./Pages/CBT/Student/components/QuestionCard.svelte":KD,"./Pages/CBT/Teacher/CreateQuestions.svelte":_Y,"./Pages/CBT/Teacher/Dashboard.svelte":MY,"./Pages/CBT/Teacher/QuestionBankClasses.svelte":IY,"./Pages/CBT/Teacher/QuestionBankSections.svelte":qY,"./Pages/CBT/Teacher/QuestionsIndex.svelte":YY,"./Pages/CBT/Teacher/SubjectTopics.svelte":nQ,"./Pages/CBT/Teacher/Subjects.svelte":cQ,"./Pages/CBT/Teacher/components/layout.svelte":aY,"./Pages/CBT/Teacher/components/questions_bank.svelte":mY,"./Pages/CBT/Teacher/components/questions_list.svelte":fY,"./Pages/CBT/components/Assessment.svelte":bE,"./Pages/CBT/components/CsvImportCard.svelte":HW,"./Pages/CBT/components/EditableQuestionCard.svelte":yW,"./Pages/CBT/components/ImportMappingCard.svelte":WW,"./Pages/CBT/components/QuestionCard.svelte":TW,"./Pages/CBT/components/TermlyStepOne.svelte":xE,"./Pages/CBT/components/TermlyStepThree.svelte":qE,"./Pages/CBT/components/TermlyStepTwo.svelte":$E,"./Pages/CBT/components/TextEditor.svelte":hW,"./Pages/CBT/components/qchip.svelte":QD,"./Pages/Dashboard/Index.svelte":gQ,"./Pages/SchoolManager/Classes/Index.svelte":MQ,"./Pages/SchoolManager/Sessions/Index.svelte":RQ,"./Pages/SchoolManager/Students/Create.svelte":qQ,"./Pages/SchoolManager/Students/Index.svelte":eG,"./Pages/SchoolManager/Subjects/Index.svelte":cG,"./Pages/SchoolManager/Teachers/Index.svelte":AG,"./Pages/SchoolManager/Terms/Index.svelte":EG,"./Pages/UserManager/Auth/Login.svelte":FG,"./Pages/UserManager/Auth/TwoFactorAuthentication.svelte":qG,"./Pages/components/button.svelte":PS,"./Pages/components/checkbox.svelte":UG,"./Pages/components/data_table.svelte":sA,"./Pages/components/datetimepicker.svelte":eE,"./Pages/components/dropdown.svelte":QS,"./Pages/components/icon_button.svelte":GG,"./Pages/components/icons.svelte":HS,"./Pages/components/input.svelte":jC,"./Pages/components/modal.svelte":TP,"./Pages/components/select.svelte":tA,"./Pages/components/slide_panel.svelte":vC,"./Pages/components/table.svelte":KE,"./Pages/layouts/Layout.svelte":pC})[`./Pages/${r}.svelte`],setup({el:r,App:e,props:t}){new e({target:r,props:t})}});export{Xr as _,Hu as c,vg as g};
